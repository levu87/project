!function(t,e){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(k,t){"use strict";function m(t){return null!=t&&t===t.window}var e=[],S=k.document,n=Object.getPrototypeOf,s=e.slice,g=e.concat,l=e.push,i=e.indexOf,o={},r=o.toString,v=o.hasOwnProperty,a=v.toString,c=a.call(Object),b={},y=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType},d={type:!0,src:!0,nonce:!0,noModule:!0};function x(t,e,o){var n,i,r=(o=o||S).createElement("script");if(r.text=t,e)for(n in d)(i=e[n]||e.getAttribute&&e.getAttribute(n))&&r.setAttribute(n,i);o.head.appendChild(r).parentNode.removeChild(r)}function w(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?o[r.call(t)]||"object":typeof t}var u="3.4.1",T=function(t,e){return new T.fn.init(t,e)},h=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function p(t){var e=!!t&&"length"in t&&t.length,o=w(t);return!y(t)&&!m(t)&&("array"===o||0===e||"number"==typeof e&&0<e&&e-1 in t)}T.fn=T.prototype={jquery:u,constructor:T,length:0,toArray:function(){return s.call(this)},get:function(t){return null==t?s.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=T.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return T.each(this,t)},map:function(o){return this.pushStack(T.map(this,function(t,e){return o.call(t,e,t)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,o=+t+(t<0?e:0);return this.pushStack(0<=o&&o<e?[this[o]]:[])},end:function(){return this.prevObject||this.constructor()},push:l,sort:e.sort,splice:e.splice},T.extend=T.fn.extend=function(){var t,e,o,n,i,r,a=arguments[0]||{},s=1,l=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[s]||{},s++),"object"==typeof a||y(a)||(a={}),s===l&&(a=this,s--);s<l;s++)if(null!=(t=arguments[s]))for(e in t)n=t[e],"__proto__"!==e&&a!==n&&(c&&n&&(T.isPlainObject(n)||(i=Array.isArray(n)))?(o=a[e],r=i&&!Array.isArray(o)?[]:i||T.isPlainObject(o)?o:{},i=!1,a[e]=T.extend(c,r,n)):void 0!==n&&(a[e]=n));return a},T.extend({expando:"jQuery"+(u+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,o;return!(!t||"[object Object]"!==r.call(t)||(e=n(t))&&("function"!=typeof(o=v.call(e,"constructor")&&e.constructor)||a.call(o)!==c))},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t,e){x(t,{nonce:e&&e.nonce})},each:function(t,e){var o,n=0;if(p(t))for(o=t.length;n<o&&!1!==e.call(t[n],n,t[n]);n++);else for(n in t)if(!1===e.call(t[n],n,t[n]))break;return t},trim:function(t){return null==t?"":(t+"").replace(h,"")},makeArray:function(t,e){var o=e||[];return null!=t&&(p(Object(t))?T.merge(o,"string"==typeof t?[t]:t):l.call(o,t)),o},inArray:function(t,e,o){return null==e?-1:i.call(e,t,o)},merge:function(t,e){for(var o=+e.length,n=0,i=t.length;n<o;n++)t[i++]=e[n];return t.length=i,t},grep:function(t,e,o){for(var n=[],i=0,r=t.length,a=!o;i<r;i++)!e(t[i],i)!=a&&n.push(t[i]);return n},map:function(t,e,o){var n,i,r=0,a=[];if(p(t))for(n=t.length;r<n;r++)null!=(i=e(t[r],r,o))&&a.push(i);else for(r in t)null!=(i=e(t[r],r,o))&&a.push(i);return g.apply([],a)},guid:1,support:b}),"function"==typeof Symbol&&(T.fn[Symbol.iterator]=e[Symbol.iterator]),T.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){o["[object "+e+"]"]=e.toLowerCase()});var f=function(o){function u(t,e,o){var n="0x"+e-65536;return n!=n||o?e:n<0?String.fromCharCode(65536+n):String.fromCharCode(n>>10|55296,1023&n|56320)}function i(){C()}var t,p,x,r,a,f,h,m,w,l,c,C,k,s,S,g,d,v,b,T="sizzle"+1*new Date,y=o.document,E=0,n=0,$=lt(),I=lt(),P=lt(),N=lt(),L=function(t,e){return t===e&&(c=!0),0},A={}.hasOwnProperty,e=[],M=e.pop,R=e.push,D=e.push,F=e.slice,H=function(t,e){for(var o=0,n=t.length;o<n;o++)if(t[o]===e)return o;return-1},z="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",B="[\\x20\\t\\r\\n\\f]",O="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",j="\\["+B+"*("+O+")(?:"+B+"*([*^$|!~]?=)"+B+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+O+"))|)"+B+"*\\]",q=":("+O+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+j+")*)|.*)\\)|)",U=new RegExp(B+"+","g"),W=new RegExp("^"+B+"+|((?:^|[^\\\\])(?:\\\\.)*)"+B+"+$","g"),V=new RegExp("^"+B+"*,"+B+"*"),G=new RegExp("^"+B+"*([>+~]|"+B+")"+B+"*"),K=new RegExp(B+"|>"),_=new RegExp(q),Y=new RegExp("^"+O+"$"),X={ID:new RegExp("^#("+O+")"),CLASS:new RegExp("^\\.("+O+")"),TAG:new RegExp("^("+O+"|[*])"),ATTR:new RegExp("^"+j),PSEUDO:new RegExp("^"+q),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+B+"*(even|odd|(([+-]|)(\\d*)n|)"+B+"*(?:([+-]|)"+B+"*(\\d+)|))"+B+"*\\)|)","i"),bool:new RegExp("^(?:"+z+")$","i"),needsContext:new RegExp("^"+B+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+B+"*((?:-\\d)?\\d*)"+B+"*\\)|)(?=[^-]|$)","i")},Z=/HTML$/i,Q=/^(?:input|select|textarea|button)$/i,J=/^h\d$/i,tt=/^[^{]+\{\s*\[native \w/,et=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ot=/[+~]/,nt=new RegExp("\\\\([\\da-f]{1,6}"+B+"?|("+B+")|.)","ig"),it=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,rt=function(t,e){return e?"\0"===t?"ï¿½":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},at=xt(function(t){return!0===t.disabled&&"fieldset"===t.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{D.apply(e=F.call(y.childNodes),y.childNodes),e[y.childNodes.length].nodeType}catch(t){D={apply:e.length?function(t,e){R.apply(t,F.call(e))}:function(t,e){for(var o=t.length,n=0;t[o++]=e[n++];);t.length=o-1}}}function st(t,e,o,n){var i,r,a,s,l,c,d,u=e&&e.ownerDocument,h=e?e.nodeType:9;if(o=o||[],"string"!=typeof t||!t||1!==h&&9!==h&&11!==h)return o;if(!n&&((e?e.ownerDocument||e:y)!==k&&C(e),e=e||k,S)){if(11!==h&&(l=et.exec(t)))if(i=l[1]){if(9===h){if(!(a=e.getElementById(i)))return o;if(a.id===i)return o.push(a),o}else if(u&&(a=u.getElementById(i))&&b(e,a)&&a.id===i)return o.push(a),o}else{if(l[2])return D.apply(o,e.getElementsByTagName(t)),o;if((i=l[3])&&p.getElementsByClassName&&e.getElementsByClassName)return D.apply(o,e.getElementsByClassName(i)),o}if(p.qsa&&!N[t+" "]&&(!g||!g.test(t))&&(1!==h||"object"!==e.nodeName.toLowerCase())){if(d=t,u=e,1===h&&K.test(t)){for((s=e.getAttribute("id"))?s=s.replace(it,rt):e.setAttribute("id",s=T),r=(c=f(t)).length;r--;)c[r]="#"+s+" "+yt(c[r]);d=c.join(","),u=ot.test(t)&&vt(e.parentNode)||e}try{return D.apply(o,u.querySelectorAll(d)),o}catch(e){N(t,!0)}finally{s===T&&e.removeAttribute("id")}}}return m(t.replace(W,"$1"),e,o,n)}function lt(){var n=[];return function t(e,o){return n.push(e+" ")>x.cacheLength&&delete t[n.shift()],t[e+" "]=o}}function ct(t){return t[T]=!0,t}function dt(t){var e=k.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function ut(t,e){for(var o=t.split("|"),n=o.length;n--;)x.attrHandle[o[n]]=e}function ht(t,e){var o=e&&t,n=o&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(n)return n;if(o)for(;o=o.nextSibling;)if(o===e)return-1;return t?1:-1}function pt(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function ft(o){return function(t){var e=t.nodeName.toLowerCase();return("input"===e||"button"===e)&&t.type===o}}function mt(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&at(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function gt(a){return ct(function(r){return r=+r,ct(function(t,e){for(var o,n=a([],t.length,r),i=n.length;i--;)t[o=n[i]]&&(t[o]=!(e[o]=t[o]))})})}function vt(t){return t&&void 0!==t.getElementsByTagName&&t}for(t in p=st.support={},a=st.isXML=function(t){var e=t.namespaceURI,o=(t.ownerDocument||t).documentElement;return!Z.test(e||o&&o.nodeName||"HTML")},C=st.setDocument=function(t){var e,o,n=t?t.ownerDocument||t:y;return n!==k&&9===n.nodeType&&n.documentElement&&(s=(k=n).documentElement,S=!a(k),y!==k&&(o=k.defaultView)&&o.top!==o&&(o.addEventListener?o.addEventListener("unload",i,!1):o.attachEvent&&o.attachEvent("onunload",i)),p.attributes=dt(function(t){return t.className="i",!t.getAttribute("className")}),p.getElementsByTagName=dt(function(t){return t.appendChild(k.createComment("")),!t.getElementsByTagName("*").length}),p.getElementsByClassName=tt.test(k.getElementsByClassName),p.getById=dt(function(t){return s.appendChild(t).id=T,!k.getElementsByName||!k.getElementsByName(T).length}),p.getById?(x.filter.ID=function(t){var e=t.replace(nt,u);return function(t){return t.getAttribute("id")===e}},x.find.ID=function(t,e){if(void 0!==e.getElementById&&S){var o=e.getElementById(t);return o?[o]:[]}}):(x.filter.ID=function(t){var o=t.replace(nt,u);return function(t){var e=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return e&&e.value===o}},x.find.ID=function(t,e){if(void 0!==e.getElementById&&S){var o,n,i,r=e.getElementById(t);if(r){if((o=r.getAttributeNode("id"))&&o.value===t)return[r];for(i=e.getElementsByName(t),n=0;r=i[n++];)if((o=r.getAttributeNode("id"))&&o.value===t)return[r]}return[]}}),x.find.TAG=p.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):p.qsa?e.querySelectorAll(t):void 0}:function(t,e){var o,n=[],i=0,r=e.getElementsByTagName(t);if("*"!==t)return r;for(;o=r[i++];)1===o.nodeType&&n.push(o);return n},x.find.CLASS=p.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&S)return e.getElementsByClassName(t)},d=[],g=[],(p.qsa=tt.test(k.querySelectorAll))&&(dt(function(t){s.appendChild(t).innerHTML="<a id='"+T+"'></a><select id='"+T+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]="+B+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||g.push("\\["+B+"*(?:value|"+z+")"),t.querySelectorAll("[id~="+T+"-]").length||g.push("~="),t.querySelectorAll(":checked").length||g.push(":checked"),t.querySelectorAll("a#"+T+"+*").length||g.push(".#.+[+~]")}),dt(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=k.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&g.push("name"+B+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&g.push(":enabled",":disabled"),s.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&g.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),g.push(",.*:")})),(p.matchesSelector=tt.test(v=s.matches||s.webkitMatchesSelector||s.mozMatchesSelector||s.oMatchesSelector||s.msMatchesSelector))&&dt(function(t){p.disconnectedMatch=v.call(t,"*"),v.call(t,"[s!='']:x"),d.push("!=",q)}),g=g.length&&new RegExp(g.join("|")),d=d.length&&new RegExp(d.join("|")),e=tt.test(s.compareDocumentPosition),b=e||tt.test(s.contains)?function(t,e){var o=9===t.nodeType?t.documentElement:t,n=e&&e.parentNode;return t===n||!(!n||1!==n.nodeType||!(o.contains?o.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},L=e?function(t,e){if(t===e)return c=!0,0;var o=!t.compareDocumentPosition-!e.compareDocumentPosition;return o||(1&(o=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!p.sortDetached&&e.compareDocumentPosition(t)===o?t===k||t.ownerDocument===y&&b(y,t)?-1:e===k||e.ownerDocument===y&&b(y,e)?1:l?H(l,t)-H(l,e):0:4&o?-1:1)}:function(t,e){if(t===e)return c=!0,0;var o,n=0,i=t.parentNode,r=e.parentNode,a=[t],s=[e];if(!i||!r)return t===k?-1:e===k?1:i?-1:r?1:l?H(l,t)-H(l,e):0;if(i===r)return ht(t,e);for(o=t;o=o.parentNode;)a.unshift(o);for(o=e;o=o.parentNode;)s.unshift(o);for(;a[n]===s[n];)n++;return n?ht(a[n],s[n]):a[n]===y?-1:s[n]===y?1:0}),k},st.matches=function(t,e){return st(t,null,null,e)},st.matchesSelector=function(t,e){if((t.ownerDocument||t)!==k&&C(t),p.matchesSelector&&S&&!N[e+" "]&&(!d||!d.test(e))&&(!g||!g.test(e)))try{var o=v.call(t,e);if(o||p.disconnectedMatch||t.document&&11!==t.document.nodeType)return o}catch(t){N(e,!0)}return 0<st(e,k,null,[t]).length},st.contains=function(t,e){return(t.ownerDocument||t)!==k&&C(t),b(t,e)},st.attr=function(t,e){(t.ownerDocument||t)!==k&&C(t);var o=x.attrHandle[e.toLowerCase()],n=o&&A.call(x.attrHandle,e.toLowerCase())?o(t,e,!S):void 0;return void 0!==n?n:p.attributes||!S?t.getAttribute(e):(n=t.getAttributeNode(e))&&n.specified?n.value:null},st.escape=function(t){return(t+"").replace(it,rt)},st.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},st.uniqueSort=function(t){var e,o=[],n=0,i=0;if(c=!p.detectDuplicates,l=!p.sortStable&&t.slice(0),t.sort(L),c){for(;e=t[i++];)e===t[i]&&(n=o.push(i));for(;n--;)t.splice(o[n],1)}return l=null,t},r=st.getText=function(t){var e,o="",n=0,i=t.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)o+=r(t)}else if(3===i||4===i)return t.nodeValue}else for(;e=t[n++];)o+=r(e);return o},(x=st.selectors={cacheLength:50,createPseudo:ct,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(nt,u),t[3]=(t[3]||t[4]||t[5]||"").replace(nt,u),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||st.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&st.error(t[0]),t},PSEUDO:function(t){var e,o=!t[6]&&t[2];return X.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":o&&_.test(o)&&(e=f(o,!0))&&(e=o.indexOf(")",o.length-e)-o.length)&&(t[0]=t[0].slice(0,e),t[2]=o.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(nt,u).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=$[t+" "];return e||(e=new RegExp("(^|"+B+")"+t+"("+B+"|$)"))&&$(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(o,n,i){return function(t){var e=st.attr(t,o);return null==e?"!="===n:!n||(e+="","="===n?e===i:"!="===n?e!==i:"^="===n?i&&0===e.indexOf(i):"*="===n?i&&-1<e.indexOf(i):"$="===n?i&&e.slice(-i.length)===i:"~="===n?-1<(" "+e.replace(U," ")+" ").indexOf(i):"|="===n&&(e===i||e.slice(0,i.length+1)===i+"-"))}},CHILD:function(f,t,e,m,g){var v="nth"!==f.slice(0,3),b="last"!==f.slice(-4),y="of-type"===t;return 1===m&&0===g?function(t){return!!t.parentNode}:function(t,e,o){var n,i,r,a,s,l,c=v!=b?"nextSibling":"previousSibling",d=t.parentNode,u=y&&t.nodeName.toLowerCase(),h=!o&&!y,p=!1;if(d){if(v){for(;c;){for(a=t;a=a[c];)if(y?a.nodeName.toLowerCase()===u:1===a.nodeType)return!1;l=c="only"===f&&!l&&"nextSibling"}return!0}if(l=[b?d.firstChild:d.lastChild],b&&h){for(p=(s=(n=(i=(r=(a=d)[T]||(a[T]={}))[a.uniqueID]||(r[a.uniqueID]={}))[f]||[])[0]===E&&n[1])&&n[2],a=s&&d.childNodes[s];a=++s&&a&&a[c]||(p=s=0)||l.pop();)if(1===a.nodeType&&++p&&a===t){i[f]=[E,s,p];break}}else if(h&&(p=s=(n=(i=(r=(a=t)[T]||(a[T]={}))[a.uniqueID]||(r[a.uniqueID]={}))[f]||[])[0]===E&&n[1]),!1===p)for(;(a=++s&&a&&a[c]||(p=s=0)||l.pop())&&((y?a.nodeName.toLowerCase()!==u:1!==a.nodeType)||!++p||(h&&((i=(r=a[T]||(a[T]={}))[a.uniqueID]||(r[a.uniqueID]={}))[f]=[E,p]),a!==t)););return(p-=g)===m||p%m==0&&0<=p/m}}},PSEUDO:function(t,r){var e,a=x.pseudos[t]||x.setFilters[t.toLowerCase()]||st.error("unsupported pseudo: "+t);return a[T]?a(r):1<a.length?(e=[t,t,"",r],x.setFilters.hasOwnProperty(t.toLowerCase())?ct(function(t,e){for(var o,n=a(t,r),i=n.length;i--;)t[o=H(t,n[i])]=!(e[o]=n[i])}):function(t){return a(t,0,e)}):a}},pseudos:{not:ct(function(t){var n=[],i=[],s=h(t.replace(W,"$1"));return s[T]?ct(function(t,e,o,n){for(var i,r=s(t,null,n,[]),a=t.length;a--;)(i=r[a])&&(t[a]=!(e[a]=i))}):function(t,e,o){return n[0]=t,s(n,null,o,i),n[0]=null,!i.pop()}}),has:ct(function(e){return function(t){return 0<st(e,t).length}}),contains:ct(function(e){return e=e.replace(nt,u),function(t){return-1<(t.textContent||r(t)).indexOf(e)}}),lang:ct(function(o){return Y.test(o||"")||st.error("unsupported lang: "+o),o=o.replace(nt,u).toLowerCase(),function(t){var e;do{if(e=S?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(e=e.toLowerCase())===o||0===e.indexOf(o+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var e=o.location&&o.location.hash;return e&&e.slice(1)===t.id},root:function(t){return t===s},focus:function(t){return t===k.activeElement&&(!k.hasFocus||k.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:mt(!1),disabled:mt(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!x.pseudos.empty(t)},header:function(t){return J.test(t.nodeName)},input:function(t){return Q.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:gt(function(){return[0]}),last:gt(function(t,e){return[e-1]}),eq:gt(function(t,e,o){return[o<0?o+e:o]}),even:gt(function(t,e){for(var o=0;o<e;o+=2)t.push(o);return t}),odd:gt(function(t,e){for(var o=1;o<e;o+=2)t.push(o);return t}),lt:gt(function(t,e,o){for(var n=o<0?o+e:e<o?e:o;0<=--n;)t.push(n);return t}),gt:gt(function(t,e,o){for(var n=o<0?o+e:o;++n<e;)t.push(n);return t})}}).pseudos.nth=x.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[t]=pt(t);for(t in{submit:!0,reset:!0})x.pseudos[t]=ft(t);function bt(){}function yt(t){for(var e=0,o=t.length,n="";e<o;e++)n+=t[e].value;return n}function xt(s,t,e){var l=t.dir,c=t.next,d=c||l,u=e&&"parentNode"===d,h=n++;return t.first?function(t,e,o){for(;t=t[l];)if(1===t.nodeType||u)return s(t,e,o);return!1}:function(t,e,o){var n,i,r,a=[E,h];if(o){for(;t=t[l];)if((1===t.nodeType||u)&&s(t,e,o))return!0}else for(;t=t[l];)if(1===t.nodeType||u)if(i=(r=t[T]||(t[T]={}))[t.uniqueID]||(r[t.uniqueID]={}),c&&c===t.nodeName.toLowerCase())t=t[l]||t;else{if((n=i[d])&&n[0]===E&&n[1]===h)return a[2]=n[2];if((i[d]=a)[2]=s(t,e,o))return!0}return!1}}function wt(i){return 1<i.length?function(t,e,o){for(var n=i.length;n--;)if(!i[n](t,e,o))return!1;return!0}:i[0]}function Ct(t,e,o,n,i){for(var r,a=[],s=0,l=t.length,c=null!=e;s<l;s++)(r=t[s])&&(o&&!o(r,n,i)||(a.push(r),c&&e.push(s)));return a}function kt(p,f,m,g,v,t){return g&&!g[T]&&(g=kt(g)),v&&!v[T]&&(v=kt(v,t)),ct(function(t,e,o,n){var i,r,a,s=[],l=[],c=e.length,d=t||function(t,e,o){for(var n=0,i=e.length;n<i;n++)st(t,e[n],o);return o}(f||"*",o.nodeType?[o]:o,[]),u=!p||!t&&f?d:Ct(d,s,p,o,n),h=m?v||(t?p:c||g)?[]:e:u;if(m&&m(u,h,o,n),g)for(i=Ct(h,l),g(i,[],o,n),r=i.length;r--;)(a=i[r])&&(h[l[r]]=!(u[l[r]]=a));if(t){if(v||p){if(v){for(i=[],r=h.length;r--;)(a=h[r])&&i.push(u[r]=a);v(null,h=[],i,n)}for(r=h.length;r--;)(a=h[r])&&-1<(i=v?H(t,a):s[r])&&(t[i]=!(e[i]=a))}}else h=Ct(h===e?h.splice(c,h.length):h),v?v(null,e,h,n):D.apply(e,h)})}function St(t){for(var i,e,o,n=t.length,r=x.relative[t[0].type],a=r||x.relative[" "],s=r?1:0,l=xt(function(t){return t===i},a,!0),c=xt(function(t){return-1<H(i,t)},a,!0),d=[function(t,e,o){var n=!r&&(o||e!==w)||((i=e).nodeType?l(t,e,o):c(t,e,o));return i=null,n}];s<n;s++)if(e=x.relative[t[s].type])d=[xt(wt(d),e)];else{if((e=x.filter[t[s].type].apply(null,t[s].matches))[T]){for(o=++s;o<n&&!x.relative[t[o].type];o++);return kt(1<s&&wt(d),1<s&&yt(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(W,"$1"),e,s<o&&St(t.slice(s,o)),o<n&&St(t=t.slice(o)),o<n&&yt(t))}d.push(e)}return wt(d)}return bt.prototype=x.filters=x.pseudos,x.setFilters=new bt,f=st.tokenize=function(t,e){var o,n,i,r,a,s,l,c=I[t+" "];if(c)return e?0:c.slice(0);for(a=t,s=[],l=x.preFilter;a;){for(r in o&&!(n=V.exec(a))||(n&&(a=a.slice(n[0].length)||a),s.push(i=[])),o=!1,(n=G.exec(a))&&(o=n.shift(),i.push({value:o,type:n[0].replace(W," ")}),a=a.slice(o.length)),x.filter)!(n=X[r].exec(a))||l[r]&&!(n=l[r](n))||(o=n.shift(),i.push({value:o,type:r,matches:n}),a=a.slice(o.length));if(!o)break}return e?a.length:a?st.error(t):I(t,s).slice(0)},h=st.compile=function(t,e){var o,g,v,b,y,n,i=[],r=[],a=P[t+" "];if(!a){for(o=(e=e||f(t)).length;o--;)(a=St(e[o]))[T]?i.push(a):r.push(a);(a=P(t,(g=r,b=0<(v=i).length,y=0<g.length,n=function(t,e,o,n,i){var r,a,s,l=0,c="0",d=t&&[],u=[],h=w,p=t||y&&x.find.TAG("*",i),f=E+=null==h?1:Math.random()||.1,m=p.length;for(i&&(w=e===k||e||i);c!==m&&null!=(r=p[c]);c++){if(y&&r){for(a=0,e||r.ownerDocument===k||(C(r),o=!S);s=g[a++];)if(s(r,e||k,o)){n.push(r);break}i&&(E=f)}b&&((r=!s&&r)&&l--,t&&d.push(r))}if(l+=c,b&&c!==l){for(a=0;s=v[a++];)s(d,u,e,o);if(t){if(0<l)for(;c--;)d[c]||u[c]||(u[c]=M.call(n));u=Ct(u)}D.apply(n,u),i&&!t&&0<u.length&&1<l+v.length&&st.uniqueSort(n)}return i&&(E=f,w=h),d},b?ct(n):n))).selector=t}return a},m=st.select=function(t,e,o,n){var i,r,a,s,l,c="function"==typeof t&&t,d=!n&&f(t=c.selector||t);if(o=o||[],1===d.length){if(2<(r=d[0]=d[0].slice(0)).length&&"ID"===(a=r[0]).type&&9===e.nodeType&&S&&x.relative[r[1].type]){if(!(e=(x.find.ID(a.matches[0].replace(nt,u),e)||[])[0]))return o;c&&(e=e.parentNode),t=t.slice(r.shift().value.length)}for(i=X.needsContext.test(t)?0:r.length;i--&&(a=r[i],!x.relative[s=a.type]);)if((l=x.find[s])&&(n=l(a.matches[0].replace(nt,u),ot.test(r[0].type)&&vt(e.parentNode)||e))){if(r.splice(i,1),!(t=n.length&&yt(r)))return D.apply(o,n),o;break}}return(c||h(t,d))(n,e,!S,o,!e||ot.test(t)&&vt(e.parentNode)||e),o},p.sortStable=T.split("").sort(L).join("")===T,p.detectDuplicates=!!c,C(),p.sortDetached=dt(function(t){return 1&t.compareDocumentPosition(k.createElement("fieldset"))}),dt(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||ut("type|href|height|width",function(t,e,o){if(!o)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),p.attributes&&dt(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||ut("value",function(t,e,o){if(!o&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),dt(function(t){return null==t.getAttribute("disabled")})||ut(z,function(t,e,o){var n;if(!o)return!0===t[e]?e.toLowerCase():(n=t.getAttributeNode(e))&&n.specified?n.value:null}),st}(k);T.find=f,T.expr=f.selectors,T.expr[":"]=T.expr.pseudos,T.uniqueSort=T.unique=f.uniqueSort,T.text=f.getText,T.isXMLDoc=f.isXML,T.contains=f.contains,T.escapeSelector=f.escape;function C(t,e,o){for(var n=[],i=void 0!==o;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(i&&T(t).is(o))break;n.push(t)}return n}function E(t,e){for(var o=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&o.push(t);return o}var $=T.expr.match.needsContext;function I(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var P=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function N(t,o,n){return y(o)?T.grep(t,function(t,e){return!!o.call(t,e,t)!==n}):o.nodeType?T.grep(t,function(t){return t===o!==n}):"string"!=typeof o?T.grep(t,function(t){return-1<i.call(o,t)!==n}):T.filter(o,t,n)}T.filter=function(t,e,o){var n=e[0];return o&&(t=":not("+t+")"),1===e.length&&1===n.nodeType?T.find.matchesSelector(n,t)?[n]:[]:T.find.matches(t,T.grep(e,function(t){return 1===t.nodeType}))},T.fn.extend({find:function(t){var e,o,n=this.length,i=this;if("string"!=typeof t)return this.pushStack(T(t).filter(function(){for(e=0;e<n;e++)if(T.contains(i[e],this))return!0}));for(o=this.pushStack([]),e=0;e<n;e++)T.find(t,i[e],o);return 1<n?T.uniqueSort(o):o},filter:function(t){return this.pushStack(N(this,t||[],!1))},not:function(t){return this.pushStack(N(this,t||[],!0))},is:function(t){return!!N(this,"string"==typeof t&&$.test(t)?T(t):t||[],!1).length}});var L,A=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(T.fn.init=function(t,e,o){var n,i;if(!t)return this;if(o=o||L,"string"!=typeof t)return t.nodeType?(this[0]=t,this.length=1,this):y(t)?void 0!==o.ready?o.ready(t):t(T):T.makeArray(t,this);if(!(n="<"===t[0]&&">"===t[t.length-1]&&3<=t.length?[null,t,null]:A.exec(t))||!n[1]&&e)return!e||e.jquery?(e||o).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof T?e[0]:e,T.merge(this,T.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:S,!0)),P.test(n[1])&&T.isPlainObject(e))for(n in e)y(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}return(i=S.getElementById(n[2]))&&(this[0]=i,this.length=1),this}).prototype=T.fn,L=T(S);var M=/^(?:parents|prev(?:Until|All))/,R={children:!0,contents:!0,next:!0,prev:!0};function D(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}T.fn.extend({has:function(t){var e=T(t,this),o=e.length;return this.filter(function(){for(var t=0;t<o;t++)if(T.contains(this,e[t]))return!0})},closest:function(t,e){var o,n=0,i=this.length,r=[],a="string"!=typeof t&&T(t);if(!$.test(t))for(;n<i;n++)for(o=this[n];o&&o!==e;o=o.parentNode)if(o.nodeType<11&&(a?-1<a.index(o):1===o.nodeType&&T.find.matchesSelector(o,t))){r.push(o);break}return this.pushStack(1<r.length?T.uniqueSort(r):r)},index:function(t){return t?"string"==typeof t?i.call(T(t),this[0]):i.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(T.uniqueSort(T.merge(this.get(),T(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),T.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return C(t,"parentNode")},parentsUntil:function(t,e,o){return C(t,"parentNode",o)},next:function(t){return D(t,"nextSibling")},prev:function(t){return D(t,"previousSibling")},nextAll:function(t){return C(t,"nextSibling")},prevAll:function(t){return C(t,"previousSibling")},nextUntil:function(t,e,o){return C(t,"nextSibling",o)},prevUntil:function(t,e,o){return C(t,"previousSibling",o)},siblings:function(t){return E((t.parentNode||{}).firstChild,t)},children:function(t){return E(t.firstChild)},contents:function(t){return void 0!==t.contentDocument?t.contentDocument:(I(t,"template")&&(t=t.content||t),T.merge([],t.childNodes))}},function(n,i){T.fn[n]=function(t,e){var o=T.map(this,i,t);return"Until"!==n.slice(-5)&&(e=t),e&&"string"==typeof e&&(o=T.filter(e,o)),1<this.length&&(R[n]||T.uniqueSort(o),M.test(n)&&o.reverse()),this.pushStack(o)}});var F=/[^\x20\t\r\n\f]+/g;function H(t){return t}function z(t){throw t}function B(t,e,o,n){var i;try{t&&y(i=t.promise)?i.call(t).done(e).fail(o):t&&y(i=t.then)?i.call(t,e,o):e.apply(void 0,[t].slice(n))}catch(t){o.apply(void 0,[t])}}T.Callbacks=function(n){var t,o;n="string"==typeof n?(t=n,o={},T.each(t.match(F)||[],function(t,e){o[e]=!0}),o):T.extend({},n);function i(){for(s=s||n.once,a=r=!0;c.length;d=-1)for(e=c.shift();++d<l.length;)!1===l[d].apply(e[0],e[1])&&n.stopOnFalse&&(d=l.length,e=!1);n.memory||(e=!1),r=!1,s&&(l=e?[]:"")}var r,e,a,s,l=[],c=[],d=-1,u={add:function(){return l&&(e&&!r&&(d=l.length-1,c.push(e)),function o(t){T.each(t,function(t,e){y(e)?n.unique&&u.has(e)||l.push(e):e&&e.length&&"string"!==w(e)&&o(e)})}(arguments),e&&!r&&i()),this},remove:function(){return T.each(arguments,function(t,e){for(var o;-1<(o=T.inArray(e,l,o));)l.splice(o,1),o<=d&&d--}),this},has:function(t){return t?-1<T.inArray(t,l):0<l.length},empty:function(){return l=l&&[],this},disable:function(){return s=c=[],l=e="",this},disabled:function(){return!l},lock:function(){return s=c=[],e||r||(l=e=""),this},locked:function(){return!!s},fireWith:function(t,e){return s||(e=[t,(e=e||[]).slice?e.slice():e],c.push(e),r||i()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!a}};return u},T.extend({Deferred:function(t){var r=[["notify","progress",T.Callbacks("memory"),T.Callbacks("memory"),2],["resolve","done",T.Callbacks("once memory"),T.Callbacks("once memory"),0,"resolved"],["reject","fail",T.Callbacks("once memory"),T.Callbacks("once memory"),1,"rejected"]],i="pending",a={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},catch:function(t){return a.then(null,t)},pipe:function(){var i=arguments;return T.Deferred(function(n){T.each(r,function(t,e){var o=y(i[e[4]])&&i[e[4]];s[e[1]](function(){var t=o&&o.apply(this,arguments);t&&y(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[e[0]+"With"](this,o?[t]:arguments)})}),i=null}).promise()},then:function(e,o,n){var l=0;function c(i,r,a,s){return function(){function t(){var t,e;if(!(i<l)){if((t=a.apply(o,n))===r.promise())throw new TypeError("Thenable self-resolution");e=t&&("object"==typeof t||"function"==typeof t)&&t.then,y(e)?s?e.call(t,c(l,r,H,s),c(l,r,z,s)):(l++,e.call(t,c(l,r,H,s),c(l,r,z,s),c(l,r,H,r.notifyWith))):(a!==H&&(o=void 0,n=[t]),(s||r.resolveWith)(o,n))}}var o=this,n=arguments,e=s?t:function(){try{t()}catch(t){T.Deferred.exceptionHook&&T.Deferred.exceptionHook(t,e.stackTrace),l<=i+1&&(a!==z&&(o=void 0,n=[t]),r.rejectWith(o,n))}};i?e():(T.Deferred.getStackHook&&(e.stackTrace=T.Deferred.getStackHook()),k.setTimeout(e))}}return T.Deferred(function(t){r[0][3].add(c(0,t,y(n)?n:H,t.notifyWith)),r[1][3].add(c(0,t,y(e)?e:H)),r[2][3].add(c(0,t,y(o)?o:z))}).promise()},promise:function(t){return null!=t?T.extend(t,a):a}},s={};return T.each(r,function(t,e){var o=e[2],n=e[5];a[e[1]]=o.add,n&&o.add(function(){i=n},r[3-t][2].disable,r[3-t][3].disable,r[0][2].lock,r[0][3].lock),o.add(e[3].fire),s[e[0]]=function(){return s[e[0]+"With"](this===s?void 0:this,arguments),this},s[e[0]+"With"]=o.fireWith}),a.promise(s),t&&t.call(s,s),s},when:function(t){function e(e){return function(t){i[e]=this,r[e]=1<arguments.length?s.call(arguments):t,--o||a.resolveWith(i,r)}}var o=arguments.length,n=o,i=Array(n),r=s.call(arguments),a=T.Deferred();if(o<=1&&(B(t,a.done(e(n)).resolve,a.reject,!o),"pending"===a.state()||y(r[n]&&r[n].then)))return a.then();for(;n--;)B(r[n],e(n),a.reject);return a.promise()}});var O=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;T.Deferred.exceptionHook=function(t,e){k.console&&k.console.warn&&t&&O.test(t.name)&&k.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},T.readyException=function(t){k.setTimeout(function(){throw t})};var j=T.Deferred();function q(){S.removeEventListener("DOMContentLoaded",q),k.removeEventListener("load",q),T.ready()}T.fn.ready=function(t){return j.then(t).catch(function(t){T.readyException(t)}),this},T.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--T.readyWait:T.isReady)||(T.isReady=!0)!==t&&0<--T.readyWait||j.resolveWith(S,[T])}}),T.ready.then=j.then,"complete"===S.readyState||"loading"!==S.readyState&&!S.documentElement.doScroll?k.setTimeout(T.ready):(S.addEventListener("DOMContentLoaded",q),k.addEventListener("load",q));var U=function(t,e,o,n,i,r,a){var s=0,l=t.length,c=null==o;if("object"===w(o))for(s in i=!0,o)U(t,e,s,o[s],!0,r,a);else if(void 0!==n&&(i=!0,y(n)||(a=!0),c&&(e=a?(e.call(t,n),null):(c=e,function(t,e,o){return c.call(T(t),o)})),e))for(;s<l;s++)e(t[s],o,a?n:n.call(t[s],s,e(t[s],o)));return i?t:c?e.call(t):l?e(t[0],o):r},W=/^-ms-/,V=/-([a-z])/g;function G(t,e){return e.toUpperCase()}function K(t){return t.replace(W,"ms-").replace(V,G)}function _(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType}function Y(){this.expando=T.expando+Y.uid++}Y.uid=1,Y.prototype={cache:function(t){var e=t[this.expando];return e||(e={},_(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,o){var n,i=this.cache(t);if("string"==typeof e)i[K(e)]=o;else for(n in e)i[K(n)]=e[n];return i},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][K(e)]},access:function(t,e,o){return void 0===e||e&&"string"==typeof e&&void 0===o?this.get(t,e):(this.set(t,e,o),void 0!==o?o:e)},remove:function(t,e){var o,n=t[this.expando];if(void 0!==n){if(void 0!==e){o=(e=Array.isArray(e)?e.map(K):(e=K(e))in n?[e]:e.match(F)||[]).length;for(;o--;)delete n[e[o]]}void 0!==e&&!T.isEmptyObject(n)||(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!T.isEmptyObject(e)}};var X=new Y,Z=new Y,Q=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,J=/[A-Z]/g;function tt(t,e,o){var n,i;if(void 0===o&&1===t.nodeType)if(n="data-"+e.replace(J,"-$&").toLowerCase(),"string"==typeof(o=t.getAttribute(n))){try{o="true"===(i=o)||"false"!==i&&("null"===i?null:i===+i+""?+i:Q.test(i)?JSON.parse(i):i)}catch(t){}Z.set(t,e,o)}else o=void 0;return o}T.extend({hasData:function(t){return Z.hasData(t)||X.hasData(t)},data:function(t,e,o){return Z.access(t,e,o)},removeData:function(t,e){Z.remove(t,e)},_data:function(t,e,o){return X.access(t,e,o)},_removeData:function(t,e){X.remove(t,e)}}),T.fn.extend({data:function(o,t){var e,n,i,r=this[0],a=r&&r.attributes;if(void 0!==o)return"object"==typeof o?this.each(function(){Z.set(this,o)}):U(this,function(t){var e;if(r&&void 0===t)return void 0!==(e=Z.get(r,o))?e:void 0!==(e=tt(r,o))?e:void 0;this.each(function(){Z.set(this,o,t)})},null,t,1<arguments.length,null,!0);if(this.length&&(i=Z.get(r),1===r.nodeType&&!X.get(r,"hasDataAttrs"))){for(e=a.length;e--;)a[e]&&0===(n=a[e].name).indexOf("data-")&&(n=K(n.slice(5)),tt(r,n,i[n]));X.set(r,"hasDataAttrs",!0)}return i},removeData:function(t){return this.each(function(){Z.remove(this,t)})}}),T.extend({queue:function(t,e,o){var n;if(t)return e=(e||"fx")+"queue",n=X.get(t,e),o&&(!n||Array.isArray(o)?n=X.access(t,e,T.makeArray(o)):n.push(o)),n||[]},dequeue:function(t,e){e=e||"fx";var o=T.queue(t,e),n=o.length,i=o.shift(),r=T._queueHooks(t,e);"inprogress"===i&&(i=o.shift(),n--),i&&("fx"===e&&o.unshift("inprogress"),delete r.stop,i.call(t,function(){T.dequeue(t,e)},r)),!n&&r&&r.empty.fire()},_queueHooks:function(t,e){var o=e+"queueHooks";return X.get(t,o)||X.access(t,o,{empty:T.Callbacks("once memory").add(function(){X.remove(t,[e+"queue",o])})})}}),T.fn.extend({queue:function(e,o){var t=2;return"string"!=typeof e&&(o=e,e="fx",t--),arguments.length<t?T.queue(this[0],e):void 0===o?this:this.each(function(){var t=T.queue(this,e,o);T._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&T.dequeue(this,e)})},dequeue:function(t){return this.each(function(){T.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){function o(){--i||r.resolveWith(a,[a])}var n,i=1,r=T.Deferred(),a=this,s=this.length;for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)(n=X.get(a[s],t+"queueHooks"))&&n.empty&&(i++,n.empty.add(o));return o(),r.promise(e)}});var et=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ot=new RegExp("^(?:([+-])=|)("+et+")([a-z%]*)$","i"),nt=["Top","Right","Bottom","Left"],it=S.documentElement,rt=function(t){return T.contains(t.ownerDocument,t)},at={composed:!0};it.getRootNode&&(rt=function(t){return T.contains(t.ownerDocument,t)||t.getRootNode(at)===t.ownerDocument});function st(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&rt(t)&&"none"===T.css(t,"display")}function lt(t,e,o,n){var i,r,a={};for(r in e)a[r]=t.style[r],t.style[r]=e[r];for(r in i=o.apply(t,n||[]),e)t.style[r]=a[r];return i}function ct(t,e,o,n){var i,r,a=20,s=n?function(){return n.cur()}:function(){return T.css(t,e,"")},l=s(),c=o&&o[3]||(T.cssNumber[e]?"":"px"),d=t.nodeType&&(T.cssNumber[e]||"px"!==c&&+l)&&ot.exec(T.css(t,e));if(d&&d[3]!==c){for(l/=2,c=c||d[3],d=+l||1;a--;)T.style(t,e,d+c),(1-r)*(1-(r=s()/l||.5))<=0&&(a=0),d/=r;d*=2,T.style(t,e,d+c),o=o||[]}return o&&(d=+d||+l||0,i=o[1]?d+(o[1]+1)*o[2]:+o[2],n&&(n.unit=c,n.start=d,n.end=i)),i}var dt={};function ut(t,e){for(var o,n,i,r,a,s,l,c=[],d=0,u=t.length;d<u;d++)(n=t[d]).style&&(o=n.style.display,e?("none"===o&&(c[d]=X.get(n,"display")||null,c[d]||(n.style.display="")),""===n.style.display&&st(n)&&(c[d]=(l=a=r=void 0,a=(i=n).ownerDocument,s=i.nodeName,(l=dt[s])||(r=a.body.appendChild(a.createElement(s)),l=T.css(r,"display"),r.parentNode.removeChild(r),"none"===l&&(l="block"),dt[s]=l)))):"none"!==o&&(c[d]="none",X.set(n,"display",o)));for(d=0;d<u;d++)null!=c[d]&&(t[d].style.display=c[d]);return t}T.fn.extend({show:function(){return ut(this,!0)},hide:function(){return ut(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){st(this)?T(this).show():T(this).hide()})}});var ht=/^(?:checkbox|radio)$/i,pt=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,ft=/^$|^module$|\/(?:java|ecma)script/i,mt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function gt(t,e){var o;return o=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&I(t,e)?T.merge([t],o):o}function vt(t,e){for(var o=0,n=t.length;o<n;o++)X.set(t[o],"globalEval",!e||X.get(e[o],"globalEval"))}mt.optgroup=mt.option,mt.tbody=mt.tfoot=mt.colgroup=mt.caption=mt.thead,mt.th=mt.td;var bt,yt,xt=/<|&#?\w+;/;function wt(t,e,o,n,i){for(var r,a,s,l,c,d,u=e.createDocumentFragment(),h=[],p=0,f=t.length;p<f;p++)if((r=t[p])||0===r)if("object"===w(r))T.merge(h,r.nodeType?[r]:r);else if(xt.test(r)){for(a=a||u.appendChild(e.createElement("div")),s=(pt.exec(r)||["",""])[1].toLowerCase(),l=mt[s]||mt._default,a.innerHTML=l[1]+T.htmlPrefilter(r)+l[2],d=l[0];d--;)a=a.lastChild;T.merge(h,a.childNodes),(a=u.firstChild).textContent=""}else h.push(e.createTextNode(r));for(u.textContent="",p=0;r=h[p++];)if(n&&-1<T.inArray(r,n))i&&i.push(r);else if(c=rt(r),a=gt(u.appendChild(r),"script"),c&&vt(a),o)for(d=0;r=a[d++];)ft.test(r.type||"")&&o.push(r);return u}bt=S.createDocumentFragment().appendChild(S.createElement("div")),(yt=S.createElement("input")).setAttribute("type","radio"),yt.setAttribute("checked","checked"),yt.setAttribute("name","t"),bt.appendChild(yt),b.checkClone=bt.cloneNode(!0).cloneNode(!0).lastChild.checked,bt.innerHTML="<textarea>x</textarea>",b.noCloneChecked=!!bt.cloneNode(!0).lastChild.defaultValue;var Ct=/^key/,kt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,St=/^([^.]*)(?:\.(.+)|)/;function Tt(){return!0}function Et(){return!1}function $t(t,e){return t===function(){try{return S.activeElement}catch(t){}}()==("focus"===e)}function It(t,e,o,n,i,r){var a,s;if("object"==typeof e){for(s in"string"!=typeof o&&(n=n||o,o=void 0),e)It(t,s,o,n,e[s],r);return t}if(null==n&&null==i?(i=o,n=o=void 0):null==i&&("string"==typeof o?(i=n,n=void 0):(i=n,n=o,o=void 0)),!1===i)i=Et;else if(!i)return t;return 1===r&&(a=i,(i=function(t){return T().off(t),a.apply(this,arguments)}).guid=a.guid||(a.guid=T.guid++)),t.each(function(){T.event.add(this,e,i,n,o)})}function Pt(t,i,r){r?(X.set(t,i,!1),T.event.add(t,i,{namespace:!1,handler:function(t){var e,o,n=X.get(this,i);if(1&t.isTrigger&&this[i]){if(n.length)(T.event.special[i]||{}).delegateType&&t.stopPropagation();else if(n=s.call(arguments),X.set(this,i,n),e=r(this,i),this[i](),n!==(o=X.get(this,i))||e?X.set(this,i,!1):o={},n!==o)return t.stopImmediatePropagation(),t.preventDefault(),o.value}else n.length&&(X.set(this,i,{value:T.event.trigger(T.extend(n[0],T.Event.prototype),n.slice(1),this)}),t.stopImmediatePropagation())}})):void 0===X.get(t,i)&&T.event.add(t,i,Tt)}T.event={global:{},add:function(e,t,o,n,i){var r,a,s,l,c,d,u,h,p,f,m,g=X.get(e);if(g)for(o.handler&&(o=(r=o).handler,i=r.selector),i&&T.find.matchesSelector(it,i),o.guid||(o.guid=T.guid++),(l=g.events)||(l=g.events={}),(a=g.handle)||(a=g.handle=function(t){return void 0!==T&&T.event.triggered!==t.type?T.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||"").match(F)||[""]).length;c--;)p=m=(s=St.exec(t[c])||[])[1],f=(s[2]||"").split(".").sort(),p&&(u=T.event.special[p]||{},p=(i?u.delegateType:u.bindType)||p,u=T.event.special[p]||{},d=T.extend({type:p,origType:m,data:n,handler:o,guid:o.guid,selector:i,needsContext:i&&T.expr.match.needsContext.test(i),namespace:f.join(".")},r),(h=l[p])||((h=l[p]=[]).delegateCount=0,u.setup&&!1!==u.setup.call(e,n,f,a)||e.addEventListener&&e.addEventListener(p,a)),u.add&&(u.add.call(e,d),d.handler.guid||(d.handler.guid=o.guid)),i?h.splice(h.delegateCount++,0,d):h.push(d),T.event.global[p]=!0)},remove:function(t,e,o,n,i){var r,a,s,l,c,d,u,h,p,f,m,g=X.hasData(t)&&X.get(t);if(g&&(l=g.events)){for(c=(e=(e||"").match(F)||[""]).length;c--;)if(p=m=(s=St.exec(e[c])||[])[1],f=(s[2]||"").split(".").sort(),p){for(u=T.event.special[p]||{},h=l[p=(n?u.delegateType:u.bindType)||p]||[],s=s[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=r=h.length;r--;)d=h[r],!i&&m!==d.origType||o&&o.guid!==d.guid||s&&!s.test(d.namespace)||n&&n!==d.selector&&("**"!==n||!d.selector)||(h.splice(r,1),d.selector&&h.delegateCount--,u.remove&&u.remove.call(t,d));a&&!h.length&&(u.teardown&&!1!==u.teardown.call(t,f,g.handle)||T.removeEvent(t,p,g.handle),delete l[p])}else for(p in l)T.event.remove(t,p+e[c],o,n,!0);T.isEmptyObject(l)&&X.remove(t,"handle events")}},dispatch:function(t){var e,o,n,i,r,a,s=T.event.fix(t),l=new Array(arguments.length),c=(X.get(this,"events")||{})[s.type]||[],d=T.event.special[s.type]||{};for(l[0]=s,e=1;e<arguments.length;e++)l[e]=arguments[e];if(s.delegateTarget=this,!d.preDispatch||!1!==d.preDispatch.call(this,s)){for(a=T.event.handlers.call(this,s,c),e=0;(i=a[e++])&&!s.isPropagationStopped();)for(s.currentTarget=i.elem,o=0;(r=i.handlers[o++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!1!==r.namespace&&!s.rnamespace.test(r.namespace)||(s.handleObj=r,s.data=r.data,void 0!==(n=((T.event.special[r.origType]||{}).handle||r.handler).apply(i.elem,l))&&!1===(s.result=n)&&(s.preventDefault(),s.stopPropagation()));return d.postDispatch&&d.postDispatch.call(this,s),s.result}},handlers:function(t,e){var o,n,i,r,a,s=[],l=e.delegateCount,c=t.target;if(l&&c.nodeType&&!("click"===t.type&&1<=t.button))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==t.type||!0!==c.disabled)){for(r=[],a={},o=0;o<l;o++)void 0===a[i=(n=e[o]).selector+" "]&&(a[i]=n.needsContext?-1<T(i,this).index(c):T.find(i,this,null,[c]).length),a[i]&&r.push(n);r.length&&s.push({elem:c,handlers:r})}return c=this,l<e.length&&s.push({elem:c,handlers:e.slice(l)}),s},addProp:function(e,t){Object.defineProperty(T.Event.prototype,e,{enumerable:!0,configurable:!0,get:y(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(t){return t[T.expando]?t:new T.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){var e=this||t;return ht.test(e.type)&&e.click&&I(e,"input")&&Pt(e,"click",Tt),!1},trigger:function(t){var e=this||t;return ht.test(e.type)&&e.click&&I(e,"input")&&Pt(e,"click"),!0},_default:function(t){var e=t.target;return ht.test(e.type)&&e.click&&I(e,"input")&&X.get(e,"click")||I(e,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},T.removeEvent=function(t,e,o){t.removeEventListener&&t.removeEventListener(e,o)},T.Event=function(t,e){if(!(this instanceof T.Event))return new T.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?Tt:Et,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&T.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[T.expando]=!0},T.Event.prototype={constructor:T.Event,isDefaultPrevented:Et,isPropagationStopped:Et,isImmediatePropagationStopped:Et,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=Tt,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=Tt,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=Tt,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},T.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&Ct.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&kt.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},T.event.addProp),T.each({focus:"focusin",blur:"focusout"},function(t,e){T.event.special[t]={setup:function(){return Pt(this,t,$t),!1},trigger:function(){return Pt(this,t),!0},delegateType:e}}),T.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,i){T.event.special[t]={delegateType:i,bindType:i,handle:function(t){var e,o=t.relatedTarget,n=t.handleObj;return o&&(o===this||T.contains(this,o))||(t.type=n.origType,e=n.handler.apply(this,arguments),t.type=i),e}}}),T.fn.extend({on:function(t,e,o,n){return It(this,t,e,o,n)},one:function(t,e,o,n){return It(this,t,e,o,n,1)},off:function(t,e,o){var n,i;if(t&&t.preventDefault&&t.handleObj)return n=t.handleObj,T(t.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"!=typeof t)return!1!==e&&"function"!=typeof e||(o=e,e=void 0),!1===o&&(o=Et),this.each(function(){T.event.remove(this,t,o,e)});for(i in t)this.off(i,e,t[i]);return this}});var Nt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Lt=/<script|<style|<link/i,At=/checked\s*(?:[^=]|=\s*.checked.)/i,Mt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Rt(t,e){return I(t,"table")&&I(11!==e.nodeType?e:e.firstChild,"tr")&&T(t).children("tbody")[0]||t}function Dt(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function Ft(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function Ht(t,e){var o,n,i,r,a,s,l,c;if(1===e.nodeType){if(X.hasData(t)&&(r=X.access(t),a=X.set(e,r),c=r.events))for(i in delete a.handle,a.events={},c)for(o=0,n=c[i].length;o<n;o++)T.event.add(e,i,c[i][o]);Z.hasData(t)&&(s=Z.access(t),l=T.extend({},s),Z.set(e,l))}}function zt(o,n,i,r){n=g.apply([],n);var t,e,a,s,l,c,d=0,u=o.length,h=u-1,p=n[0],f=y(p);if(f||1<u&&"string"==typeof p&&!b.checkClone&&At.test(p))return o.each(function(t){var e=o.eq(t);f&&(n[0]=p.call(this,t,e.html())),zt(e,n,i,r)});if(u&&(e=(t=wt(n,o[0].ownerDocument,!1,o,r)).firstChild,1===t.childNodes.length&&(t=e),e||r)){for(s=(a=T.map(gt(t,"script"),Dt)).length;d<u;d++)l=t,d!==h&&(l=T.clone(l,!0,!0),s&&T.merge(a,gt(l,"script"))),i.call(o[d],l,d);if(s)for(c=a[a.length-1].ownerDocument,T.map(a,Ft),d=0;d<s;d++)l=a[d],ft.test(l.type||"")&&!X.access(l,"globalEval")&&T.contains(c,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?T._evalUrl&&!l.noModule&&T._evalUrl(l.src,{nonce:l.nonce||l.getAttribute("nonce")}):x(l.textContent.replace(Mt,""),l,c))}return o}function Bt(t,e,o){for(var n,i=e?T.filter(e,t):t,r=0;null!=(n=i[r]);r++)o||1!==n.nodeType||T.cleanData(gt(n)),n.parentNode&&(o&&rt(n)&&vt(gt(n,"script")),n.parentNode.removeChild(n));return t}T.extend({htmlPrefilter:function(t){return t.replace(Nt,"<$1></$2>")},clone:function(t,e,o){var n,i,r,a,s,l,c,d=t.cloneNode(!0),u=rt(t);if(!(b.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||T.isXMLDoc(t)))for(a=gt(d),n=0,i=(r=gt(t)).length;n<i;n++)s=r[n],"input"===(c=(l=a[n]).nodeName.toLowerCase())&&ht.test(s.type)?l.checked=s.checked:"input"!==c&&"textarea"!==c||(l.defaultValue=s.defaultValue);if(e)if(o)for(r=r||gt(t),a=a||gt(d),n=0,i=r.length;n<i;n++)Ht(r[n],a[n]);else Ht(t,d);return 0<(a=gt(d,"script")).length&&vt(a,!u&&gt(t,"script")),d},cleanData:function(t){for(var e,o,n,i=T.event.special,r=0;void 0!==(o=t[r]);r++)if(_(o)){if(e=o[X.expando]){if(e.events)for(n in e.events)i[n]?T.event.remove(o,n):T.removeEvent(o,n,e.handle);o[X.expando]=void 0}o[Z.expando]&&(o[Z.expando]=void 0)}}}),T.fn.extend({detach:function(t){return Bt(this,t,!0)},remove:function(t){return Bt(this,t)},text:function(t){return U(this,function(t){return void 0===t?T.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return zt(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Rt(this,t).appendChild(t)})},prepend:function(){return zt(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=Rt(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return zt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return zt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(T.cleanData(gt(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return T.clone(this,t,e)})},html:function(t){return U(this,function(t){var e=this[0]||{},o=0,n=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Lt.test(t)&&!mt[(pt.exec(t)||["",""])[1].toLowerCase()]){t=T.htmlPrefilter(t);try{for(;o<n;o++)1===(e=this[o]||{}).nodeType&&(T.cleanData(gt(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var o=[];return zt(this,arguments,function(t){var e=this.parentNode;T.inArray(this,o)<0&&(T.cleanData(gt(this)),e&&e.replaceChild(t,this))},o)}}),T.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,a){T.fn[t]=function(t){for(var e,o=[],n=T(t),i=n.length-1,r=0;r<=i;r++)e=r===i?this:this.clone(!0),T(n[r])[a](e),l.apply(o,e.get());return this.pushStack(o)}});var Ot,jt,qt,Ut,Wt,Vt,Gt,Kt=new RegExp("^("+et+")(?!px)[a-z%]+$","i"),_t=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=k),e.getComputedStyle(t)},Yt=new RegExp(nt.join("|"),"i");function Xt(t,e,o){var n,i,r,a,s=t.style;return(o=o||_t(t))&&(""!==(a=o.getPropertyValue(e)||o[e])||rt(t)||(a=T.style(t,e)),!b.pixelBoxStyles()&&Kt.test(a)&&Yt.test(e)&&(n=s.width,i=s.minWidth,r=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=o.width,s.width=n,s.minWidth=i,s.maxWidth=r)),void 0!==a?a+"":a}function Zt(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}function Qt(){if(Gt){Vt.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",Gt.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",it.appendChild(Vt).appendChild(Gt);var t=k.getComputedStyle(Gt);Ot="1%"!==t.top,Wt=12===Jt(t.marginLeft),Gt.style.right="60%",Ut=36===Jt(t.right),jt=36===Jt(t.width),Gt.style.position="absolute",qt=12===Jt(Gt.offsetWidth/3),it.removeChild(Vt),Gt=null}}function Jt(t){return Math.round(parseFloat(t))}Vt=S.createElement("div"),(Gt=S.createElement("div")).style&&(Gt.style.backgroundClip="content-box",Gt.cloneNode(!0).style.backgroundClip="",b.clearCloneStyle="content-box"===Gt.style.backgroundClip,T.extend(b,{boxSizingReliable:function(){return Qt(),jt},pixelBoxStyles:function(){return Qt(),Ut},pixelPosition:function(){return Qt(),Ot},reliableMarginLeft:function(){return Qt(),Wt},scrollboxSize:function(){return Qt(),qt}}));var te=["Webkit","Moz","ms"],ee=S.createElement("div").style,oe={};function ne(t){return T.cssProps[t]||oe[t]||(t in ee?t:oe[t]=function(t){for(var e=t[0].toUpperCase()+t.slice(1),o=te.length;o--;)if((t=te[o]+e)in ee)return t}(t)||t)}var ie=/^(none|table(?!-c[ea]).+)/,re=/^--/,ae={position:"absolute",visibility:"hidden",display:"block"},se={letterSpacing:"0",fontWeight:"400"};function le(t,e,o){var n=ot.exec(e);return n?Math.max(0,n[2]-(o||0))+(n[3]||"px"):e}function ce(t,e,o,n,i,r){var a="width"===e?1:0,s=0,l=0;if(o===(n?"border":"content"))return 0;for(;a<4;a+=2)"margin"===o&&(l+=T.css(t,o+nt[a],!0,i)),n?("content"===o&&(l-=T.css(t,"padding"+nt[a],!0,i)),"margin"!==o&&(l-=T.css(t,"border"+nt[a]+"Width",!0,i))):(l+=T.css(t,"padding"+nt[a],!0,i),"padding"!==o?l+=T.css(t,"border"+nt[a]+"Width",!0,i):s+=T.css(t,"border"+nt[a]+"Width",!0,i));return!n&&0<=r&&(l+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-r-l-s-.5))||0),l}function de(t,e,o){var n=_t(t),i=(!b.boxSizingReliable()||o)&&"border-box"===T.css(t,"boxSizing",!1,n),r=i,a=Xt(t,e,n),s="offset"+e[0].toUpperCase()+e.slice(1);if(Kt.test(a)){if(!o)return a;a="auto"}return(!b.boxSizingReliable()&&i||"auto"===a||!parseFloat(a)&&"inline"===T.css(t,"display",!1,n))&&t.getClientRects().length&&(i="border-box"===T.css(t,"boxSizing",!1,n),(r=s in t)&&(a=t[s])),(a=parseFloat(a)||0)+ce(t,e,o||(i?"border":"content"),r,n,a)+"px"}function ue(t,e,o,n,i){return new ue.prototype.init(t,e,o,n,i)}T.extend({cssHooks:{opacity:{get:function(t,e){if(e){var o=Xt(t,"opacity");return""===o?"1":o}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,o,n){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var i,r,a,s=K(e),l=re.test(e),c=t.style;if(l||(e=ne(s)),a=T.cssHooks[e]||T.cssHooks[s],void 0===o)return a&&"get"in a&&void 0!==(i=a.get(t,!1,n))?i:c[e];"string"==(r=typeof o)&&(i=ot.exec(o))&&i[1]&&(o=ct(t,e,i),r="number"),null!=o&&o==o&&("number"!==r||l||(o+=i&&i[3]||(T.cssNumber[s]?"":"px")),b.clearCloneStyle||""!==o||0!==e.indexOf("background")||(c[e]="inherit"),a&&"set"in a&&void 0===(o=a.set(t,o,n))||(l?c.setProperty(e,o):c[e]=o))}},css:function(t,e,o,n){var i,r,a,s=K(e);return re.test(e)||(e=ne(s)),(a=T.cssHooks[e]||T.cssHooks[s])&&"get"in a&&(i=a.get(t,!0,o)),void 0===i&&(i=Xt(t,e,n)),"normal"===i&&e in se&&(i=se[e]),""===o||o?(r=parseFloat(i),!0===o||isFinite(r)?r||0:i):i}}),T.each(["height","width"],function(t,l){T.cssHooks[l]={get:function(t,e,o){if(e)return!ie.test(T.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?de(t,l,o):lt(t,ae,function(){return de(t,l,o)})},set:function(t,e,o){var n,i=_t(t),r=!b.scrollboxSize()&&"absolute"===i.position,a=(r||o)&&"border-box"===T.css(t,"boxSizing",!1,i),s=o?ce(t,l,o,a,i):0;return a&&r&&(s-=Math.ceil(t["offset"+l[0].toUpperCase()+l.slice(1)]-parseFloat(i[l])-ce(t,l,"border",!1,i)-.5)),s&&(n=ot.exec(e))&&"px"!==(n[3]||"px")&&(t.style[l]=e,e=T.css(t,l)),le(0,e,s)}}}),T.cssHooks.marginLeft=Zt(b.reliableMarginLeft,function(t,e){if(e)return(parseFloat(Xt(t,"marginLeft"))||t.getBoundingClientRect().left-lt(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),T.each({margin:"",padding:"",border:"Width"},function(i,r){T.cssHooks[i+r]={expand:function(t){for(var e=0,o={},n="string"==typeof t?t.split(" "):[t];e<4;e++)o[i+nt[e]+r]=n[e]||n[e-2]||n[0];return o}},"margin"!==i&&(T.cssHooks[i+r].set=le)}),T.fn.extend({css:function(t,e){return U(this,function(t,e,o){var n,i,r={},a=0;if(Array.isArray(e)){for(n=_t(t),i=e.length;a<i;a++)r[e[a]]=T.css(t,e[a],!1,n);return r}return void 0!==o?T.style(t,e,o):T.css(t,e)},t,e,1<arguments.length)}}),((T.Tween=ue).prototype={constructor:ue,init:function(t,e,o,n,i,r){this.elem=t,this.prop=o,this.easing=i||T.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=n,this.unit=r||(T.cssNumber[o]?"":"px")},cur:function(){var t=ue.propHooks[this.prop];return t&&t.get?t.get(this):ue.propHooks._default.get(this)},run:function(t){var e,o=ue.propHooks[this.prop];return this.options.duration?this.pos=e=T.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),o&&o.set?o.set(this):ue.propHooks._default.set(this),this}}).init.prototype=ue.prototype,(ue.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=T.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){T.fx.step[t.prop]?T.fx.step[t.prop](t):1!==t.elem.nodeType||!T.cssHooks[t.prop]&&null==t.elem.style[ne(t.prop)]?t.elem[t.prop]=t.now:T.style(t.elem,t.prop,t.now+t.unit)}}}).scrollTop=ue.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},T.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},T.fx=ue.prototype.init,T.fx.step={};var he,pe,fe,me,ge=/^(?:toggle|show|hide)$/,ve=/queueHooks$/;function be(){pe&&(!1===S.hidden&&k.requestAnimationFrame?k.requestAnimationFrame(be):k.setTimeout(be,T.fx.interval),T.fx.tick())}function ye(){return k.setTimeout(function(){he=void 0}),he=Date.now()}function xe(t,e){var o,n=0,i={height:t};for(e=e?1:0;n<4;n+=2-e)i["margin"+(o=nt[n])]=i["padding"+o]=t;return e&&(i.opacity=i.width=t),i}function we(t,e,o){for(var n,i=(Ce.tweeners[e]||[]).concat(Ce.tweeners["*"]),r=0,a=i.length;r<a;r++)if(n=i[r].call(o,e,t))return n}function Ce(r,t,e){var o,a,n=0,i=Ce.prefilters.length,s=T.Deferred().always(function(){delete l.elem}),l=function(){if(a)return!1;for(var t=he||ye(),e=Math.max(0,c.startTime+c.duration-t),o=1-(e/c.duration||0),n=0,i=c.tweens.length;n<i;n++)c.tweens[n].run(o);return s.notifyWith(r,[c,o,e]),o<1&&i?e:(i||s.notifyWith(r,[c,1,0]),s.resolveWith(r,[c]),!1)},c=s.promise({elem:r,props:T.extend({},t),opts:T.extend(!0,{specialEasing:{},easing:T.easing._default},e),originalProperties:t,originalOptions:e,startTime:he||ye(),duration:e.duration,tweens:[],createTween:function(t,e){var o=T.Tween(r,c.opts,t,e,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(o),o},stop:function(t){var e=0,o=t?c.tweens.length:0;if(a)return this;for(a=!0;e<o;e++)c.tweens[e].run(1);return t?(s.notifyWith(r,[c,1,0]),s.resolveWith(r,[c,t])):s.rejectWith(r,[c,t]),this}}),d=c.props;for(function(t,e){var o,n,i,r,a;for(o in t)if(i=e[n=K(o)],r=t[o],Array.isArray(r)&&(i=r[1],r=t[o]=r[0]),o!==n&&(t[n]=r,delete t[o]),(a=T.cssHooks[n])&&"expand"in a)for(o in r=a.expand(r),delete t[n],r)o in t||(t[o]=r[o],e[o]=i);else e[n]=i}(d,c.opts.specialEasing);n<i;n++)if(o=Ce.prefilters[n].call(c,r,d,c.opts))return y(o.stop)&&(T._queueHooks(c.elem,c.opts.queue).stop=o.stop.bind(o)),o;return T.map(d,we,c),y(c.opts.start)&&c.opts.start.call(r,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),T.fx.timer(T.extend(l,{elem:r,anim:c,queue:c.opts.queue})),c}T.Animation=T.extend(Ce,{tweeners:{"*":[function(t,e){var o=this.createTween(t,e);return ct(o.elem,t,ot.exec(e),o),o}]},tweener:function(t,e){for(var o,n=0,i=(t=y(t)?(e=t,["*"]):t.match(F)).length;n<i;n++)o=t[n],Ce.tweeners[o]=Ce.tweeners[o]||[],Ce.tweeners[o].unshift(e)},prefilters:[function(t,e,o){var n,i,r,a,s,l,c,d,u="width"in e||"height"in e,h=this,p={},f=t.style,m=t.nodeType&&st(t),g=X.get(t,"fxshow");for(n in o.queue||(null==(a=T._queueHooks(t,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,h.always(function(){h.always(function(){a.unqueued--,T.queue(t,"fx").length||a.empty.fire()})})),e)if(i=e[n],ge.test(i)){if(delete e[n],r=r||"toggle"===i,i===(m?"hide":"show")){if("show"!==i||!g||void 0===g[n])continue;m=!0}p[n]=g&&g[n]||T.style(t,n)}if((l=!T.isEmptyObject(e))||!T.isEmptyObject(p))for(n in u&&1===t.nodeType&&(o.overflow=[f.overflow,f.overflowX,f.overflowY],null==(c=g&&g.display)&&(c=X.get(t,"display")),"none"===(d=T.css(t,"display"))&&(c?d=c:(ut([t],!0),c=t.style.display||c,d=T.css(t,"display"),ut([t]))),("inline"===d||"inline-block"===d&&null!=c)&&"none"===T.css(t,"float")&&(l||(h.done(function(){f.display=c}),null==c&&(d=f.display,c="none"===d?"":d)),f.display="inline-block")),o.overflow&&(f.overflow="hidden",h.always(function(){f.overflow=o.overflow[0],f.overflowX=o.overflow[1],f.overflowY=o.overflow[2]})),l=!1,p)l||(g?"hidden"in g&&(m=g.hidden):g=X.access(t,"fxshow",{display:c}),r&&(g.hidden=!m),m&&ut([t],!0),h.done(function(){for(n in m||ut([t]),X.remove(t,"fxshow"),p)T.style(t,n,p[n])})),l=we(m?g[n]:0,n,h),n in g||(g[n]=l.start,m&&(l.end=l.start,l.start=0))}],prefilter:function(t,e){e?Ce.prefilters.unshift(t):Ce.prefilters.push(t)}}),T.speed=function(t,e,o){var n=t&&"object"==typeof t?T.extend({},t):{complete:o||!o&&e||y(t)&&t,duration:t,easing:o&&e||e&&!y(e)&&e};return T.fx.off?n.duration=0:"number"!=typeof n.duration&&(n.duration in T.fx.speeds?n.duration=T.fx.speeds[n.duration]:n.duration=T.fx.speeds._default),null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){y(n.old)&&n.old.call(this),n.queue&&T.dequeue(this,n.queue)},n},T.fn.extend({fadeTo:function(t,e,o,n){return this.filter(st).css("opacity",0).show().end().animate({opacity:e},t,o,n)},animate:function(e,t,o,n){function i(){var t=Ce(this,T.extend({},e),a);(r||X.get(this,"finish"))&&t.stop(!0)}var r=T.isEmptyObject(e),a=T.speed(t,o,n);return i.finish=i,r||!1===a.queue?this.each(i):this.queue(a.queue,i)},stop:function(i,t,r){function a(t){var e=t.stop;delete t.stop,e(r)}return"string"!=typeof i&&(r=t,t=i,i=void 0),t&&!1!==i&&this.queue(i||"fx",[]),this.each(function(){var t=!0,e=null!=i&&i+"queueHooks",o=T.timers,n=X.get(this);if(e)n[e]&&n[e].stop&&a(n[e]);else for(e in n)n[e]&&n[e].stop&&ve.test(e)&&a(n[e]);for(e=o.length;e--;)o[e].elem!==this||null!=i&&o[e].queue!==i||(o[e].anim.stop(r),t=!1,o.splice(e,1));!t&&r||T.dequeue(this,i)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var t,e=X.get(this),o=e[a+"queue"],n=e[a+"queueHooks"],i=T.timers,r=o?o.length:0;for(e.finish=!0,T.queue(this,a,[]),n&&n.stop&&n.stop.call(this,!0),t=i.length;t--;)i[t].elem===this&&i[t].queue===a&&(i[t].anim.stop(!0),i.splice(t,1));for(t=0;t<r;t++)o[t]&&o[t].finish&&o[t].finish.call(this);delete e.finish})}}),T.each(["toggle","show","hide"],function(t,n){var i=T.fn[n];T.fn[n]=function(t,e,o){return null==t||"boolean"==typeof t?i.apply(this,arguments):this.animate(xe(n,!0),t,e,o)}}),T.each({slideDown:xe("show"),slideUp:xe("hide"),slideToggle:xe("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,n){T.fn[t]=function(t,e,o){return this.animate(n,t,e,o)}}),T.timers=[],T.fx.tick=function(){var t,e=0,o=T.timers;for(he=Date.now();e<o.length;e++)(t=o[e])()||o[e]!==t||o.splice(e--,1);o.length||T.fx.stop(),he=void 0},T.fx.timer=function(t){T.timers.push(t),T.fx.start()},T.fx.interval=13,T.fx.start=function(){pe||(pe=!0,be())},T.fx.stop=function(){pe=null},T.fx.speeds={slow:600,fast:200,_default:400},T.fn.delay=function(n,t){return n=T.fx&&T.fx.speeds[n]||n,t=t||"fx",this.queue(t,function(t,e){var o=k.setTimeout(t,n);e.stop=function(){k.clearTimeout(o)}})},fe=S.createElement("input"),me=S.createElement("select").appendChild(S.createElement("option")),fe.type="checkbox",b.checkOn=""!==fe.value,b.optSelected=me.selected,(fe=S.createElement("input")).value="t",fe.type="radio",b.radioValue="t"===fe.value;var ke,Se=T.expr.attrHandle;T.fn.extend({attr:function(t,e){return U(this,T.attr,t,e,1<arguments.length)},removeAttr:function(t){return this.each(function(){T.removeAttr(this,t)})}}),T.extend({attr:function(t,e,o){var n,i,r=t.nodeType;if(3!==r&&8!==r&&2!==r)return void 0===t.getAttribute?T.prop(t,e,o):(1===r&&T.isXMLDoc(t)||(i=T.attrHooks[e.toLowerCase()]||(T.expr.match.bool.test(e)?ke:void 0)),void 0!==o?null===o?void T.removeAttr(t,e):i&&"set"in i&&void 0!==(n=i.set(t,o,e))?n:(t.setAttribute(e,o+""),o):i&&"get"in i&&null!==(n=i.get(t,e))?n:null==(n=T.find.attr(t,e))?void 0:n)},attrHooks:{type:{set:function(t,e){if(!b.radioValue&&"radio"===e&&I(t,"input")){var o=t.value;return t.setAttribute("type",e),o&&(t.value=o),e}}}},removeAttr:function(t,e){var o,n=0,i=e&&e.match(F);if(i&&1===t.nodeType)for(;o=i[n++];)t.removeAttribute(o)}}),ke={set:function(t,e,o){return!1===e?T.removeAttr(t,o):t.setAttribute(o,o),o}},T.each(T.expr.match.bool.source.match(/\w+/g),function(t,e){var a=Se[e]||T.find.attr;Se[e]=function(t,e,o){var n,i,r=e.toLowerCase();return o||(i=Se[r],Se[r]=n,n=null!=a(t,e,o)?r:null,Se[r]=i),n}});var Te=/^(?:input|select|textarea|button)$/i,Ee=/^(?:a|area)$/i;function $e(t){return(t.match(F)||[]).join(" ")}function Ie(t){return t.getAttribute&&t.getAttribute("class")||""}function Pe(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(F)||[]}T.fn.extend({prop:function(t,e){return U(this,T.prop,t,e,1<arguments.length)},removeProp:function(t){return this.each(function(){delete this[T.propFix[t]||t]})}}),T.extend({prop:function(t,e,o){var n,i,r=t.nodeType;if(3!==r&&8!==r&&2!==r)return 1===r&&T.isXMLDoc(t)||(e=T.propFix[e]||e,i=T.propHooks[e]),void 0!==o?i&&"set"in i&&void 0!==(n=i.set(t,o,e))?n:t[e]=o:i&&"get"in i&&null!==(n=i.get(t,e))?n:t[e]},propHooks:{tabIndex:{get:function(t){var e=T.find.attr(t,"tabindex");return e?parseInt(e,10):Te.test(t.nodeName)||Ee.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),b.optSelected||(T.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),T.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){T.propFix[this.toLowerCase()]=this}),T.fn.extend({addClass:function(e){var t,o,n,i,r,a,s,l=0;if(y(e))return this.each(function(t){T(this).addClass(e.call(this,t,Ie(this)))});if((t=Pe(e)).length)for(;o=this[l++];)if(i=Ie(o),n=1===o.nodeType&&" "+$e(i)+" "){for(a=0;r=t[a++];)n.indexOf(" "+r+" ")<0&&(n+=r+" ");i!==(s=$e(n))&&o.setAttribute("class",s)}return this},removeClass:function(e){var t,o,n,i,r,a,s,l=0;if(y(e))return this.each(function(t){T(this).removeClass(e.call(this,t,Ie(this)))});if(!arguments.length)return this.attr("class","");if((t=Pe(e)).length)for(;o=this[l++];)if(i=Ie(o),n=1===o.nodeType&&" "+$e(i)+" "){for(a=0;r=t[a++];)for(;-1<n.indexOf(" "+r+" ");)n=n.replace(" "+r+" "," ");i!==(s=$e(n))&&o.setAttribute("class",s)}return this},toggleClass:function(i,e){var r=typeof i,a="string"==r||Array.isArray(i);return"boolean"==typeof e&&a?e?this.addClass(i):this.removeClass(i):y(i)?this.each(function(t){T(this).toggleClass(i.call(this,t,Ie(this),e),e)}):this.each(function(){var t,e,o,n;if(a)for(e=0,o=T(this),n=Pe(i);t=n[e++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else void 0!==i&&"boolean"!=r||((t=Ie(this))&&X.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===i?"":X.get(this,"__className__")||""))})},hasClass:function(t){var e,o,n=0;for(e=" "+t+" ";o=this[n++];)if(1===o.nodeType&&-1<(" "+$e(Ie(o))+" ").indexOf(e))return!0;return!1}});var Ne=/\r/g;T.fn.extend({val:function(o){var n,t,i,e=this[0];return arguments.length?(i=y(o),this.each(function(t){var e;1===this.nodeType&&(null==(e=i?o.call(this,t,T(this).val()):o)?e="":"number"==typeof e?e+="":Array.isArray(e)&&(e=T.map(e,function(t){return null==t?"":t+""})),(n=T.valHooks[this.type]||T.valHooks[this.nodeName.toLowerCase()])&&"set"in n&&void 0!==n.set(this,e,"value")||(this.value=e))})):e?(n=T.valHooks[e.type]||T.valHooks[e.nodeName.toLowerCase()])&&"get"in n&&void 0!==(t=n.get(e,"value"))?t:"string"==typeof(t=e.value)?t.replace(Ne,""):null==t?"":t:void 0}}),T.extend({valHooks:{option:{get:function(t){var e=T.find.attr(t,"value");return null!=e?e:$e(T.text(t))}},select:{get:function(t){var e,o,n,i=t.options,r=t.selectedIndex,a="select-one"===t.type,s=a?null:[],l=a?r+1:i.length;for(n=r<0?l:a?r:0;n<l;n++)if(((o=i[n]).selected||n===r)&&!o.disabled&&(!o.parentNode.disabled||!I(o.parentNode,"optgroup"))){if(e=T(o).val(),a)return e;s.push(e)}return s},set:function(t,e){for(var o,n,i=t.options,r=T.makeArray(e),a=i.length;a--;)((n=i[a]).selected=-1<T.inArray(T.valHooks.option.get(n),r))&&(o=!0);return o||(t.selectedIndex=-1),r}}}}),T.each(["radio","checkbox"],function(){T.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=-1<T.inArray(T(t).val(),e)}},b.checkOn||(T.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),b.focusin="onfocusin"in k;function Le(t){t.stopPropagation()}var Ae=/^(?:focusinfocus|focusoutblur)$/;T.extend(T.event,{trigger:function(t,e,o,n){var i,r,a,s,l,c,d,u,h=[o||S],p=v.call(t,"type")?t.type:t,f=v.call(t,"namespace")?t.namespace.split("."):[];if(r=u=a=o=o||S,3!==o.nodeType&&8!==o.nodeType&&!Ae.test(p+T.event.triggered)&&(-1<p.indexOf(".")&&(p=(f=p.split(".")).shift(),f.sort()),l=p.indexOf(":")<0&&"on"+p,(t=t[T.expando]?t:new T.Event(p,"object"==typeof t&&t)).isTrigger=n?2:3,t.namespace=f.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=o),e=null==e?[t]:T.makeArray(e,[t]),d=T.event.special[p]||{},n||!d.trigger||!1!==d.trigger.apply(o,e))){if(!n&&!d.noBubble&&!m(o)){for(s=d.delegateType||p,Ae.test(s+p)||(r=r.parentNode);r;r=r.parentNode)h.push(r),a=r;a===(o.ownerDocument||S)&&h.push(a.defaultView||a.parentWindow||k)}for(i=0;(r=h[i++])&&!t.isPropagationStopped();)u=r,t.type=1<i?s:d.bindType||p,(c=(X.get(r,"events")||{})[t.type]&&X.get(r,"handle"))&&c.apply(r,e),(c=l&&r[l])&&c.apply&&_(r)&&(t.result=c.apply(r,e),!1===t.result&&t.preventDefault());return t.type=p,n||t.isDefaultPrevented()||d._default&&!1!==d._default.apply(h.pop(),e)||!_(o)||l&&y(o[p])&&!m(o)&&((a=o[l])&&(o[l]=null),T.event.triggered=p,t.isPropagationStopped()&&u.addEventListener(p,Le),o[p](),t.isPropagationStopped()&&u.removeEventListener(p,Le),T.event.triggered=void 0,a&&(o[l]=a)),t.result}},simulate:function(t,e,o){var n=T.extend(new T.Event,o,{type:t,isSimulated:!0});T.event.trigger(n,null,e)}}),T.fn.extend({trigger:function(t,e){return this.each(function(){T.event.trigger(t,e,this)})},triggerHandler:function(t,e){var o=this[0];if(o)return T.event.trigger(t,e,o,!0)}}),b.focusin||T.each({focus:"focusin",blur:"focusout"},function(o,n){function i(t){T.event.simulate(n,t.target,T.event.fix(t))}T.event.special[n]={setup:function(){var t=this.ownerDocument||this,e=X.access(t,n);e||t.addEventListener(o,i,!0),X.access(t,n,(e||0)+1)},teardown:function(){var t=this.ownerDocument||this,e=X.access(t,n)-1;e?X.access(t,n,e):(t.removeEventListener(o,i,!0),X.remove(t,n))}}});var Me=k.location,Re=Date.now(),De=/\?/;T.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{e=(new k.DOMParser).parseFromString(t,"text/xml")}catch(t){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||T.error("Invalid XML: "+t),e};var Fe=/\[\]$/,He=/\r?\n/g,ze=/^(?:submit|button|image|reset|file)$/i,Be=/^(?:input|select|textarea|keygen)/i;function Oe(o,t,n,i){var e;if(Array.isArray(t))T.each(t,function(t,e){n||Fe.test(o)?i(o,e):Oe(o+"["+("object"==typeof e&&null!=e?t:"")+"]",e,n,i)});else if(n||"object"!==w(t))i(o,t);else for(e in t)Oe(o+"["+e+"]",t[e],n,i)}T.param=function(t,e){function o(t,e){var o=y(e)?e():e;i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==o?"":o)}var n,i=[];if(null==t)return"";if(Array.isArray(t)||t.jquery&&!T.isPlainObject(t))T.each(t,function(){o(this.name,this.value)});else for(n in t)Oe(n,t[n],e,o);return i.join("&")},T.fn.extend({serialize:function(){return T.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=T.prop(this,"elements");return t?T.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!T(this).is(":disabled")&&Be.test(this.nodeName)&&!ze.test(t)&&(this.checked||!ht.test(t))}).map(function(t,e){var o=T(this).val();return null==o?null:Array.isArray(o)?T.map(o,function(t){return{name:e.name,value:t.replace(He,"\r\n")}}):{name:e.name,value:o.replace(He,"\r\n")}}).get()}});var je=/%20/g,qe=/#.*$/,Ue=/([?&])_=[^&]*/,We=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ve=/^(?:GET|HEAD)$/,Ge=/^\/\//,Ke={},_e={},Ye="*/".concat("*"),Xe=S.createElement("a");function Ze(r){return function(t,e){"string"!=typeof t&&(e=t,t="*");var o,n=0,i=t.toLowerCase().match(F)||[];if(y(e))for(;o=i[n++];)"+"===o[0]?(o=o.slice(1)||"*",(r[o]=r[o]||[]).unshift(e)):(r[o]=r[o]||[]).push(e)}}function Qe(e,i,r,a){var s={},l=e===_e;function c(t){var n;return s[t]=!0,T.each(e[t]||[],function(t,e){var o=e(i,r,a);return"string"!=typeof o||l||s[o]?l?!(n=o):void 0:(i.dataTypes.unshift(o),c(o),!1)}),n}return c(i.dataTypes[0])||!s["*"]&&c("*")}function Je(t,e){var o,n,i=T.ajaxSettings.flatOptions||{};for(o in e)void 0!==e[o]&&((i[o]?t:n=n||{})[o]=e[o]);return n&&T.extend(!0,t,n),t}Xe.href=Me.href,T.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Me.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Me.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ye,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":T.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?Je(Je(t,T.ajaxSettings),e):Je(T.ajaxSettings,t)},ajaxPrefilter:Ze(Ke),ajaxTransport:Ze(_e),ajax:function(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var d,u,h,o,p,n,f,m,i,r,g=T.ajaxSetup({},e),v=g.context||g,b=g.context&&(v.nodeType||v.jquery)?T(v):T.event,y=T.Deferred(),x=T.Callbacks("once memory"),w=g.statusCode||{},a={},s={},l="canceled",C={readyState:0,getResponseHeader:function(t){var e;if(f){if(!o)for(o={};e=We.exec(h);)o[e[1].toLowerCase()+" "]=(o[e[1].toLowerCase()+" "]||[]).concat(e[2]);e=o[t.toLowerCase()+" "]}return null==e?null:e.join(", ")},getAllResponseHeaders:function(){return f?h:null},setRequestHeader:function(t,e){return null==f&&(t=s[t.toLowerCase()]=s[t.toLowerCase()]||t,a[t]=e),this},overrideMimeType:function(t){return null==f&&(g.mimeType=t),this},statusCode:function(t){var e;if(t)if(f)C.always(t[C.status]);else for(e in t)w[e]=[w[e],t[e]];return this},abort:function(t){var e=t||l;return d&&d.abort(e),c(0,e),this}};if(y.promise(C),g.url=((t||g.url||Me.href)+"").replace(Ge,Me.protocol+"//"),g.type=e.method||e.type||g.method||g.type,g.dataTypes=(g.dataType||"*").toLowerCase().match(F)||[""],null==g.crossDomain){n=S.createElement("a");try{n.href=g.url,n.href=n.href,g.crossDomain=Xe.protocol+"//"+Xe.host!=n.protocol+"//"+n.host}catch(t){g.crossDomain=!0}}if(g.data&&g.processData&&"string"!=typeof g.data&&(g.data=T.param(g.data,g.traditional)),Qe(Ke,g,e,C),f)return C;for(i in(m=T.event&&g.global)&&0==T.active++&&T.event.trigger("ajaxStart"),g.type=g.type.toUpperCase(),g.hasContent=!Ve.test(g.type),u=g.url.replace(qe,""),g.hasContent?g.data&&g.processData&&0===(g.contentType||"").indexOf("application/x-www-form-urlencoded")&&(g.data=g.data.replace(je,"+")):(r=g.url.slice(u.length),g.data&&(g.processData||"string"==typeof g.data)&&(u+=(De.test(u)?"&":"?")+g.data,delete g.data),!1===g.cache&&(u=u.replace(Ue,"$1"),r=(De.test(u)?"&":"?")+"_="+Re+++r),g.url=u+r),g.ifModified&&(T.lastModified[u]&&C.setRequestHeader("If-Modified-Since",T.lastModified[u]),T.etag[u]&&C.setRequestHeader("If-None-Match",T.etag[u])),(g.data&&g.hasContent&&!1!==g.contentType||e.contentType)&&C.setRequestHeader("Content-Type",g.contentType),C.setRequestHeader("Accept",g.dataTypes[0]&&g.accepts[g.dataTypes[0]]?g.accepts[g.dataTypes[0]]+("*"!==g.dataTypes[0]?", "+Ye+"; q=0.01":""):g.accepts["*"]),g.headers)C.setRequestHeader(i,g.headers[i]);if(g.beforeSend&&(!1===g.beforeSend.call(v,C,g)||f))return C.abort();if(l="abort",x.add(g.complete),C.done(g.success),C.fail(g.error),d=Qe(_e,g,e,C)){if(C.readyState=1,m&&b.trigger("ajaxSend",[C,g]),f)return C;g.async&&0<g.timeout&&(p=k.setTimeout(function(){C.abort("timeout")},g.timeout));try{f=!1,d.send(a,c)}catch(t){if(f)throw t;c(-1,t)}}else c(-1,"No Transport");function c(t,e,o,n){var i,r,a,s,l,c=e;f||(f=!0,p&&k.clearTimeout(p),d=void 0,h=n||"",C.readyState=0<t?4:0,i=200<=t&&t<300||304===t,o&&(s=function(t,e,o){for(var n,i,r,a,s=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===n&&(n=t.mimeType||e.getResponseHeader("Content-Type"));if(n)for(i in s)if(s[i]&&s[i].test(n)){l.unshift(i);break}if(l[0]in o)r=l[0];else{for(i in o){if(!l[0]||t.converters[i+" "+l[0]]){r=i;break}a=a||i}r=r||a}if(r)return r!==l[0]&&l.unshift(r),o[r]}(g,C,o)),s=function(t,e,o,n){var i,r,a,s,l,c={},d=t.dataTypes.slice();if(d[1])for(a in t.converters)c[a.toLowerCase()]=t.converters[a];for(r=d.shift();r;)if(t.responseFields[r]&&(o[t.responseFields[r]]=e),!l&&n&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=r,r=d.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(!(a=c[l+" "+r]||c["* "+r]))for(i in c)if((s=i.split(" "))[1]===r&&(a=c[l+" "+s[0]]||c["* "+s[0]])){!0===a?a=c[i]:!0!==c[i]&&(r=s[0],d.unshift(s[1]));break}if(!0!==a)if(a&&t.throws)e=a(e);else try{e=a(e)}catch(t){return{state:"parsererror",error:a?t:"No conversion from "+l+" to "+r}}}return{state:"success",data:e}}(g,s,C,i),i?(g.ifModified&&((l=C.getResponseHeader("Last-Modified"))&&(T.lastModified[u]=l),(l=C.getResponseHeader("etag"))&&(T.etag[u]=l)),204===t||"HEAD"===g.type?c="nocontent":304===t?c="notmodified":(c=s.state,r=s.data,i=!(a=s.error))):(a=c,!t&&c||(c="error",t<0&&(t=0))),C.status=t,C.statusText=(e||c)+"",i?y.resolveWith(v,[r,c,C]):y.rejectWith(v,[C,c,a]),C.statusCode(w),w=void 0,m&&b.trigger(i?"ajaxSuccess":"ajaxError",[C,g,i?r:a]),x.fireWith(v,[C,c]),m&&(b.trigger("ajaxComplete",[C,g]),--T.active||T.event.trigger("ajaxStop")))}return C},getJSON:function(t,e,o){return T.get(t,e,o,"json")},getScript:function(t,e){return T.get(t,void 0,e,"script")}}),T.each(["get","post"],function(t,i){T[i]=function(t,e,o,n){return y(e)&&(n=n||o,o=e,e=void 0),T.ajax(T.extend({url:t,type:i,dataType:n,data:e,success:o},T.isPlainObject(t)&&t))}}),T._evalUrl=function(t,e){return T.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(t){T.globalEval(t,e)}})},T.fn.extend({wrapAll:function(t){var e;return this[0]&&(y(t)&&(t=t.call(this[0])),e=T(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(o){return y(o)?this.each(function(t){T(this).wrapInner(o.call(this,t))}):this.each(function(){var t=T(this),e=t.contents();e.length?e.wrapAll(o):t.append(o)})},wrap:function(e){var o=y(e);return this.each(function(t){T(this).wrapAll(o?e.call(this,t):e)})},unwrap:function(t){return this.parent(t).not("body").each(function(){T(this).replaceWith(this.childNodes)}),this}}),T.expr.pseudos.hidden=function(t){return!T.expr.pseudos.visible(t)},T.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},T.ajaxSettings.xhr=function(){try{return new k.XMLHttpRequest}catch(t){}};var to={0:200,1223:204},eo=T.ajaxSettings.xhr();b.cors=!!eo&&"withCredentials"in eo,b.ajax=eo=!!eo,T.ajaxTransport(function(i){var r,a;if(b.cors||eo&&!i.crossDomain)return{send:function(t,e){var o,n=i.xhr();if(n.open(i.type,i.url,i.async,i.username,i.password),i.xhrFields)for(o in i.xhrFields)n[o]=i.xhrFields[o];for(o in i.mimeType&&n.overrideMimeType&&n.overrideMimeType(i.mimeType),i.crossDomain||t["X-Requested-With"]||(t["X-Requested-With"]="XMLHttpRequest"),t)n.setRequestHeader(o,t[o]);r=function(t){return function(){r&&(r=a=n.onload=n.onerror=n.onabort=n.ontimeout=n.onreadystatechange=null,"abort"===t?n.abort():"error"===t?"number"!=typeof n.status?e(0,"error"):e(n.status,n.statusText):e(to[n.status]||n.status,n.statusText,"text"!==(n.responseType||"text")||"string"!=typeof n.responseText?{binary:n.response}:{text:n.responseText},n.getAllResponseHeaders()))}},n.onload=r(),a=n.onerror=n.ontimeout=r("error"),void 0!==n.onabort?n.onabort=a:n.onreadystatechange=function(){4===n.readyState&&k.setTimeout(function(){r&&a()})},r=r("abort");try{n.send(i.hasContent&&i.data||null)}catch(t){if(r)throw t}},abort:function(){r&&r()}}}),T.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),T.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return T.globalEval(t),t}}}),T.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),T.ajaxTransport("script",function(o){var n,i;if(o.crossDomain||o.scriptAttrs)return{send:function(t,e){n=T("<script>").attr(o.scriptAttrs||{}).prop({charset:o.scriptCharset,src:o.url}).on("load error",i=function(t){n.remove(),i=null,t&&e("error"===t.type?404:200,t.type)}),S.head.appendChild(n[0])},abort:function(){i&&i()}}});var oo,no=[],io=/(=)\?(?=&|$)|\?\?/;T.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=no.pop()||T.expando+"_"+Re++;return this[t]=!0,t}}),T.ajaxPrefilter("json jsonp",function(t,e,o){var n,i,r,a=!1!==t.jsonp&&(io.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&io.test(t.data)&&"data");if(a||"jsonp"===t.dataTypes[0])return n=t.jsonpCallback=y(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(io,"$1"+n):!1!==t.jsonp&&(t.url+=(De.test(t.url)?"&":"?")+t.jsonp+"="+n),t.converters["script json"]=function(){return r||T.error(n+" was not called"),r[0]},t.dataTypes[0]="json",i=k[n],k[n]=function(){r=arguments},o.always(function(){void 0===i?T(k).removeProp(n):k[n]=i,t[n]&&(t.jsonpCallback=e.jsonpCallback,no.push(n)),r&&y(i)&&i(r[0]),r=i=void 0}),"script"}),b.createHTMLDocument=((oo=S.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===oo.childNodes.length),T.parseHTML=function(t,e,o){return"string"!=typeof t?[]:("boolean"==typeof e&&(o=e,e=!1),e||(b.createHTMLDocument?((n=(e=S.implementation.createHTMLDocument("")).createElement("base")).href=S.location.href,e.head.appendChild(n)):e=S),r=!o&&[],(i=P.exec(t))?[e.createElement(i[1])]:(i=wt([t],e,r),r&&r.length&&T(r).remove(),T.merge([],i.childNodes)));var n,i,r},T.fn.load=function(t,e,o){var n,i,r,a=this,s=t.indexOf(" ");return-1<s&&(n=$e(t.slice(s)),t=t.slice(0,s)),y(e)?(o=e,e=void 0):e&&"object"==typeof e&&(i="POST"),0<a.length&&T.ajax({url:t,type:i||"GET",dataType:"html",data:e}).done(function(t){r=arguments,a.html(n?T("<div>").append(T.parseHTML(t)).find(n):t)}).always(o&&function(t,e){a.each(function(){o.apply(this,r||[t.responseText,e,t])})}),this},T.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){T.fn[e]=function(t){return this.on(e,t)}}),T.expr.pseudos.animated=function(e){return T.grep(T.timers,function(t){return e===t.elem}).length},T.offset={setOffset:function(t,e,o){var n,i,r,a,s,l,c=T.css(t,"position"),d=T(t),u={};"static"===c&&(t.style.position="relative"),s=d.offset(),r=T.css(t,"top"),l=T.css(t,"left"),i=("absolute"===c||"fixed"===c)&&-1<(r+l).indexOf("auto")?(a=(n=d.position()).top,n.left):(a=parseFloat(r)||0,parseFloat(l)||0),y(e)&&(e=e.call(t,o,T.extend({},s))),null!=e.top&&(u.top=e.top-s.top+a),null!=e.left&&(u.left=e.left-s.left+i),"using"in e?e.using.call(t,u):d.css(u)}},T.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){T.offset.setOffset(this,e,t)});var t,o,n=this[0];return n?n.getClientRects().length?(t=n.getBoundingClientRect(),o=n.ownerDocument.defaultView,{top:t.top+o.pageYOffset,left:t.left+o.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,o,n=this[0],i={top:0,left:0};if("fixed"===T.css(n,"position"))e=n.getBoundingClientRect();else{for(e=this.offset(),o=n.ownerDocument,t=n.offsetParent||o.documentElement;t&&(t===o.body||t===o.documentElement)&&"static"===T.css(t,"position");)t=t.parentNode;t&&t!==n&&1===t.nodeType&&((i=T(t).offset()).top+=T.css(t,"borderTopWidth",!0),i.left+=T.css(t,"borderLeftWidth",!0))}return{top:e.top-i.top-T.css(n,"marginTop",!0),left:e.left-i.left-T.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===T.css(t,"position");)t=t.offsetParent;return t||it})}}),T.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,i){var r="pageYOffset"===i;T.fn[e]=function(t){return U(this,function(t,e,o){var n;if(m(t)?n=t:9===t.nodeType&&(n=t.defaultView),void 0===o)return n?n[i]:t[e];n?n.scrollTo(r?n.pageXOffset:o,r?o:n.pageYOffset):t[e]=o},e,t,arguments.length)}}),T.each(["top","left"],function(t,o){T.cssHooks[o]=Zt(b.pixelPosition,function(t,e){if(e)return e=Xt(t,o),Kt.test(e)?T(t).position()[o]+"px":e})}),T.each({Height:"height",Width:"width"},function(a,s){T.each({padding:"inner"+a,content:s,"":"outer"+a},function(n,r){T.fn[r]=function(t,e){var o=arguments.length&&(n||"boolean"!=typeof t),i=n||(!0===t||!0===e?"margin":"border");return U(this,function(t,e,o){var n;return m(t)?0===r.indexOf("outer")?t["inner"+a]:t.document.documentElement["client"+a]:9===t.nodeType?(n=t.documentElement,Math.max(t.body["scroll"+a],n["scroll"+a],t.body["offset"+a],n["offset"+a],n["client"+a])):void 0===o?T.css(t,e,i):T.style(t,e,o,i)},s,o?t:void 0,o)}})}),T.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,o){T.fn[o]=function(t,e){return 0<arguments.length?this.on(o,null,t,e):this.trigger(o)}}),T.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),T.fn.extend({bind:function(t,e,o){return this.on(t,null,e,o)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,o,n){return this.on(e,t,o,n)},undelegate:function(t,e,o){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",o)}}),T.proxy=function(t,e){var o,n,i;if("string"==typeof e&&(o=t[e],e=t,t=o),y(t))return n=s.call(arguments,2),(i=function(){return t.apply(e||this,n.concat(s.call(arguments)))}).guid=t.guid=t.guid||T.guid++,i},T.holdReady=function(t){t?T.readyWait++:T.ready(!0)},T.isArray=Array.isArray,T.parseJSON=JSON.parse,T.nodeName=I,T.isFunction=y,T.isWindow=m,T.camelCase=K,T.type=w,T.now=Date.now,T.isNumeric=function(t){var e=T.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},"function"==typeof define&&define.amd&&define("jquery",[],function(){return T});var ro=k.jQuery,ao=k.$;return T.noConflict=function(t){return k.$===T&&(k.$=ao),t&&k.jQuery===T&&(k.jQuery=ro),T},t||(k.jQuery=k.$=T),T}),function(i,R){function r(t){throw new Error("Pagination: "+t)}void 0===R&&r("Pagination requires jQuery.");var n="pagination",a="__pagination-";R.fn.pagination&&(n="pagination2"),R.fn[n]=function(t){if(void 0===t)return this;var p=R(this),M=R.extend({},R.fn[n].defaults,t),e={initialize:function(){var o=this;if(p.data("pagination")||p.data("pagination",{}),!1!==o.callHook("beforeInit")){p.data("pagination").initialized&&R(".paginationjs",p).remove(),o.disabled=!!M.disabled;var n=o.model={pageRange:M.pageRange,pageSize:M.pageSize};o.parseDataSource(M.dataSource,function(t){if(o.isAsync=f.isString(t),f.isArray(t)&&(n.totalNumber=M.totalNumber=t.length),o.isDynamicTotalNumber=o.isAsync&&M.totalNumberLocator,!(M.hideWhenLessThanOnePage&&o.getTotalPage()<=1)){var e=o.render(!0);M.className&&e.addClass(M.className),n.el=e,p["bottom"===M.position?"append":"prepend"](e),o.observer(),p.data("pagination").initialized=!0,o.callHook("afterInit",e)}})}},render:function(t){var e=this,o=e.model,n=o.el||R('<div class="paginationjs"></div>'),i=!0!==t;e.callHook("beforeRender",i);var r=o.pageNumber||M.pageNumber,a=M.pageRange,s=e.getTotalPage(),l=r-a,c=r+a;return s<c&&(l=(l=(c=s)-2*a)<1?1:l),l<=1&&(l=1,c=Math.min(2*a+1,s)),n.html(e.generateHTML({currentPage:r,pageRange:a,rangeStart:l,rangeEnd:c})),e.callHook("afterRender",i),n},generateHTML:function(t){var e,o=this,n=t.currentPage,i=o.getTotalPage(),r=t.rangeStart,a=t.rangeEnd,s=o.getTotalNumber(),l=M.showPrevious,c=M.showNext,d=M.showPageNumbers,u=M.showNavigator,h=M.showGoInput,p=M.showGoButton,f=M.pageLink,m=M.prevText,g=M.nextText,v=M.ellipsisText,b=M.goButtonText,y=M.classPrefix,x=M.activeClassName,w=M.disableClassName,C=M.ulClassName,k="",S='<input type="text" class="J-paginationjs-go-pagenumber">',T='<input type="button" class="J-paginationjs-go-button" value="'+b+'">',E=R.isFunction(M.formatNavigator)?M.formatNavigator(n,i,s):M.formatNavigator,$=R.isFunction(M.formatGoInput)?M.formatGoInput(S,n,i,s):M.formatGoInput,I=R.isFunction(M.formatGoButton)?M.formatGoButton(T,n,i,s):M.formatGoButton,P=R.isFunction(M.autoHidePrevious)?M.autoHidePrevious():M.autoHidePrevious,N=R.isFunction(M.autoHideNext)?M.autoHideNext():M.autoHideNext,L=R.isFunction(M.header)?M.header(n,i,s):M.header,A=R.isFunction(M.footer)?M.footer(n,i,s):M.footer;if(L&&(k+=o.replaceVariables(L,{currentPage:n,totalPage:i,totalNumber:s})),l||d||c){if(k+='<div class="paginationjs-pages">',k+=C?'<ul class="'+C+'">':"<ul>",l&&(n<=1?P||(k+='<li class="'+y+"-prev "+w+'"><a>'+m+"</a></li>"):k+='<li class="'+y+'-prev J-paginationjs-previous" data-num="'+(n-1)+'" title="Previous page"><a href="'+f+'">'+m+"</a></li>"),d){if(r<=3)for(e=1;e<r;e++)k+=e==n?'<li class="'+y+"-page J-paginationjs-page "+x+'" data-num="'+e+'"><a>'+e+"</a></li>":'<li class="'+y+'-page J-paginationjs-page" data-num="'+e+'"><a href="'+f+'">'+e+"</a></li>";else M.showFirstOnEllipsisShow&&(k+='<li class="'+y+"-page "+y+'-first J-paginationjs-page" data-num="1"><a href="'+f+'">1</a></li>'),k+='<li class="'+y+"-ellipsis "+w+'"><a>'+v+"</a></li>";for(e=r;e<=a;e++)k+=e==n?'<li class="'+y+"-page J-paginationjs-page "+x+'" data-num="'+e+'"><a>'+e+"</a></li>":'<li class="'+y+'-page J-paginationjs-page" data-num="'+e+'"><a href="'+f+'">'+e+"</a></li>";if(i-2<=a)for(e=a+1;e<=i;e++)k+='<li class="'+y+'-page J-paginationjs-page" data-num="'+e+'"><a href="'+f+'">'+e+"</a></li>";else k+='<li class="'+y+"-ellipsis "+w+'"><a>'+v+"</a></li>",M.showLastOnEllipsisShow&&(k+='<li class="'+y+"-page "+y+'-last J-paginationjs-page" data-num="'+i+'"><a href="'+f+'">'+i+"</a></li>")}c&&(i<=n?N||(k+='<li class="'+y+"-next "+w+'"><a>'+g+"</a></li>"):k+='<li class="'+y+'-next J-paginationjs-next" data-num="'+(n+1)+'" title="Next page"><a href="'+f+'">'+g+"</a></li>"),k+="</ul></div>"}return u&&E&&(k+='<div class="'+y+'-nav J-paginationjs-nav">'+o.replaceVariables(E,{currentPage:n,totalPage:i,totalNumber:s})+"</div>"),h&&$&&(k+='<div class="'+y+'-go-input">'+o.replaceVariables($,{currentPage:n,totalPage:i,totalNumber:s,input:S})+"</div>"),p&&I&&(k+='<div class="'+y+'-go-button">'+o.replaceVariables(I,{currentPage:n,totalPage:i,totalNumber:s,button:T})+"</div>"),A&&(k+=o.replaceVariables(A,{currentPage:n,totalPage:i,totalNumber:s})),k},findTotalNumberFromRemoteResponse:function(t){this.model.totalNumber=M.totalNumberLocator(t)},go:function(t,o){function e(t){if(!1===n.callHook("beforePaging",r))return!1;if(i.direction=void 0===i.pageNumber?0:r>i.pageNumber?1:-1,i.pageNumber=r,n.render(),n.disabled&&n.isAsync&&n.enable(),p.data("pagination").model=i,M.formatResult){var e=R.extend(!0,[],t);f.isArray(t=M.formatResult(e))||(t=e)}p.data("pagination").currentPageData=t,n.doCallback(t,o),n.callHook("afterPaging",r),1==r&&n.callHook("afterIsFirstPage"),r==n.getTotalPage()&&n.callHook("afterIsLastPage")}var n=this,i=n.model;if(!n.disabled){var r=t;if((r=parseInt(r))&&!(r<1)){var a=M.pageSize,s=n.getTotalNumber(),l=n.getTotalPage();if(!(0<s&&l<r)){if(!n.isAsync)return void e(n.getDataFragment(r));var c={},d=M.alias||{};c[d.pageSize?d.pageSize:"pageSize"]=a,c[d.pageNumber?d.pageNumber:"pageNumber"]=r;var u=R.isFunction(M.ajax)?M.ajax():M.ajax,h={type:"get",cache:!1,data:{},contentType:"application/x-www-form-urlencoded; charset=UTF-8",dataType:"json",async:!0};R.extend(!0,h,u),R.extend(h.data,c),h.url=M.dataSource,h.success=function(t){n.isDynamicTotalNumber?n.findTotalNumberFromRemoteResponse(t):n.model.totalNumber=M.totalNumber,e(n.filterDataByLocator(t))},h.error=function(t,e,o){M.formatAjaxError&&M.formatAjaxError(t,e,o),n.enable()},n.disable(),R.ajax(h)}}}},doCallback:function(t,e){var o=this.model;R.isFunction(e)?e(t,o):R.isFunction(M.callback)&&M.callback(t,o)},destroy:function(){!1!==this.callHook("beforeDestroy")&&(this.model.el.remove(),p.off(),R("#paginationjs-style").remove(),this.callHook("afterDestroy"))},previous:function(t){this.go(this.model.pageNumber-1,t)},next:function(t){this.go(this.model.pageNumber+1,t)},disable:function(){var t=this,e=t.isAsync?"async":"sync";!1!==t.callHook("beforeDisable",e)&&(t.disabled=!0,t.model.disabled=!0,t.callHook("afterDisable",e))},enable:function(){var t=this,e=t.isAsync?"async":"sync";!1!==t.callHook("beforeEnable",e)&&(t.disabled=!1,t.model.disabled=!1,t.callHook("afterEnable",e))},refresh:function(t){this.go(this.model.pageNumber,t)},show:function(){this.model.el.is(":visible")||this.model.el.show()},hide:function(){this.model.el.is(":visible")&&this.model.el.hide()},replaceVariables:function(t,e){var o;for(var n in e){var i=e[n],r=new RegExp("<%=\\s*"+n+"\\s*%>","img");o=(o||t).replace(r,i)}return o},getDataFragment:function(t){var e=M.pageSize,o=M.dataSource,n=this.getTotalNumber(),i=e*(t-1)+1,r=Math.min(t*e,n);return o.slice(i-1,r)},getTotalNumber:function(){return this.model.totalNumber||M.totalNumber||0},getTotalPage:function(){return Math.ceil(this.getTotalNumber()/M.pageSize)},getLocator:function(t){var e;return"string"==typeof t?e=t:R.isFunction(t)?e=t():r('"locator" is incorrect. (String | Function)'),e},filterDataByLocator:function(o){var n,t=this.getLocator(M.locator);if(f.isObject(o)){try{R.each(t.split("."),function(t,e){n=(n||o)[e]})}catch(o){}n?f.isArray(n)||r("dataSource."+t+" must be an Array."):r("dataSource."+t+" is undefined.")}return n||o},parseDataSource:function(t,e){var o=this;f.isObject(t)?e(M.dataSource=o.filterDataByLocator(t)):f.isArray(t)?e(M.dataSource=t):R.isFunction(t)?M.dataSource(function(t){f.isArray(t)||r('The parameter of "done" Function should be an Array.'),o.parseDataSource.call(o,t,e)}):"string"==typeof t?(/^https?|file:/.test(t)&&(M.ajaxDataType="jsonp"),e(t)):r('Unexpected type of "dataSource".')},callHook:function(t){var o,e=p.data("pagination"),n=Array.prototype.slice.apply(arguments);return n.shift(),M[t]&&R.isFunction(M[t])&&!1===M[t].apply(i,n)&&(o=!1),e.hooks&&e.hooks[t]&&R.each(e.hooks[t],function(t,e){!1===e.apply(i,n)&&(o=!1)}),!1!==o},observer:function(){var n=this,o=n.model.el;p.on(a+"go",function(t,e,o){(e=parseInt(R.trim(e)))&&(R.isNumeric(e)||r('"pageNumber" is incorrect. (Number)'),n.go(e,o))}),o.delegate(".J-paginationjs-page","click",function(t){var e=R(t.currentTarget),o=R.trim(e.attr("data-num"));if(o&&!e.hasClass(M.disableClassName)&&!e.hasClass(M.activeClassName))return!1!==n.callHook("beforePageOnClick",t,o)&&(n.go(o),n.callHook("afterPageOnClick",t,o),!!M.pageLink&&void 0)}),o.delegate(".J-paginationjs-previous","click",function(t){var e=R(t.currentTarget),o=R.trim(e.attr("data-num"));if(o&&!e.hasClass(M.disableClassName))return!1!==n.callHook("beforePreviousOnClick",t,o)&&(n.go(o),n.callHook("afterPreviousOnClick",t,o),!!M.pageLink&&void 0)}),o.delegate(".J-paginationjs-next","click",function(t){var e=R(t.currentTarget),o=R.trim(e.attr("data-num"));if(o&&!e.hasClass(M.disableClassName))return!1!==n.callHook("beforeNextOnClick",t,o)&&(n.go(o),n.callHook("afterNextOnClick",t,o),!!M.pageLink&&void 0)}),o.delegate(".J-paginationjs-go-button","click",function(t){var e=R(".J-paginationjs-go-pagenumber",o).val();if(!1===n.callHook("beforeGoButtonOnClick",t,e))return!1;p.trigger(a+"go",e),n.callHook("afterGoButtonOnClick",t,e)}),o.delegate(".J-paginationjs-go-pagenumber","keyup",function(t){if(13===t.which){var e=R(t.currentTarget).val();if(!1===n.callHook("beforeGoInputOnEnter",t,e))return!1;p.trigger(a+"go",e),R(".J-paginationjs-go-pagenumber",o).focus(),n.callHook("afterGoInputOnEnter",t,e)}}),p.on(a+"previous",function(t,e){n.previous(e)}),p.on(a+"next",function(t,e){n.next(e)}),p.on(a+"disable",function(){n.disable()}),p.on(a+"enable",function(){n.enable()}),p.on(a+"refresh",function(t,e){n.refresh(e)}),p.on(a+"show",function(){n.show()}),p.on(a+"hide",function(){n.hide()}),p.on(a+"destroy",function(){n.destroy()});var t=Math.max(n.getTotalPage(),1),e=M.pageNumber;n.isDynamicTotalNumber&&(e=1),M.triggerPagingOnInit&&p.trigger(a+"go",Math.min(e,t))}};if(p.data("pagination")&&!0===p.data("pagination").initialized){if(R.isNumeric(t))return p.trigger.call(this,a+"go",t,arguments[1]),this;if("string"==typeof t){var o=Array.prototype.slice.apply(arguments);switch(o[0]=a+o[0],t){case"previous":case"next":case"go":case"disable":case"enable":case"refresh":case"show":case"hide":case"destroy":p.trigger.apply(this,o);break;case"getSelectedPageNum":return p.data("pagination").model?p.data("pagination").model.pageNumber:p.data("pagination").attributes.pageNumber;case"getTotalPage":return Math.ceil(p.data("pagination").model.totalNumber/p.data("pagination").model.pageSize);case"getSelectedPageData":return p.data("pagination").currentPageData;case"isDisabled":return!0===p.data("pagination").model.disabled;default:r("Unknown action: "+t)}return this}!function(o){R.each(["go","previous","next","disable","enable","refresh","show","hide","destroy"],function(t,e){o.off(a+e)}),o.data("pagination",{}),R(".paginationjs",o).remove()}(p)}else f.isObject(t)||r("Illegal options");return function(t){t.dataSource||r('"dataSource" is required.'),"string"==typeof t.dataSource?void 0===t.totalNumberLocator?void 0===t.totalNumber?r('"totalNumber" is required.'):R.isNumeric(t.totalNumber)||r('"totalNumber" is incorrect. (Number)'):R.isFunction(t.totalNumberLocator)||r('"totalNumberLocator" should be a Function.'):f.isObject(t.dataSource)&&(void 0===t.locator?r('"dataSource" is an Object, please specify "locator".'):"string"==typeof t.locator||R.isFunction(t.locator)||r(t.locator+" is incorrect. (String | Function)")),void 0===t.formatResult||R.isFunction(t.formatResult)||r('"formatResult" should be a Function.')}(M),e.initialize(),this},R.fn[n].defaults={totalNumber:0,pageNumber:1,pageSize:10,pageRange:2,showPrevious:!0,showNext:!0,showPageNumbers:!0,showNavigator:!1,showGoInput:!1,showGoButton:!1,pageLink:"",prevText:"&laquo;",nextText:"&raquo;",ellipsisText:"...",goButtonText:"Go",classPrefix:"paginationjs",activeClassName:"active",disableClassName:"disabled",inlineStyle:!0,formatNavigator:"<%= currentPage %> / <%= totalPage %>",formatGoInput:"<%= input %>",formatGoButton:"<%= button %>",position:"bottom",autoHidePrevious:!1,autoHideNext:!1,triggerPagingOnInit:!0,hideWhenLessThanOnePage:!1,showFirstOnEllipsisShow:!0,showLastOnEllipsisShow:!0,callback:function(){}},R.fn.addHook=function(t,e){arguments.length<2&&r("Missing argument."),R.isFunction(e)||r("callback must be a function.");var o=R(this),n=o.data("pagination");n||(o.data("pagination",{}),n=o.data("pagination")),n.hooks||(n.hooks={}),n.hooks[t]=n.hooks[t]||[],n.hooks[t].push(e)},R[n]=function(t,e){var o;if(arguments.length<2&&r("Requires two parameters."),(o="string"!=typeof t&&t instanceof jQuery?t:R(t)).length)return o.pagination(e),o};var f={};R.each(["Object","Array","String"],function(t,e){f["is"+e]=function(t){return function(t,e){return("object"==(e=typeof t)?null==t?"null":Object.prototype.toString.call(t).slice(8,-1):e).toLowerCase()}(t)===e.toLowerCase()}}),"function"==typeof define&&define.amd&&define(function(){return R})}(this,window.jQuery),function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.AOS=e():t.AOS=e()}(this,function(){return i={},o.m=n=[function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(){if(0<arguments.length&&void 0!==arguments[0]&&arguments[0]&&(m=!0),m)return f=(0,h.default)(f,g),(0,u.default)(f,g.once),f}function r(){f=(0,p.default)(),i()}var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t},s=n((n(o(1)),o(6))),l=n(o(7)),c=n(o(8)),d=n(o(9)),u=n(o(10)),h=n(o(11)),p=n(o(14)),f=[],m=!1,g={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1};t.exports={init:function(t){g=a(g,t),f=(0,p.default)();var e=document.all&&!window.atob;return function(t){return!0===t||"mobile"===t&&d.default.mobile()||"phone"===t&&d.default.phone()||"tablet"===t&&d.default.tablet()||"function"==typeof t&&!0===t()}(g.disable)||e?void f.forEach(function(t,e){t.node.removeAttribute("data-aos"),t.node.removeAttribute("data-aos-easing"),t.node.removeAttribute("data-aos-duration"),t.node.removeAttribute("data-aos-delay")}):(g.disableMutationObserver||c.default.isSupported()||(console.info('\n      aos: MutationObserver is not supported on this browser,\n      code mutations observing has been disabled.\n      You may have to call "refreshHard()" by yourself.\n    '),g.disableMutationObserver=!0),document.querySelector("body").setAttribute("data-aos-easing",g.easing),document.querySelector("body").setAttribute("data-aos-duration",g.duration),document.querySelector("body").setAttribute("data-aos-delay",g.delay),"DOMContentLoaded"===g.startEvent&&-1<["complete","interactive"].indexOf(document.readyState)?i(!0):"load"===g.startEvent?window.addEventListener(g.startEvent,function(){i(!0)}):document.addEventListener(g.startEvent,function(){i(!0)}),window.addEventListener("resize",(0,l.default)(i,g.debounceDelay,!0)),window.addEventListener("orientationchange",(0,l.default)(i,g.debounceDelay,!0)),window.addEventListener("scroll",(0,s.default)(function(){(0,u.default)(f,g.once)},g.throttleDelay)),g.disableMutationObserver||c.default.ready("[data-aos]",r),f)},refresh:i,refreshHard:r}},function(t,e){},,,,,function(m,t){(function(t){"use strict";function r(n,o,t){function i(t){var e=l,o=c;return l=c=void 0,f=t,u=n.apply(o,e)}function r(t){var e=t-p;return void 0===p||o<=e||e<0||g&&d<=t-f}function a(){var t=k();return r(t)?e(t):void(h=setTimeout(a,function(t){var e=o-(t-p);return g?C(e,d-(t-f)):e}(t)))}function e(t){return h=void 0,v&&l?i(t):(l=c=void 0,u)}function s(){var t=k(),e=r(t);if(l=arguments,c=this,p=t,e){if(void 0===h)return function(t){return f=t,h=setTimeout(a,o),m?i(t):u}(p);if(g)return h=setTimeout(a,o),i(p)}return void 0===h&&(h=setTimeout(a,o)),u}var l,c,d,u,h,p,f=0,m=!1,g=!1,v=!0;if("function"!=typeof n)throw new TypeError(x);return o=y(o)||0,b(t)&&(m=!!t.leading,d=(g="maxWait"in t)?w(y(t.maxWait)||0,o):d,v="trailing"in t?!!t.trailing:v),s.cancel=function(){void 0!==h&&clearTimeout(h),l=p=c=h=void(f=0)},s.flush=function(){return void 0===h?u:e(k())},s}function b(t){var e=void 0===t?"undefined":o(t);return!!t&&("object"==e||"function"==e)}function n(t){return"symbol"==(void 0===t?"undefined":o(t))||function(t){return!!t&&"object"==(void 0===t?"undefined":o(t))}(t)&&f.call(t)==e}function y(t){if("number"==typeof t)return t;if(n(t))return i;if(b(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=b(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(a,"");var o=l.test(t);return o||c.test(t)?d(t.slice(2),o?2:8):s.test(t)?i:+t}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},x="Expected a function",i=NaN,e="[object Symbol]",a=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,c=/^0o[0-7]+$/i,d=parseInt,u="object"==(void 0===t?"undefined":o(t))&&t&&t.Object===Object&&t,h="object"==("undefined"==typeof self?"undefined":o(self))&&self&&self.Object===Object&&self,p=u||h||Function("return this")(),f=Object.prototype.toString,w=Math.max,C=Math.min,k=function(){return p.Date.now()};m.exports=function(t,e,o){var n=!0,i=!0;if("function"!=typeof t)throw new TypeError(x);return b(o)&&(n="leading"in o?!!o.leading:n,i="trailing"in o?!!o.trailing:i),r(t,e,{leading:n,maxWait:e,trailing:i})}}).call(t,function(){return this}())},function(f,t){(function(t){"use strict";function b(t){var e=void 0===t?"undefined":o(t);return!!t&&("object"==e||"function"==e)}function n(t){return"symbol"==(void 0===t?"undefined":o(t))||function(t){return!!t&&"object"==(void 0===t?"undefined":o(t))}(t)&&p.call(t)==e}function y(t){if("number"==typeof t)return t;if(n(t))return i;if(b(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=b(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(r,"");var o=s.test(t);return o||l.test(t)?c(t.slice(2),o?2:8):a.test(t)?i:+t}function x(){return h.Date.now()}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=NaN,e="[object Symbol]",r=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt,d="object"==(void 0===t?"undefined":o(t))&&t&&t.Object===Object&&t,u="object"==("undefined"==typeof self?"undefined":o(self))&&self&&self.Object===Object&&self,h=d||u||Function("return this")(),p=Object.prototype.toString,w=Math.max,C=Math.min;f.exports=function(n,o,t){function i(t){var e=l,o=c;return l=c=void 0,f=t,u=n.apply(o,e)}function r(t){var e=t-p;return void 0===p||o<=e||e<0||g&&d<=t-f}function a(){var t=x();return r(t)?e(t):void(h=setTimeout(a,function(t){var e=o-(t-p);return g?C(e,d-(t-f)):e}(t)))}function e(t){return h=void 0,v&&l?i(t):(l=c=void 0,u)}function s(){var t=x(),e=r(t);if(l=arguments,c=this,p=t,e){if(void 0===h)return function(t){return f=t,h=setTimeout(a,o),m?i(t):u}(p);if(g)return h=setTimeout(a,o),i(p)}return void 0===h&&(h=setTimeout(a,o)),u}var l,c,d,u,h,p,f=0,m=!1,g=!1,v=!0;if("function"!=typeof n)throw new TypeError("Expected a function");return o=y(o)||0,b(t)&&(m=!!t.leading,d=(g="maxWait"in t)?w(y(t.maxWait)||0,o):d,v="trailing"in t?!!t.trailing:v),s.cancel=function(){void 0!==h&&clearTimeout(h),l=p=c=h=void(f=0)},s.flush=function(){return void 0===h?u:e(x())},s}}).call(t,function(){return this}())},function(t,e){"use strict";function i(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function r(t){t&&t.forEach(function(t){var e=Array.prototype.slice.call(t.addedNodes),o=Array.prototype.slice.call(t.removedNodes);if(function t(e){var o=void 0,n=void 0;for(o=0;o<e.length;o+=1){if((n=e[o]).dataset&&n.dataset.aos)return!0;if(n.children&&t(n.children))return!0}return!1}(e.concat(o)))return a()})}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){};e.default={isSupported:function(){return!!i()},ready:function(t,e){var o=window.document,n=new(i())(r);a=e,n.observe(o.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}}},function(t,e){"use strict";function o(){return navigator.userAgent||navigator.vendor||window.opera||""}Object.defineProperty(e,"__esModule",{value:!0});var n=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,i=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,r=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,a=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,s=(function(t,e,o){return e&&c(t.prototype,e),o&&c(t,o),t}(l,[{key:"phone",value:function(){var t=o();return!(!n.test(t)&&!i.test(t.substr(0,4)))}},{key:"mobile",value:function(){var t=o();return!(!r.test(t)&&!a.test(t.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}}]),l);function l(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l)}function c(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}e.default=new s},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function(t,o){var n=window.pageYOffset,i=window.innerHeight;t.forEach(function(t,e){!function(t,e,o){var n=t.node.getAttribute("data-aos-once");e>t.position?t.node.classList.add("aos-animate"):void 0===n||"false"!==n&&(o||"true"===n)||t.node.classList.remove("aos-animate")}(t,i+n,o)})}},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,i=o(12),r=(n=i)&&n.__esModule?n:{default:n};e.default=function(t,o){return t.forEach(function(t,e){t.node.classList.add("aos-init"),t.position=(0,r.default)(t.node,o.offset)}),t}},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,i=o(13),a=(n=i)&&n.__esModule?n:{default:n};e.default=function(t,e){var o=0,n=0,i=window.innerHeight,r={offset:t.getAttribute("data-aos-offset"),anchor:t.getAttribute("data-aos-anchor"),anchorPlacement:t.getAttribute("data-aos-anchor-placement")};switch(r.offset&&!isNaN(r.offset)&&(n=parseInt(r.offset)),r.anchor&&document.querySelectorAll(r.anchor)&&(t=document.querySelectorAll(r.anchor)[0]),o=(0,a.default)(t).top,r.anchorPlacement){case"top-bottom":break;case"center-bottom":o+=t.offsetHeight/2;break;case"bottom-bottom":o+=t.offsetHeight;break;case"top-center":o+=i/2;break;case"bottom-center":o+=i/2+t.offsetHeight;break;case"center-center":o+=i/2+t.offsetHeight/2;break;case"top-top":o+=i;break;case"bottom-top":o+=t.offsetHeight+i;break;case"center-top":o+=t.offsetHeight/2+i}return r.anchorPlacement||r.offset||isNaN(e)||(n=e),o+n}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function(t){for(var e=0,o=0;t&&!isNaN(t.offsetLeft)&&!isNaN(t.offsetTop);)e+=t.offsetLeft-("BODY"!=t.tagName?t.scrollLeft:0),o+=t.offsetTop-("BODY"!=t.tagName?t.scrollTop:0),t=t.offsetParent;return{top:o,left:e}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function(t){return t=t||document.querySelectorAll("[data-aos]"),Array.prototype.map.call(t,function(t){return{node:t}})}}],o.c=i,o.p="dist/",o(0);function o(t){if(i[t])return i[t].exports;var e=i[t]={exports:{},id:t,loaded:!1};return n[t].call(e.exports,e,e.exports,o),e.loaded=!0,e.exports}var n,i}),function(l,c,m,g){"use strict";if(l.console=l.console||{info:function(t){}},m)if(m.fn.fancybox)console.info("fancyBox already initialized");else{var t,e,o,n,i={closeExisting:!1,loop:!1,gutter:50,keyboard:!0,preventCaptionOverlap:!0,arrows:!0,infobar:!0,smallBtn:"auto",toolbar:"auto",buttons:["zoom","slideShow","thumbs","close"],idleTime:3,protect:!1,modal:!1,image:{preload:!1},ajax:{settings:{data:{fancybox:!0}}},iframe:{tpl:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" allowfullscreen="allowfullscreen" allow="autoplay; fullscreen" src=""></iframe>',preload:!0,css:{},attr:{scrolling:"auto"}},video:{tpl:'<video class="fancybox-video" controls controlsList="nodownload" poster="{{poster}}"><source src="{{src}}" type="{{format}}" />Sorry, your browser doesn\'t support embedded videos, <a href="{{src}}">download</a> and watch with your favorite video player!</video>',format:"",autoStart:!0},defaultType:"image",animationEffect:"zoom",animationDuration:366,zoomOpacity:"auto",transitionEffect:"fade",transitionDuration:366,slideClass:"",baseClass:"",baseTpl:'<div class="fancybox-container" role="dialog" tabindex="-1"><div class="fancybox-bg"></div><div class="fancybox-inner"><div class="fancybox-infobar"><span data-fancybox-index></span>&nbsp;/&nbsp;<span data-fancybox-count></span></div><div class="fancybox-toolbar">{{buttons}}</div><div class="fancybox-navigation">{{arrows}}</div><div class="fancybox-stage"></div><div class="fancybox-caption"><div class="fancybox-caption__body"></div></div></div></div>',spinnerTpl:'<div class="fancybox-loading"></div>',errorTpl:'<div class="fancybox-error"><p>{{ERROR}}</p></div>',btnTpl:{download:'<a download data-fancybox-download class="fancybox-button fancybox-button--download" title="{{DOWNLOAD}}" href="javascript:;"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18.62 17.09V19H5.38v-1.91zm-2.97-6.96L17 11.45l-5 4.87-5-4.87 1.36-1.32 2.68 2.64V5h1.92v7.77z"/></svg></a>',zoom:'<button data-fancybox-zoom class="fancybox-button fancybox-button--zoom" title="{{ZOOM}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18.7 17.3l-3-3a5.9 5.9 0 0 0-.6-7.6 5.9 5.9 0 0 0-8.4 0 5.9 5.9 0 0 0 0 8.4 5.9 5.9 0 0 0 7.7.7l3 3a1 1 0 0 0 1.3 0c.4-.5.4-1 0-1.5zM8.1 13.8a4 4 0 0 1 0-5.7 4 4 0 0 1 5.7 0 4 4 0 0 1 0 5.7 4 4 0 0 1-5.7 0z"/></svg></button>',close:'<button data-fancybox-close class="fancybox-button fancybox-button--close" title="{{CLOSE}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 10.6L6.6 5.2 5.2 6.6l5.4 5.4-5.4 5.4 1.4 1.4 5.4-5.4 5.4 5.4 1.4-1.4-5.4-5.4 5.4-5.4-1.4-1.4-5.4 5.4z"/></svg></button>',arrowLeft:'<button data-fancybox-prev class="fancybox-button fancybox-button--arrow_left" title="{{PREV}}"><div><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M11.28 15.7l-1.34 1.37L5 12l4.94-5.07 1.34 1.38-2.68 2.72H19v1.94H8.6z"/></svg></div></button>',arrowRight:'<button data-fancybox-next class="fancybox-button fancybox-button--arrow_right" title="{{NEXT}}"><div><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M15.4 12.97l-2.68 2.72 1.34 1.38L19 12l-4.94-5.07-1.34 1.38 2.68 2.72H5v1.94z"/></svg></div></button>',smallBtn:'<button type="button" data-fancybox-close class="fancybox-button fancybox-close-small" title="{{CLOSE}}"><svg xmlns="http://www.w3.org/2000/svg" version="1" viewBox="0 0 24 24"><path d="M13 12l5-5-1-1-5 5-5-5-1 1 5 5-5 5 1 1 5-5 5 5 1-1z"/></svg></button>'},parentEl:"body",hideScrollbar:!0,autoFocus:!0,backFocus:!0,trapFocus:!0,fullScreen:{autoStart:!1},touch:{vertical:!0,momentum:!0},hash:null,media:{},slideShow:{autoStart:!1,speed:3e3},thumbs:{autoStart:!1,hideOnClose:!0,parentEl:".fancybox-container",axis:"y"},wheel:"auto",onInit:m.noop,beforeLoad:m.noop,afterLoad:m.noop,beforeShow:m.noop,afterShow:m.noop,beforeClose:m.noop,afterClose:m.noop,onActivate:m.noop,onDeactivate:m.noop,clickContent:function(t,e){return"image"===t.type&&"zoom"},clickSlide:"close",clickOutside:"close",dblclickContent:!1,dblclickSlide:!1,dblclickOutside:!1,mobile:{preventCaptionOverlap:!1,idleTime:!1,clickContent:function(t,e){return"image"===t.type&&"toggleControls"},clickSlide:function(t,e){return"image"===t.type?"toggleControls":"close"},dblclickContent:function(t,e){return"image"===t.type&&"zoom"},dblclickSlide:function(t,e){return"image"===t.type&&"zoom"}},lang:"en",i18n:{en:{CLOSE:"Close",NEXT:"Next",PREV:"Previous",ERROR:"The requested content cannot be loaded. <br/> Please try again later.",PLAY_START:"Start slideshow",PLAY_STOP:"Pause slideshow",FULL_SCREEN:"Full screen",THUMBS:"Thumbnails",DOWNLOAD:"Download",SHARE:"Share",ZOOM:"Zoom"},de:{CLOSE:"Schlie&szlig;en",NEXT:"Weiter",PREV:"Zur&uuml;ck",ERROR:"Die angeforderten Daten konnten nicht geladen werden. <br/> Bitte versuchen Sie es sp&auml;ter nochmal.",PLAY_START:"Diaschau starten",PLAY_STOP:"Diaschau beenden",FULL_SCREEN:"Vollbild",THUMBS:"Vorschaubilder",DOWNLOAD:"Herunterladen",SHARE:"Teilen",ZOOM:"Vergr&ouml;&szlig;ern"}}},r=m(l),a=m(c),s=0,h=l.requestAnimationFrame||l.webkitRequestAnimationFrame||l.mozRequestAnimationFrame||l.oRequestAnimationFrame||function(t){return l.setTimeout(t,1e3/60)},d=l.cancelAnimationFrame||l.webkitCancelAnimationFrame||l.mozCancelAnimationFrame||l.oCancelAnimationFrame||function(t){l.clearTimeout(t)},u=function(){var t,e=c.createElement("fakeelement"),o={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(t in o)if(e.style[t]!==g)return o[t];return"transitionend"}(),p=function(t){return t&&t.length&&t[0].offsetHeight},f=function(t,e){var o=m.extend(!0,{},t,e);return m.each(e,function(t,e){m.isArray(e)&&(o[t]=e)}),o},v=function(t,e,o){var n=this;n.opts=f({index:o},m.fancybox.defaults),m.isPlainObject(e)&&(n.opts=f(n.opts,e)),m.fancybox.isMobile&&(n.opts=f(n.opts,n.opts.mobile)),n.id=n.opts.id||++s,n.currIndex=parseInt(n.opts.index,10)||0,n.prevIndex=null,n.prevPos=null,n.currPos=0,n.firstRun=!0,n.group=[],n.slides={},n.addContent(t),n.group.length&&n.init()};m.extend(v.prototype,{init:function(){var e,o,n=this,i=n.group[n.currIndex].opts;i.closeExisting&&m.fancybox.close(!0),m("body").addClass("fancybox-active"),!m.fancybox.getInstance()&&!1!==i.hideScrollbar&&!m.fancybox.isMobile&&c.body.scrollHeight>l.innerHeight&&(m("head").append('<style id="fancybox-style-noscroll" type="text/css">.compensate-for-scrollbar{margin-right:'+(l.innerWidth-c.documentElement.clientWidth)+"px;}</style>"),m("body").addClass("compensate-for-scrollbar")),o="",m.each(i.buttons,function(t,e){o+=i.btnTpl[e]||""}),e=m(n.translate(n,i.baseTpl.replace("{{buttons}}",o).replace("{{arrows}}",i.btnTpl.arrowLeft+i.btnTpl.arrowRight))).attr("id","fancybox-container-"+n.id).addClass(i.baseClass).data("FancyBox",n).appendTo(i.parentEl),n.$refs={container:e},["bg","inner","infobar","toolbar","stage","caption","navigation"].forEach(function(t){n.$refs[t]=e.find(".fancybox-"+t)}),n.trigger("onInit"),n.activate(),n.jumpTo(n.currIndex)},translate:function(t,e){var o=t.opts.i18n[t.opts.lang]||t.opts.i18n.en;return e.replace(/\{\{(\w+)\}\}/g,function(t,e){return o[e]===g?t:o[e]})},addContent:function(t){var e,c=this,o=m.makeArray(t);m.each(o,function(t,e){var o,n,i,r,a,s={},l={};m.isPlainObject(e)?l=(s=e).opts||e:"object"===m.type(e)&&m(e).length?(l=(o=m(e)).data()||{},(l=m.extend(!0,{},l,l.options)).$orig=o,s.src=c.opts.src||l.src||o.attr("href"),s.type||s.src||(s.type="inline",s.src=e)):s={type:"html",src:e+""},s.opts=m.extend(!0,{},c.opts,l),m.isArray(l.buttons)&&(s.opts.buttons=l.buttons),m.fancybox.isMobile&&s.opts.mobile&&(s.opts=f(s.opts,s.opts.mobile)),n=s.type||s.opts.type,r=s.src||"",!n&&r&&((i=r.match(/\.(mp4|mov|ogv|webm)((\?|#).*)?$/i))?(n="video",s.opts.video.format||(s.opts.video.format="video/"+("ogv"===i[1]?"ogg":i[1]))):r.match(/(^data:image\/[a-z0-9+\/=]*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\?|#).*)?$)/i)?n="image":r.match(/\.(pdf)((\?|#).*)?$/i)?(n="iframe",s=m.extend(!0,s,{contentType:"pdf",opts:{iframe:{preload:!1}}})):"#"===r.charAt(0)&&(n="inline")),n?s.type=n:c.trigger("objectNeedsType",s),s.contentType||(s.contentType=-1<m.inArray(s.type,["html","inline","ajax"])?"html":s.type),s.index=c.group.length,"auto"==s.opts.smallBtn&&(s.opts.smallBtn=-1<m.inArray(s.type,["html","inline","ajax"])),"auto"===s.opts.toolbar&&(s.opts.toolbar=!s.opts.smallBtn),s.$thumb=s.opts.$thumb||null,s.opts.$trigger&&s.index===c.opts.index&&(s.$thumb=s.opts.$trigger.find("img:first"),s.$thumb.length&&(s.opts.$orig=s.opts.$trigger)),s.$thumb&&s.$thumb.length||!s.opts.$orig||(s.$thumb=s.opts.$orig.find("img:first")),s.$thumb&&!s.$thumb.length&&(s.$thumb=null),s.thumb=s.opts.thumb||(s.$thumb?s.$thumb[0].src:null),"function"===m.type(s.opts.caption)&&(s.opts.caption=s.opts.caption.apply(e,[c,s])),"function"===m.type(c.opts.caption)&&(s.opts.caption=c.opts.caption.apply(e,[c,s])),s.opts.caption instanceof m||(s.opts.caption=s.opts.caption===g?"":s.opts.caption+""),"ajax"===s.type&&1<(a=r.split(/\s+/,2)).length&&(s.src=a.shift(),s.opts.filter=a.shift()),s.opts.modal&&(s.opts=m.extend(!0,s.opts,{trapFocus:!0,infobar:0,toolbar:0,smallBtn:0,keyboard:0,slideShow:0,fullScreen:0,thumbs:0,touch:0,clickContent:!1,clickSlide:!1,clickOutside:!1,dblclickContent:!1,dblclickSlide:!1,dblclickOutside:!1})),c.group.push(s)}),Object.keys(c.slides).length&&(c.updateControls(),(e=c.Thumbs)&&e.isActive&&(e.create(),e.focus()))},addEvents:function(){var n=this;n.removeEvents(),n.$refs.container.on("click.fb-close","[data-fancybox-close]",function(t){t.stopPropagation(),t.preventDefault(),n.close(t)}).on("touchstart.fb-prev click.fb-prev","[data-fancybox-prev]",function(t){t.stopPropagation(),t.preventDefault(),n.previous()}).on("touchstart.fb-next click.fb-next","[data-fancybox-next]",function(t){t.stopPropagation(),t.preventDefault(),n.next()}).on("click.fb","[data-fancybox-zoom]",function(t){n[n.isScaledDown()?"scaleToActual":"scaleToFit"]()}),r.on("orientationchange.fb resize.fb",function(t){t&&t.originalEvent&&"resize"===t.originalEvent.type?(n.requestId&&d(n.requestId),n.requestId=h(function(){n.update(t)})):(n.current&&"iframe"===n.current.type&&n.$refs.stage.hide(),setTimeout(function(){n.$refs.stage.show(),n.update(t)},m.fancybox.isMobile?600:250))}),a.on("keydown.fb",function(t){var e=(m.fancybox?m.fancybox.getInstance():null).current,o=t.keyCode||t.which;if(9!=o){if(!(!e.opts.keyboard||t.ctrlKey||t.altKey||t.shiftKey||m(t.target).is("input,textarea,video,audio,select")))return 8===o||27===o?(t.preventDefault(),void n.close(t)):37===o||38===o?(t.preventDefault(),void n.previous()):39===o||40===o?(t.preventDefault(),void n.next()):void n.trigger("afterKeydown",t,o)}else e.opts.trapFocus&&n.focus(t)}),n.group[n.currIndex].opts.idleTime&&(n.idleSecondsCounter=0,a.on("mousemove.fb-idle mouseleave.fb-idle mousedown.fb-idle touchstart.fb-idle touchmove.fb-idle scroll.fb-idle keydown.fb-idle",function(t){n.idleSecondsCounter=0,n.isIdle&&n.showControls(),n.isIdle=!1}),n.idleInterval=l.setInterval(function(){n.idleSecondsCounter++,n.idleSecondsCounter>=n.group[n.currIndex].opts.idleTime&&!n.isDragging&&(n.isIdle=!0,n.idleSecondsCounter=0,n.hideControls())},1e3))},removeEvents:function(){r.off("orientationchange.fb resize.fb"),a.off("keydown.fb .fb-idle"),this.$refs.container.off(".fb-close .fb-prev .fb-next"),this.idleInterval&&(l.clearInterval(this.idleInterval),this.idleInterval=null)},previous:function(t){return this.jumpTo(this.currPos-1,t)},next:function(t){return this.jumpTo(this.currPos+1,t)},jumpTo:function(t,n){var e,o,i,r,a,s,l,c,d,u=this,h=u.group.length;if(!(u.isDragging||u.isClosing||u.isAnimating&&u.firstRun)){if(t=parseInt(t,10),!(i=u.current?u.current.opts.loop:u.opts.loop)&&(t<0||h<=t))return!1;if(e=u.firstRun=!Object.keys(u.slides).length,a=u.current,u.prevIndex=u.currIndex,u.prevPos=u.currPos,r=u.createSlide(t),1<h&&((i||r.index<h-1)&&u.createSlide(t+1),(i||0<r.index)&&u.createSlide(t-1)),u.current=r,u.currIndex=r.index,u.currPos=r.pos,u.trigger("beforeShow",e),u.updateControls(),r.forcedDuration=g,m.isNumeric(n)?r.forcedDuration=n:n=r.opts[e?"animationDuration":"transitionDuration"],n=parseInt(n,10),o=u.isMoved(r),r.$slide.addClass("fancybox-slide--current"),e)return r.opts.animationEffect&&n&&u.$refs.container.css("transition-duration",n+"ms"),u.$refs.container.addClass("fancybox-is-open").trigger("focus"),u.loadSlide(r),void u.preload("image");s=m.fancybox.getTranslate(a.$slide),l=m.fancybox.getTranslate(u.$refs.stage),m.each(u.slides,function(t,e){m.fancybox.stop(e.$slide,!0)}),a.pos!==r.pos&&(a.isComplete=!1),a.$slide.removeClass("fancybox-slide--complete fancybox-slide--current"),o?(d=s.left-(a.pos*s.width+a.pos*a.opts.gutter),m.each(u.slides,function(t,e){e.$slide.removeClass("fancybox-animated").removeClass(function(t,e){return(e.match(/(^|\s)fancybox-fx-\S+/g)||[]).join(" ")});var o=e.pos*s.width+e.pos*e.opts.gutter;m.fancybox.setTranslate(e.$slide,{top:0,left:o-l.left+d}),e.pos!==r.pos&&e.$slide.addClass("fancybox-slide--"+(e.pos>r.pos?"next":"previous")),p(e.$slide),m.fancybox.animate(e.$slide,{top:0,left:(e.pos-r.pos)*s.width+(e.pos-r.pos)*e.opts.gutter},n,function(){e.$slide.css({transform:"",opacity:""}).removeClass("fancybox-slide--next fancybox-slide--previous"),e.pos===u.currPos&&u.complete()})})):n&&r.opts.transitionEffect&&(c="fancybox-animated fancybox-fx-"+r.opts.transitionEffect,a.$slide.addClass("fancybox-slide--"+(a.pos>r.pos?"next":"previous")),m.fancybox.animate(a.$slide,c,n,function(){a.$slide.removeClass(c).removeClass("fancybox-slide--next fancybox-slide--previous")},!1)),r.isLoaded?u.revealContent(r):u.loadSlide(r),u.preload("image")}},createSlide:function(t){var e,o,n=this;return o=(o=t%n.group.length)<0?n.group.length+o:o,!n.slides[t]&&n.group[o]&&(e=m('<div class="fancybox-slide"></div>').appendTo(n.$refs.stage),n.slides[t]=m.extend(!0,{},n.group[o],{pos:t,$slide:e,isLoaded:!1}),n.updateSlide(n.slides[t])),n.slides[t]},scaleToActual:function(t,e,o){var n,i,r,a,s,l=this,c=l.current,d=c.$content,u=m.fancybox.getTranslate(c.$slide).width,h=m.fancybox.getTranslate(c.$slide).height,p=c.width,f=c.height;l.isAnimating||l.isMoved()||!d||"image"!=c.type||!c.isLoaded||c.hasError||(l.isAnimating=!0,m.fancybox.stop(d),t=t===g?.5*u:t,e=e===g?.5*h:e,(n=m.fancybox.getTranslate(d)).top-=m.fancybox.getTranslate(c.$slide).top,n.left-=m.fancybox.getTranslate(c.$slide).left,a=p/n.width,s=f/n.height,i=.5*u-.5*p,r=.5*h-.5*f,u<p&&(0<(i=n.left*a-(t*a-t))&&(i=0),i<u-p&&(i=u-p)),h<f&&(0<(r=n.top*s-(e*s-e))&&(r=0),r<h-f&&(r=h-f)),l.updateCursor(p,f),m.fancybox.animate(d,{top:r,left:i,scaleX:a,scaleY:s},o||366,function(){l.isAnimating=!1}),l.SlideShow&&l.SlideShow.isActive&&l.SlideShow.stop())},scaleToFit:function(t){var e,o=this,n=o.current,i=n.$content;o.isAnimating||o.isMoved()||!i||"image"!=n.type||!n.isLoaded||n.hasError||(o.isAnimating=!0,m.fancybox.stop(i),e=o.getFitPos(n),o.updateCursor(e.width,e.height),m.fancybox.animate(i,{top:e.top,left:e.left,scaleX:e.width/i.width(),scaleY:e.height/i.height()},t||366,function(){o.isAnimating=!1}))},getFitPos:function(t){var e,o,n,i,r=t.$content,a=t.$slide,s=t.width||t.opts.width,l=t.height||t.opts.height,c={};return!!(t.isLoaded&&r&&r.length)&&(e=m.fancybox.getTranslate(this.$refs.stage).width,o=m.fancybox.getTranslate(this.$refs.stage).height,e-=parseFloat(a.css("paddingLeft"))+parseFloat(a.css("paddingRight"))+parseFloat(r.css("marginLeft"))+parseFloat(r.css("marginRight")),o-=parseFloat(a.css("paddingTop"))+parseFloat(a.css("paddingBottom"))+parseFloat(r.css("marginTop"))+parseFloat(r.css("marginBottom")),s&&l||(s=e,l=o),e-.5<(s*=n=Math.min(1,e/s,o/l))&&(s=e),o-.5<(l*=n)&&(l=o),"image"===t.type?(c.top=Math.floor(.5*(o-l))+parseFloat(a.css("paddingTop")),c.left=Math.floor(.5*(e-s))+parseFloat(a.css("paddingLeft"))):"video"===t.contentType&&(s/(i=t.opts.width&&t.opts.height?s/l:t.opts.ratio||16/9)<l?l=s/i:l*i<s&&(s=l*i)),c.width=s,c.height=l,c)},update:function(o){var n=this;m.each(n.slides,function(t,e){n.updateSlide(e,o)})},updateSlide:function(t,e){var o=this,n=t&&t.$content,i=t.width||t.opts.width,r=t.height||t.opts.height,a=t.$slide;o.adjustCaption(t),n&&(i||r||"video"===t.contentType)&&!t.hasError&&(m.fancybox.stop(n),m.fancybox.setTranslate(n,o.getFitPos(t)),t.pos===o.currPos&&(o.isAnimating=!1,o.updateCursor())),o.adjustLayout(t),a.length&&(a.trigger("refresh"),t.pos===o.currPos&&o.$refs.toolbar.add(o.$refs.navigation.find(".fancybox-button--arrow_right")).toggleClass("compensate-for-scrollbar",a.get(0).scrollHeight>a.get(0).clientHeight)),o.trigger("onUpdate",t,e)},centerSlide:function(t){var e=this,o=e.current,n=o.$slide;!e.isClosing&&o&&(n.siblings().css({transform:"",opacity:""}),n.parent().children().removeClass("fancybox-slide--previous fancybox-slide--next"),m.fancybox.animate(n,{top:0,left:0,opacity:1},t===g?0:t,function(){n.css({transform:"",opacity:""}),o.isComplete||e.complete()},!1))},isMoved:function(t){var e,o,n=t||this.current;return!!n&&(o=m.fancybox.getTranslate(this.$refs.stage),e=m.fancybox.getTranslate(n.$slide),!n.$slide.hasClass("fancybox-animated")&&(.5<Math.abs(e.top-o.top)||.5<Math.abs(e.left-o.left)))},updateCursor:function(t,e){var o,n,i=this,r=i.current,a=i.$refs.container;r&&!i.isClosing&&i.Guestures&&(a.removeClass("fancybox-is-zoomable fancybox-can-zoomIn fancybox-can-zoomOut fancybox-can-swipe fancybox-can-pan"),n=!!(o=i.canPan(t,e))||i.isZoomable(),a.toggleClass("fancybox-is-zoomable",n),m("[data-fancybox-zoom]").prop("disabled",!n),o?a.addClass("fancybox-can-pan"):n&&("zoom"===r.opts.clickContent||m.isFunction(r.opts.clickContent)&&"zoom"==r.opts.clickContent(r))?a.addClass("fancybox-can-zoomIn"):r.opts.touch&&(r.opts.touch.vertical||1<i.group.length)&&"video"!==r.contentType&&a.addClass("fancybox-can-swipe"))},isZoomable:function(){var t,e=this.current;if(e&&!this.isClosing&&"image"===e.type&&!e.hasError){if(!e.isLoaded)return!0;if((t=this.getFitPos(e))&&(e.width>t.width||e.height>t.height))return!0}return!1},isScaledDown:function(t,e){var o=!1,n=this.current,i=n.$content;return t!==g&&e!==g?o=t<n.width&&e<n.height:i&&(o=(o=m.fancybox.getTranslate(i)).width<n.width&&o.height<n.height),o},canPan:function(t,e){var o=this.current,n=null,i=!1;return"image"===o.type&&(o.isComplete||t&&e)&&!o.hasError&&(i=this.getFitPos(o),t!==g&&e!==g?n={width:t,height:e}:o.isComplete&&(n=m.fancybox.getTranslate(o.$content)),n&&i&&(i=1.5<Math.abs(n.width-i.width)||1.5<Math.abs(n.height-i.height))),i},loadSlide:function(o){var t,e,n,i=this;if(!o.isLoading&&!o.isLoaded){if(!(o.isLoading=!0)===i.trigger("beforeLoad",o))return o.isLoading=!1;switch(t=o.type,(e=o.$slide).off("refresh").trigger("onReset").addClass(o.opts.slideClass),t){case"image":i.setImage(o);break;case"iframe":i.setIframe(o);break;case"html":i.setContent(o,o.src||o.content);break;case"video":i.setContent(o,o.opts.video.tpl.replace(/\{\{src\}\}/gi,o.src).replace("{{format}}",o.opts.videoFormat||o.opts.video.format||"").replace("{{poster}}",o.thumb||""));break;case"inline":m(o.src).length?i.setContent(o,m(o.src)):i.setError(o);break;case"ajax":i.showLoading(o),n=m.ajax(m.extend({},o.opts.ajax.settings,{url:o.src,success:function(t,e){"success"===e&&i.setContent(o,t)},error:function(t,e){t&&"abort"!==e&&i.setError(o)}})),e.one("onReset",function(){n.abort()});break;default:i.setError(o)}return!0}},setImage:function(e){var t,o=this;setTimeout(function(){var t=e.$image;o.isClosing||!e.isLoading||t&&t.length&&t[0].complete||e.hasError||o.showLoading(e)},50),o.checkSrcset(e),e.$content=m('<div class="fancybox-content"></div>').addClass("fancybox-is-hidden").appendTo(e.$slide.addClass("fancybox-slide--image")),!1!==e.opts.preload&&e.opts.width&&e.opts.height&&e.thumb&&(e.width=e.opts.width,e.height=e.opts.height,(t=c.createElement("img")).onerror=function(){m(this).remove(),e.$ghost=null},t.onload=function(){o.afterLoad(e)},e.$ghost=m(t).addClass("fancybox-image").appendTo(e.$content).attr("src",e.thumb)),o.setBigImage(e)},checkSrcset:function(t){var e,o,n,i,r=t.opts.srcset||t.opts.image.srcset;if(r){n=l.devicePixelRatio||1,i=l.innerWidth*n,(o=r.split(",").map(function(t){var n={};return t.trim().split(/\s+/).forEach(function(t,e){var o=parseInt(t.substring(0,t.length-1),10);if(0===e)return n.url=t;o&&(n.value=o,n.postfix=t[t.length-1])}),n})).sort(function(t,e){return t.value-e.value});for(var a=0;a<o.length;a++){var s=o[a];if("w"===s.postfix&&s.value>=i||"x"===s.postfix&&s.value>=n){e=s;break}}!e&&o.length&&(e=o[o.length-1]),e&&(t.src=e.url,t.width&&t.height&&"w"==e.postfix&&(t.height=t.width/t.height*e.value,t.width=e.value),t.opts.srcset=r)}},setBigImage:function(e){var o=this,t=c.createElement("img"),n=m(t);e.$image=n.one("error",function(){o.setError(e)}).one("load",function(){var t;e.$ghost||(o.resolveImageSlideSize(e,this.naturalWidth,this.naturalHeight),o.afterLoad(e)),o.isClosing||(e.opts.srcset&&((t=e.opts.sizes)&&"auto"!==t||(t=(1<e.width/e.height&&1<r.width()/r.height()?"100":Math.round(e.width/e.height*100))+"vw"),n.attr("sizes",t).attr("srcset",e.opts.srcset)),e.$ghost&&setTimeout(function(){e.$ghost&&!o.isClosing&&e.$ghost.hide()},Math.min(300,Math.max(1e3,e.height/1600))),o.hideLoading(e))}).addClass("fancybox-image").attr("src",e.src).appendTo(e.$content),(t.complete||"complete"==t.readyState)&&n.naturalWidth&&n.naturalHeight?n.trigger("load"):t.error&&n.trigger("error")},resolveImageSlideSize:function(t,e,o){var n=parseInt(t.opts.width,10),i=parseInt(t.opts.height,10);t.width=e,t.height=o,0<n&&(t.width=n,t.height=Math.floor(n*o/e)),0<i&&(t.width=Math.floor(i*e/o),t.height=i)},setIframe:function(i){var r,e=this,a=i.opts.iframe,s=i.$slide;i.$content=m('<div class="fancybox-content'+(a.preload?" fancybox-is-hidden":"")+'"></div>').css(a.css).appendTo(s),s.addClass("fancybox-slide--"+i.contentType),i.$iframe=r=m(a.tpl.replace(/\{rnd\}/g,(new Date).getTime())).attr(a.attr).appendTo(i.$content),a.preload?(e.showLoading(i),r.on("load.fb error.fb",function(t){this.isReady=1,i.$slide.trigger("refresh"),e.afterLoad(i)}),s.on("refresh.fb",function(){var t,e=i.$content,o=a.css.width,n=a.css.height;if(1===r[0].isReady){try{t=r.contents().find("body")}catch(t){}t&&t.length&&t.children().length&&(s.css("overflow","visible"),e.css({width:"100%","max-width":"100%",height:"9999px"}),o===g&&(o=Math.ceil(Math.max(t[0].clientWidth,t.outerWidth(!0)))),e.css("width",o||"").css("max-width",""),n===g&&(n=Math.ceil(Math.max(t[0].clientHeight,t.outerHeight(!0)))),e.css("height",n||""),s.css("overflow","auto")),e.removeClass("fancybox-is-hidden")}})):e.afterLoad(i),r.attr("src",i.src),s.one("onReset",function(){try{m(this).find("iframe").hide().unbind().attr("src","//about:blank")}catch(t){}m(this).off("refresh.fb").empty(),i.isLoaded=!1,i.isRevealed=!1})},setContent:function(t,e){this.isClosing||(this.hideLoading(t),t.$content&&m.fancybox.stop(t.$content),t.$slide.empty(),function(t){return t&&t.hasOwnProperty&&t instanceof m}(e)&&e.parent().length?((e.hasClass("fancybox-content")||e.parent().hasClass("fancybox-content"))&&e.parents(".fancybox-slide").trigger("onReset"),t.$placeholder=m("<div>").hide().insertAfter(e),e.css("display","inline-block")):t.hasError||("string"===m.type(e)&&(e=m("<div>").append(m.trim(e)).contents()),t.opts.filter&&(e=m("<div>").html(e).find(t.opts.filter))),t.$slide.one("onReset",function(){m(this).find("video,audio").trigger("pause"),t.$placeholder&&(t.$placeholder.after(e.removeClass("fancybox-content").hide()).remove(),t.$placeholder=null),t.$smallBtn&&(t.$smallBtn.remove(),t.$smallBtn=null),t.hasError||(m(this).empty(),t.isLoaded=!1,t.isRevealed=!1)}),m(e).appendTo(t.$slide),m(e).is("video,audio")&&(m(e).addClass("fancybox-video"),m(e).wrap("<div></div>"),t.contentType="video",t.opts.width=t.opts.width||m(e).attr("width"),t.opts.height=t.opts.height||m(e).attr("height")),t.$content=t.$slide.children().filter("div,form,main,video,audio,article,.fancybox-content").first(),t.$content.siblings().hide(),t.$content.length||(t.$content=t.$slide.wrapInner("<div></div>").children().first()),t.$content.addClass("fancybox-content"),t.$slide.addClass("fancybox-slide--"+t.contentType),this.afterLoad(t))},setError:function(t){t.hasError=!0,t.$slide.trigger("onReset").removeClass("fancybox-slide--"+t.contentType).addClass("fancybox-slide--error"),t.contentType="html",this.setContent(t,this.translate(t,t.opts.errorTpl)),t.pos===this.currPos&&(this.isAnimating=!1)},showLoading:function(t){(t=t||this.current)&&!t.$spinner&&(t.$spinner=m(this.translate(this,this.opts.spinnerTpl)).appendTo(t.$slide).hide().fadeIn("fast"))},hideLoading:function(t){(t=t||this.current)&&t.$spinner&&(t.$spinner.stop().remove(),delete t.$spinner)},afterLoad:function(t){var e=this;e.isClosing||(t.isLoading=!1,t.isLoaded=!0,e.trigger("afterLoad",t),e.hideLoading(t),!t.opts.smallBtn||t.$smallBtn&&t.$smallBtn.length||(t.$smallBtn=m(e.translate(t,t.opts.btnTpl.smallBtn)).appendTo(t.$content)),t.opts.protect&&t.$content&&!t.hasError&&(t.$content.on("contextmenu.fb",function(t){return 2==t.button&&t.preventDefault(),!0}),"image"===t.type&&m('<div class="fancybox-spaceball"></div>').appendTo(t.$content)),e.adjustCaption(t),e.adjustLayout(t),t.pos===e.currPos&&e.updateCursor(),e.revealContent(t))},adjustCaption:function(t){var e,o=this,n=t||o.current,i=n.opts.caption,r=n.opts.preventCaptionOverlap,a=o.$refs.caption,s=!1;a.toggleClass("fancybox-caption--separate",r),r&&i&&i.length&&(n.pos!==o.currPos?((e=a.clone().appendTo(a.parent())).children().eq(0).empty().html(i),s=e.outerHeight(!0),e.empty().remove()):o.$caption&&(s=o.$caption.outerHeight(!0)),n.$slide.css("padding-bottom",s||""))},adjustLayout:function(t){var e,o,n,i,r=t||this.current;r.isLoaded&&!0!==r.opts.disableLayoutFix&&(r.$content.css("margin-bottom",""),r.$content.outerHeight()>r.$slide.height()+.5&&(n=r.$slide[0].style["padding-bottom"],i=r.$slide.css("padding-bottom"),0<parseFloat(i)&&(e=r.$slide[0].scrollHeight,r.$slide.css("padding-bottom",0),Math.abs(e-r.$slide[0].scrollHeight)<1&&(o=i),r.$slide.css("padding-bottom",n))),r.$content.css("margin-bottom",o))},revealContent:function(t){var e,o,n,i,r=this,a=t.$slide,s=!1,l=!1,c=r.isMoved(t),d=t.isRevealed;return t.isRevealed=!0,e=t.opts[r.firstRun?"animationEffect":"transitionEffect"],n=t.opts[r.firstRun?"animationDuration":"transitionDuration"],n=parseInt(t.forcedDuration===g?n:t.forcedDuration,10),!c&&t.pos===r.currPos&&n||(e=!1),"zoom"===e&&(t.pos===r.currPos&&n&&"image"===t.type&&!t.hasError&&(l=r.getThumbPos(t))?s=r.getFitPos(t):e="fade"),"zoom"===e?(r.isAnimating=!0,s.scaleX=s.width/l.width,s.scaleY=s.height/l.height,"auto"==(i=t.opts.zoomOpacity)&&(i=.1<Math.abs(t.width/t.height-l.width/l.height)),i&&(l.opacity=.1,s.opacity=1),m.fancybox.setTranslate(t.$content.removeClass("fancybox-is-hidden"),l),p(t.$content),void m.fancybox.animate(t.$content,s,n,function(){r.isAnimating=!1,r.complete()})):(r.updateSlide(t),e?(m.fancybox.stop(a),o="fancybox-slide--"+(t.pos>=r.prevPos?"next":"previous")+" fancybox-animated fancybox-fx-"+e,a.addClass(o).removeClass("fancybox-slide--current"),t.$content.removeClass("fancybox-is-hidden"),p(a),"image"!==t.type&&t.$content.hide().show(0),void m.fancybox.animate(a,"fancybox-slide--current",n,function(){a.removeClass(o).css({transform:"",opacity:""}),t.pos===r.currPos&&r.complete()},!0)):(t.$content.removeClass("fancybox-is-hidden"),d||!c||"image"!==t.type||t.hasError||t.$content.hide().fadeIn("fast"),void(t.pos===r.currPos&&r.complete())))},getThumbPos:function(t){var e,o,n,i,r,a,s=t.$thumb;return!(!s||!function(t){var e,o;return!(!t||t.ownerDocument!==c)&&(m(".fancybox-container").css("pointer-events","none"),e={x:t.getBoundingClientRect().left+t.offsetWidth/2,y:t.getBoundingClientRect().top+t.offsetHeight/2},o=c.elementFromPoint(e.x,e.y)===t,m(".fancybox-container").css("pointer-events",""),o)}(s[0]))&&(o=m.fancybox.getTranslate(s),n=parseFloat(s.css("border-top-width")||0),i=parseFloat(s.css("border-right-width")||0),r=parseFloat(s.css("border-bottom-width")||0),a=parseFloat(s.css("border-left-width")||0),e={top:o.top+n,left:o.left+a,width:o.width-i-a,height:o.height-n-r,scaleX:1,scaleY:1},0<o.width&&0<o.height&&e)},complete:function(){var t,o=this,e=o.current,n={};!o.isMoved()&&e.isLoaded&&(e.isComplete||(e.isComplete=!0,e.$slide.siblings().trigger("onReset"),o.preload("inline"),p(e.$slide),e.$slide.addClass("fancybox-slide--complete"),m.each(o.slides,function(t,e){e.pos>=o.currPos-1&&e.pos<=o.currPos+1?n[e.pos]=e:e&&(m.fancybox.stop(e.$slide),e.$slide.off().remove())}),o.slides=n),o.isAnimating=!1,o.updateCursor(),o.trigger("afterShow"),e.opts.video.autoStart&&e.$slide.find("video,audio").filter(":visible:first").trigger("play").one("ended",function(){Document.exitFullscreen?Document.exitFullscreen():this.webkitExitFullscreen&&this.webkitExitFullscreen(),o.next()}),e.opts.autoFocus&&"html"===e.contentType&&((t=e.$content.find("input[autofocus]:enabled:visible:first")).length?t.trigger("focus"):o.focus(null,!0)),e.$slide.scrollTop(0).scrollLeft(0))},preload:function(t){var e,o,n=this;n.group.length<2||(o=n.slides[n.currPos+1],(e=n.slides[n.currPos-1])&&e.type===t&&n.loadSlide(e),o&&o.type===t&&n.loadSlide(o))},focus:function(t,e){var o,n,i=this,r=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","iframe","object","embed","video","audio","[contenteditable]",'[tabindex]:not([tabindex^="-"])'].join(",");i.isClosing||((o=(o=!t&&i.current&&i.current.isComplete?i.current.$slide.find("*:visible"+(e?":not(.fancybox-close-small)":"")):i.$refs.container.find("*:visible")).filter(r).filter(function(){return"hidden"!==m(this).css("visibility")&&!m(this).hasClass("disabled")})).length?(n=o.index(c.activeElement),t&&t.shiftKey?(n<0||0==n)&&(t.preventDefault(),o.eq(o.length-1).trigger("focus")):(n<0||n==o.length-1)&&(t&&t.preventDefault(),o.eq(0).trigger("focus"))):i.$refs.container.trigger("focus"))},activate:function(){var e=this;m(".fancybox-container").each(function(){var t=m(this).data("FancyBox");t&&t.id!==e.id&&!t.isClosing&&(t.trigger("onDeactivate"),t.removeEvents(),t.isVisible=!1)}),e.isVisible=!0,(e.current||e.isIdle)&&(e.update(),e.updateControls()),e.trigger("onActivate"),e.addEvents()},close:function(t,e){function o(){d.cleanUp(t)}var n,i,r,a,s,l,c,d=this,u=d.current;return!d.isClosing&&(!(d.isClosing=!0)===d.trigger("beforeClose",t)?(d.isClosing=!1,h(function(){d.update()}),!1):(d.removeEvents(),r=u.$content,n=u.opts.animationEffect,i=m.isNumeric(e)?e:n?u.opts.animationDuration:0,u.$slide.removeClass("fancybox-slide--complete fancybox-slide--next fancybox-slide--previous fancybox-animated"),!0!==t?m.fancybox.stop(u.$slide):n=!1,u.$slide.siblings().trigger("onReset").remove(),i&&d.$refs.container.removeClass("fancybox-is-open").addClass("fancybox-is-closing").css("transition-duration",i+"ms"),d.hideLoading(u),d.hideControls(!0),d.updateCursor(),"zoom"!==n||r&&i&&"image"===u.type&&!d.isMoved()&&!u.hasError&&(c=d.getThumbPos(u))||(n="fade"),"zoom"===n?(m.fancybox.stop(r),l={top:(a=m.fancybox.getTranslate(r)).top,left:a.left,scaleX:a.width/c.width,scaleY:a.height/c.height,width:c.width,height:c.height},"auto"==(s=u.opts.zoomOpacity)&&(s=.1<Math.abs(u.width/u.height-c.width/c.height)),s&&(c.opacity=0),m.fancybox.setTranslate(r,l),p(r),m.fancybox.animate(r,c,i,o)):n&&i?m.fancybox.animate(u.$slide.addClass("fancybox-slide--previous").removeClass("fancybox-slide--current"),"fancybox-animated fancybox-fx-"+n,i,o):!0===t?setTimeout(o,i):o(),!0))},cleanUp:function(t){var e,o,n,i=this,r=i.current.opts.$orig;i.current.$slide.trigger("onReset"),i.$refs.container.empty().remove(),i.trigger("afterClose",t),i.current.opts.backFocus&&(r&&r.length&&r.is(":visible")||(r=i.$trigger),r&&r.length&&(o=l.scrollX,n=l.scrollY,r.trigger("focus"),m("html, body").scrollTop(n).scrollLeft(o))),i.current=null,(e=m.fancybox.getInstance())?e.activate():(m("body").removeClass("fancybox-active compensate-for-scrollbar"),m("#fancybox-style-noscroll").remove())},trigger:function(t,e){var o,n=Array.prototype.slice.call(arguments,1),i=this,r=e&&e.opts?e:i.current;if(r?n.unshift(r):r=i,n.unshift(i),m.isFunction(r.opts[t])&&(o=r.opts[t].apply(r,n)),!1===o)return o;"afterClose"!==t&&i.$refs?i.$refs.container.trigger(t+".fb",n):a.trigger(t+".fb",n)},updateControls:function(){var t=this,e=t.current,o=e.index,n=t.$refs.container,i=t.$refs.caption,r=e.opts.caption;e.$slide.trigger("refresh"),r&&r.length?(t.$caption=i).children().eq(0).html(r):t.$caption=null,t.hasHiddenControls||t.isIdle||t.showControls(),n.find("[data-fancybox-count]").html(t.group.length),n.find("[data-fancybox-index]").html(o+1),n.find("[data-fancybox-prev]").prop("disabled",!e.opts.loop&&o<=0),n.find("[data-fancybox-next]").prop("disabled",!e.opts.loop&&o>=t.group.length-1),"image"===e.type?n.find("[data-fancybox-zoom]").show().end().find("[data-fancybox-download]").attr("href",e.opts.image.src||e.src).show():e.opts.toolbar&&n.find("[data-fancybox-download],[data-fancybox-zoom]").hide(),m(c.activeElement).is(":hidden,[disabled]")&&t.$refs.container.trigger("focus")},hideControls:function(t){var e=["infobar","toolbar","nav"];!t&&this.current.opts.preventCaptionOverlap||e.push("caption"),this.$refs.container.removeClass(e.map(function(t){return"fancybox-show-"+t}).join(" ")),this.hasHiddenControls=!0},showControls:function(){var t=this,e=t.current?t.current.opts:t.opts,o=t.$refs.container;t.hasHiddenControls=!1,t.idleSecondsCounter=0,o.toggleClass("fancybox-show-toolbar",!(!e.toolbar||!e.buttons)).toggleClass("fancybox-show-infobar",!!(e.infobar&&1<t.group.length)).toggleClass("fancybox-show-caption",!!t.$caption).toggleClass("fancybox-show-nav",!!(e.arrows&&1<t.group.length)).toggleClass("fancybox-is-modal",!!e.modal)},toggleControls:function(){this.hasHiddenControls?this.showControls():this.hideControls()}}),m.fancybox={version:"3.5.7",defaults:i,getInstance:function(t){var e=m('.fancybox-container:not(".fancybox-is-closing"):last').data("FancyBox"),o=Array.prototype.slice.call(arguments,1);return e instanceof v&&("string"===m.type(t)?e[t].apply(e,o):"function"===m.type(t)&&t.apply(e,o),e)},open:function(t,e,o){return new v(t,e,o)},close:function(t){var e=this.getInstance();e&&(e.close(),!0===t&&this.close(t))},destroy:function(){this.close(!0),a.add("body").off("click.fb-start","**")},isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),use3d:(t=c.createElement("div"),l.getComputedStyle&&l.getComputedStyle(t)&&l.getComputedStyle(t).getPropertyValue("transform")&&!(c.documentMode&&c.documentMode<11)),getTranslate:function(t){var e;return!(!t||!t.length)&&{top:(e=t[0].getBoundingClientRect()).top||0,left:e.left||0,width:e.width,height:e.height,opacity:parseFloat(t.css("opacity"))}},setTranslate:function(t,e){var o="",n={};if(t&&e)return e.left===g&&e.top===g||(o=(e.left===g?t.position().left:e.left)+"px, "+(e.top===g?t.position().top:e.top)+"px",o=this.use3d?"translate3d("+o+", 0px)":"translate("+o+")"),e.scaleX!==g&&e.scaleY!==g?o+=" scale("+e.scaleX+", "+e.scaleY+")":e.scaleX!==g&&(o+=" scaleX("+e.scaleX+")"),o.length&&(n.transform=o),e.opacity!==g&&(n.opacity=e.opacity),e.width!==g&&(n.width=e.width),e.height!==g&&(n.height=e.height),t.css(n)},animate:function(e,o,n,i,r){var a,s=this;m.isFunction(n)&&(i=n,n=null),s.stop(e),a=s.getTranslate(e),e.on(u,function(t){t&&t.originalEvent&&(!e.is(t.originalEvent.target)||"z-index"==t.originalEvent.propertyName)||(s.stop(e),m.isNumeric(n)&&e.css("transition-duration",""),m.isPlainObject(o)?o.scaleX!==g&&o.scaleY!==g&&s.setTranslate(e,{top:o.top,left:o.left,width:a.width*o.scaleX,height:a.height*o.scaleY,scaleX:1,scaleY:1}):!0!==r&&e.removeClass(o),m.isFunction(i)&&i(t))}),m.isNumeric(n)&&e.css("transition-duration",n+"ms"),m.isPlainObject(o)?(o.scaleX!==g&&o.scaleY!==g&&(delete o.width,delete o.height,e.parent().hasClass("fancybox-slide--image")&&e.parent().addClass("fancybox-is-scaling")),m.fancybox.setTranslate(e,o)):e.addClass(o),e.data("timer",setTimeout(function(){e.trigger(u)},n+33))},stop:function(t,e){t&&t.length&&(clearTimeout(t.data("timer")),e&&t.trigger(u),t.off(u).css("transition-duration",""),t.parent().removeClass("fancybox-is-scaling"))}},m.fn.fancybox=function(t){var e;return(e=(t=t||{}).selector||!1)?m("body").off("click.fb-start",e).on("click.fb-start",e,{options:t},b):this.off("click.fb-start").on("click.fb-start",{items:this,options:t},b),this},a.on("click.fb-start","[data-fancybox]",b),a.on("click.fb-start","[data-fancybox-trigger]",function(t){m('[data-fancybox="'+m(this).attr("data-fancybox-trigger")+'"]').eq(m(this).attr("data-fancybox-index")||0).trigger("click.fb-start",{$trigger:m(this)})}),e=".fancybox-button",o="fancybox-focus",n=null,a.on("mousedown mouseup focus blur",e,function(t){switch(t.type){case"mousedown":n=m(this);break;case"mouseup":n=null;break;case"focusin":m(e).removeClass(o),m(this).is(n)||m(this).is("[disabled]")||m(this).addClass(o);break;case"focusout":m(e).removeClass(o)}})}function b(t,e){var o,n,i,r=[],a=0;t&&t.isDefaultPrevented()||(t.preventDefault(),e=e||{},t&&t.data&&(e=f(t.data.options,e)),o=e.$target||m(t.currentTarget).trigger("blur"),(i=m.fancybox.getInstance())&&i.$trigger&&i.$trigger.is(o)||(r=e.selector?m(e.selector):(n=o.attr("data-fancybox")||"")?(r=t.data?t.data.items:[]).length?r.filter('[data-fancybox="'+n+'"]'):m('[data-fancybox="'+n+'"]'):[o],(a=m(r).index(o))<0&&(a=0),(i=m.fancybox.open(r,e,a)).$trigger=o))}}(window,document,jQuery),function(p){"use strict";function f(o,t,e){if(o)return e=e||"","object"===p.type(e)&&(e=p.param(e,!0)),p.each(t,function(t,e){o=o.replace("$"+t,e||"")}),e.length&&(o+=(0<o.indexOf("?")?"&":"?")+e),o}var n={youtube:{matcher:/(youtube\.com|youtu\.be|youtube\-nocookie\.com)\/(watch\?(.*&)?v=|v\/|u\/|embed\/?)?(videoseries\?list=(.*)|[\w-]{11}|\?listType=(.*)&list=(.*))(.*)/i,params:{autoplay:1,autohide:1,fs:1,rel:0,hd:1,wmode:"transparent",enablejsapi:1,html5:1},paramPlace:8,type:"iframe",url:"https://www.youtube-nocookie.com/embed/$4",thumb:"https://img.youtube.com/vi/$4/hqdefault.jpg"},vimeo:{matcher:/^.+vimeo.com\/(.*\/)?([\d]+)(.*)?/,params:{autoplay:1,hd:1,show_title:1,show_byline:1,show_portrait:0,fullscreen:1},paramPlace:3,type:"iframe",url:"//player.vimeo.com/video/$2"},instagram:{matcher:/(instagr\.am|instagram\.com)\/p\/([a-zA-Z0-9_\-]+)\/?/i,type:"image",url:"//$1/p/$2/media/?size=l"},gmap_place:{matcher:/(maps\.)?google\.([a-z]{2,3}(\.[a-z]{2})?)\/(((maps\/(place\/(.*)\/)?\@(.*),(\d+.?\d+?)z))|(\?ll=))(.*)?/i,type:"iframe",url:function(t){return"//maps.google."+t[2]+"/?ll="+(t[9]?t[9]+"&z="+Math.floor(t[10])+(t[12]?t[12].replace(/^\//,"&"):""):t[12]+"").replace(/\?/,"&")+"&output="+(t[12]&&0<t[12].indexOf("layer=c")?"svembed":"embed")}},gmap_search:{matcher:/(maps\.)?google\.([a-z]{2,3}(\.[a-z]{2})?)\/(maps\/search\/)(.*)/i,type:"iframe",url:function(t){return"//maps.google."+t[2]+"/maps?q="+t[5].replace("query=","q=").replace("api=1","")+"&output=embed"}}};p(document).on("objectNeedsType.fb",function(t,e,i){var o,r,a,s,l,c,d,u=i.src||"",h=!1;o=p.extend(!0,{},n,i.opts.media),p.each(o,function(t,e){if(a=u.match(e.matcher)){if(h=e.type,d=t,c={},e.paramPlace&&a[e.paramPlace]){"?"==(l=a[e.paramPlace])[0]&&(l=l.substring(1)),l=l.split("&");for(var o=0;o<l.length;++o){var n=l[o].split("=",2);2==n.length&&(c[n[0]]=decodeURIComponent(n[1].replace(/\+/g," ")))}}return s=p.extend(!0,{},e.params,i.opts[t],c),u="function"===p.type(e.url)?e.url.call(this,a,s,i):f(e.url,a,s),r="function"===p.type(e.thumb)?e.thumb.call(this,a,s,i):f(e.thumb,a),"youtube"===t?u=u.replace(/&t=((\d+)m)?(\d+)s/,function(t,e,o,n){return"&start="+((o?60*parseInt(o,10):0)+parseInt(n,10))}):"vimeo"===t&&(u=u.replace("&%23","#")),!1}}),h?(i.opts.thumb||i.opts.$thumb&&i.opts.$thumb.length||(i.opts.thumb=r),"iframe"===h&&(i.opts=p.extend(!0,i.opts,{iframe:{preload:!1,attr:{scrolling:"no"}}})),p.extend(i,{type:h,src:u,origSrc:i.src,contentSource:d,contentType:"image"===h?"image":"gmap_place"==d||"gmap_search"==d?"map":"video"})):u&&(i.type=i.opts.defaultType)});var i={youtube:{src:"https://www.youtube.com/iframe_api",class:"YT",loading:!1,loaded:!1},vimeo:{src:"https://player.vimeo.com/api/player.js",class:"Vimeo",loading:!1,loaded:!1},load:function(t){var e,o=this;this[t].loaded?setTimeout(function(){o.done(t)}):this[t].loading||(this[t].loading=!0,(e=document.createElement("script")).type="text/javascript",e.src=this[t].src,"youtube"===t?window.onYouTubeIframeAPIReady=function(){o[t].loaded=!0,o.done(t)}:e.onload=function(){o[t].loaded=!0,o.done(t)},document.body.appendChild(e))},done:function(t){var e,o;"youtube"===t&&delete window.onYouTubeIframeAPIReady,(e=p.fancybox.getInstance())&&(o=e.current.$content.find("iframe"),"youtube"===t&&void 0!==YT&&YT?new YT.Player(o.attr("id"),{events:{onStateChange:function(t){0==t.data&&e.next()}}}):"vimeo"===t&&void 0!==Vimeo&&Vimeo&&new Vimeo.Player(o).on("ended",function(){e.next()}))}};p(document).on({"afterShow.fb":function(t,e,o){1<e.group.length&&("youtube"===o.contentSource||"vimeo"===o.contentSource)&&i.load(o.contentSource)}})}(jQuery),function(m,l,g){"use strict";function d(t){var e=[];for(var o in t=(t=t.originalEvent||t||m.e).touches&&t.touches.length?t.touches:t.changedTouches&&t.changedTouches.length?t.changedTouches:[t])t[o].pageX?e.push({x:t[o].pageX,y:t[o].pageY}):t[o].clientX&&e.push({x:t[o].clientX,y:t[o].clientY});return e}function v(t,e,o){return e&&t?"x"===o?t.x-e.x:"y"===o?t.y-e.y:Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)):0}function c(t){if(t.is('a,area,button,[role="button"],input,label,select,summary,textarea,video,audio,iframe')||g.isFunction(t.get(0).onclick)||t.data("selectable"))return!0;for(var e=0,o=t[0].attributes,n=o.length;e<n;e++)if("data-fancybox-"===o[e].nodeName.substr(0,14))return!0;return!1}function u(t){for(var e,o,n,i,r,a=!1;e=t.get(0),void 0,o=m.getComputedStyle(e)["overflow-y"],n=m.getComputedStyle(e)["overflow-x"],i=("scroll"===o||"auto"===o)&&e.scrollHeight>e.clientHeight,r=("scroll"===n||"auto"===n)&&e.scrollWidth>e.clientWidth,!(a=i||r)&&(t=t.parent()).length&&!t.hasClass("fancybox-stage")&&!t.is("body"););return a}function o(t){var e=this;e.instance=t,e.$bg=t.$refs.bg,e.$stage=t.$refs.stage,e.$container=t.$refs.container,e.destroy(),e.$container.on("touchstart.fb.touch mousedown.fb.touch",g.proxy(e,"ontouchstart"))}var b=m.requestAnimationFrame||m.webkitRequestAnimationFrame||m.mozRequestAnimationFrame||m.oRequestAnimationFrame||function(t){return m.setTimeout(t,1e3/60)},y=m.cancelAnimationFrame||m.webkitCancelAnimationFrame||m.mozCancelAnimationFrame||m.oCancelAnimationFrame||function(t){m.clearTimeout(t)};o.prototype.destroy=function(){var t=this;t.$container.off(".fb.touch"),g(l).off(".fb.touch"),t.requestId&&(y(t.requestId),t.requestId=null),t.tapped&&(clearTimeout(t.tapped),t.tapped=null)},o.prototype.ontouchstart=function(t){var e=this,o=g(t.target),n=e.instance,i=n.current,r=i.$slide,a=i.$content,s="touchstart"==t.type;if(s&&e.$container.off("mousedown.fb.touch"),(!t.originalEvent||2!=t.originalEvent.button)&&r.length&&o.length&&!c(o)&&!c(o.parent())&&(o.is("img")||!(t.originalEvent.clientX>o[0].clientWidth+o.offset().left))){if(!i||n.isAnimating||i.$slide.hasClass("fancybox-animated"))return t.stopPropagation(),void t.preventDefault();e.realPoints=e.startPoints=d(t),e.startPoints.length&&(i.touch&&t.stopPropagation(),e.startEvent=t,e.canTap=!0,e.$target=o,e.$content=a,e.opts=i.opts.touch,e.isPanning=!1,e.isSwiping=!1,e.isZooming=!1,e.isScrolling=!1,e.canPan=n.canPan(),e.startTime=(new Date).getTime(),e.distanceX=e.distanceY=e.distance=0,e.canvasWidth=Math.round(r[0].clientWidth),e.canvasHeight=Math.round(r[0].clientHeight),e.contentLastPos=null,e.contentStartPos=g.fancybox.getTranslate(e.$content)||{top:0,left:0},e.sliderStartPos=g.fancybox.getTranslate(r),e.stagePos=g.fancybox.getTranslate(n.$refs.stage),e.sliderStartPos.top-=e.stagePos.top,e.sliderStartPos.left-=e.stagePos.left,e.contentStartPos.top-=e.stagePos.top,e.contentStartPos.left-=e.stagePos.left,g(l).off(".fb.touch").on(s?"touchend.fb.touch touchcancel.fb.touch":"mouseup.fb.touch mouseleave.fb.touch",g.proxy(e,"ontouchend")).on(s?"touchmove.fb.touch":"mousemove.fb.touch",g.proxy(e,"ontouchmove")),g.fancybox.isMobile&&l.addEventListener("scroll",e.onscroll,!0),((e.opts||e.canPan)&&(o.is(e.$stage)||e.$stage.find(o).length)||(o.is(".fancybox-image")&&t.preventDefault(),g.fancybox.isMobile&&o.parents(".fancybox-caption").length))&&(e.isScrollable=u(o)||u(o.parent()),g.fancybox.isMobile&&e.isScrollable||t.preventDefault(),1!==e.startPoints.length&&!i.hasError||(e.canPan?(g.fancybox.stop(e.$content),e.isPanning=!0):e.isSwiping=!0,e.$container.addClass("fancybox-is-grabbing")),2===e.startPoints.length&&"image"===i.type&&(i.isLoaded||i.$ghost)&&(e.canTap=!1,e.isSwiping=!1,e.isPanning=!1,e.isZooming=!0,g.fancybox.stop(e.$content),e.centerPointStartX=.5*(e.startPoints[0].x+e.startPoints[1].x)-g(m).scrollLeft(),e.centerPointStartY=.5*(e.startPoints[0].y+e.startPoints[1].y)-g(m).scrollTop(),e.percentageOfImageAtPinchPointX=(e.centerPointStartX-e.contentStartPos.left)/e.contentStartPos.width,e.percentageOfImageAtPinchPointY=(e.centerPointStartY-e.contentStartPos.top)/e.contentStartPos.height,e.startDistanceBetweenFingers=v(e.startPoints[0],e.startPoints[1]))))}},o.prototype.onscroll=function(t){this.isScrolling=!0,l.removeEventListener("scroll",this.onscroll,!0)},o.prototype.ontouchmove=function(t){var e=this;void 0===t.originalEvent.buttons||0!==t.originalEvent.buttons?e.isScrolling?e.canTap=!1:(e.newPoints=d(t),(e.opts||e.canPan)&&e.newPoints.length&&e.newPoints.length&&(e.isSwiping&&!0===e.isSwiping||t.preventDefault(),e.distanceX=v(e.newPoints[0],e.startPoints[0],"x"),e.distanceY=v(e.newPoints[0],e.startPoints[0],"y"),e.distance=v(e.newPoints[0],e.startPoints[0]),0<e.distance&&(e.isSwiping?e.onSwipe(t):e.isPanning?e.onPan():e.isZooming&&e.onZoom()))):e.ontouchend(t)},o.prototype.onSwipe=function(t){var e,i=this,r=i.instance,o=i.isSwiping,n=i.sliderStartPos.left||0;if(!0!==o)"x"==o&&(0<i.distanceX&&(i.instance.group.length<2||0===i.instance.current.index&&!i.instance.current.opts.loop)?n+=Math.pow(i.distanceX,.8):i.distanceX<0&&(i.instance.group.length<2||i.instance.current.index===i.instance.group.length-1&&!i.instance.current.opts.loop)?n-=Math.pow(-i.distanceX,.8):n+=i.distanceX),i.sliderLastPos={top:"x"==o?0:i.sliderStartPos.top+i.distanceY,left:n},i.requestId&&(y(i.requestId),i.requestId=null),i.requestId=b(function(){i.sliderLastPos&&(g.each(i.instance.slides,function(t,e){var o=e.pos-i.instance.currPos;g.fancybox.setTranslate(e.$slide,{top:i.sliderLastPos.top,left:i.sliderLastPos.left+o*i.canvasWidth+o*e.opts.gutter})}),i.$container.addClass("fancybox-is-sliding"))});else if(10<Math.abs(i.distance)){if(i.canTap=!1,r.group.length<2&&i.opts.vertical?i.isSwiping="y":r.isDragging||!1===i.opts.vertical||"auto"===i.opts.vertical&&800<g(m).width()?i.isSwiping="x":(e=Math.abs(180*Math.atan2(i.distanceY,i.distanceX)/Math.PI),i.isSwiping=45<e&&e<135?"y":"x"),"y"===i.isSwiping&&g.fancybox.isMobile&&i.isScrollable)return void(i.isScrolling=!0);r.isDragging=i.isSwiping,i.startPoints=i.newPoints,g.each(r.slides,function(t,e){var o,n;g.fancybox.stop(e.$slide),o=g.fancybox.getTranslate(e.$slide),n=g.fancybox.getTranslate(r.$refs.stage),e.$slide.css({transform:"",opacity:"","transition-duration":""}).removeClass("fancybox-animated").removeClass(function(t,e){return(e.match(/(^|\s)fancybox-fx-\S+/g)||[]).join(" ")}),e.pos===r.current.pos&&(i.sliderStartPos.top=o.top-n.top,i.sliderStartPos.left=o.left-n.left),g.fancybox.setTranslate(e.$slide,{top:o.top-n.top,left:o.left-n.left})}),r.SlideShow&&r.SlideShow.isActive&&r.SlideShow.stop()}},o.prototype.onPan=function(){var t=this;v(t.newPoints[0],t.realPoints[0])<(g.fancybox.isMobile?10:5)?t.startPoints=t.newPoints:(t.canTap=!1,t.contentLastPos=t.limitMovement(),t.requestId&&y(t.requestId),t.requestId=b(function(){g.fancybox.setTranslate(t.$content,t.contentLastPos)}))},o.prototype.limitMovement=function(){var t,e,o,n,i,r,a=this,s=a.canvasWidth,l=a.canvasHeight,c=a.distanceX,d=a.distanceY,u=a.contentStartPos,h=u.left,p=u.top,f=u.width,m=u.height;return i=s<f?h+c:h,r=p+d,t=Math.max(0,.5*s-.5*f),e=Math.max(0,.5*l-.5*m),o=Math.min(s-f,.5*s-.5*f),n=Math.min(l-m,.5*l-.5*m),0<c&&t<i&&(i=t-1+Math.pow(-t+h+c,.8)||0),c<0&&i<o&&(i=o+1-Math.pow(o-h-c,.8)||0),0<d&&e<r&&(r=e-1+Math.pow(-e+p+d,.8)||0),d<0&&r<n&&(r=n+1-Math.pow(n-p-d,.8)||0),{top:r,left:i}},o.prototype.limitPosition=function(t,e,o,n){var i=this.canvasWidth,r=this.canvasHeight;return t=i<o?(t=0<t?0:t)<i-o?i-o:t:Math.max(0,i/2-o/2),{top:e=r<n?(e=0<e?0:e)<r-n?r-n:e:Math.max(0,r/2-n/2),left:t}},o.prototype.onZoom=function(){var t=this,e=t.contentStartPos,o=e.width,n=e.height,i=e.left,r=e.top,a=v(t.newPoints[0],t.newPoints[1])/t.startDistanceBetweenFingers,s=Math.floor(o*a),l=Math.floor(n*a),c=(o-s)*t.percentageOfImageAtPinchPointX,d=(n-l)*t.percentageOfImageAtPinchPointY,u=(t.newPoints[0].x+t.newPoints[1].x)/2-g(m).scrollLeft(),h=(t.newPoints[0].y+t.newPoints[1].y)/2-g(m).scrollTop(),p=u-t.centerPointStartX,f={top:r+(d+(h-t.centerPointStartY)),left:i+(c+p),scaleX:a,scaleY:a};t.canTap=!1,t.newWidth=s,t.newHeight=l,t.contentLastPos=f,t.requestId&&y(t.requestId),t.requestId=b(function(){g.fancybox.setTranslate(t.$content,t.contentLastPos)})},o.prototype.ontouchend=function(t){var e=this,o=e.isSwiping,n=e.isPanning,i=e.isZooming,r=e.isScrolling;if(e.endPoints=d(t),e.dMs=Math.max((new Date).getTime()-e.startTime,1),e.$container.removeClass("fancybox-is-grabbing"),g(l).off(".fb.touch"),l.removeEventListener("scroll",e.onscroll,!0),e.requestId&&(y(e.requestId),e.requestId=null),e.isSwiping=!1,e.isPanning=!1,e.isZooming=!1,e.isScrolling=!1,e.instance.isDragging=!1,e.canTap)return e.onTap(t);e.speed=100,e.velocityX=e.distanceX/e.dMs*.5,e.velocityY=e.distanceY/e.dMs*.5,n?e.endPanning():i?e.endZooming():e.endSwiping(o,r)},o.prototype.endSwiping=function(t,e){var o=this,n=!1,i=o.instance.group.length,r=Math.abs(o.distanceX),a="x"==t&&1<i&&(130<o.dMs&&10<r||50<r);o.sliderLastPos=null,"y"==t&&!e&&50<Math.abs(o.distanceY)?(g.fancybox.animate(o.instance.current.$slide,{top:o.sliderStartPos.top+o.distanceY+150*o.velocityY,opacity:0},200),n=o.instance.close(!0,250)):a&&0<o.distanceX?n=o.instance.previous(300):a&&o.distanceX<0&&(n=o.instance.next(300)),!1!==n||"x"!=t&&"y"!=t||o.instance.centerSlide(200),o.$container.removeClass("fancybox-is-sliding")},o.prototype.endPanning=function(){var t,e,o,n=this;n.contentLastPos&&(e=!1===n.opts.momentum||350<n.dMs?(t=n.contentLastPos.left,n.contentLastPos.top):(t=n.contentLastPos.left+500*n.velocityX,n.contentLastPos.top+500*n.velocityY),(o=n.limitPosition(t,e,n.contentStartPos.width,n.contentStartPos.height)).width=n.contentStartPos.width,o.height=n.contentStartPos.height,g.fancybox.animate(n.$content,o,366))},o.prototype.endZooming=function(){var t,e,o,n,i=this,r=i.instance.current,a=i.newWidth,s=i.newHeight;i.contentLastPos&&(t=i.contentLastPos.left,n={top:e=i.contentLastPos.top,left:t,width:a,height:s,scaleX:1,scaleY:1},g.fancybox.setTranslate(i.$content,n),a<i.canvasWidth&&s<i.canvasHeight?i.instance.scaleToFit(150):a>r.width||s>r.height?i.instance.scaleToActual(i.centerPointStartX,i.centerPointStartY,150):(o=i.limitPosition(t,e,a,s),g.fancybox.animate(i.$content,o,150)))},o.prototype.onTap=function(o){function t(t){var e=a.opts[t];if(g.isFunction(e)&&(e=e.apply(r,[a,o])),e)switch(e){case"close":r.close(n.startEvent);break;case"toggleControls":r.toggleControls();break;case"next":r.next();break;case"nextOrClose":1<r.group.length?r.next():r.close(n.startEvent);break;case"zoom":"image"==a.type&&(a.isLoaded||a.$ghost)&&(r.canPan()?r.scaleToFit():r.isScaledDown()?r.scaleToActual(l,c):r.group.length<2&&r.close(n.startEvent))}}var e,n=this,i=g(o.target),r=n.instance,a=r.current,s=o&&d(o)||n.startPoints,l=s[0]?s[0].x-g(m).scrollLeft()-n.stagePos.left:0,c=s[0]?s[0].y-g(m).scrollTop()-n.stagePos.top:0;if((!o.originalEvent||2!=o.originalEvent.button)&&(i.is("img")||!(l>i[0].clientWidth+i.offset().left))){if(i.is(".fancybox-bg,.fancybox-inner,.fancybox-outer,.fancybox-container"))e="Outside";else if(i.is(".fancybox-slide"))e="Slide";else{if(!r.current.$content||!r.current.$content.find(i).addBack().filter(i).length)return;e="Content"}if(n.tapped){if(clearTimeout(n.tapped),n.tapped=null,50<Math.abs(l-n.tapX)||50<Math.abs(c-n.tapY))return this;t("dblclick"+e)}else n.tapX=l,n.tapY=c,a.opts["dblclick"+e]&&a.opts["dblclick"+e]!==a.opts["click"+e]?n.tapped=setTimeout(function(){n.tapped=null,r.isAnimating||t("click"+e)},500):t("click"+e);return this}},g(l).on("onActivate.fb",function(t,e){e&&!e.Guestures&&(e.Guestures=new o(e))}).on("beforeClose.fb",function(t,e){e&&e.Guestures&&e.Guestures.destroy()})}(window,document,jQuery),function(a,s){"use strict";s.extend(!0,s.fancybox.defaults,{btnTpl:{slideShow:'<button data-fancybox-play class="fancybox-button fancybox-button--play" title="{{PLAY_START}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6.5 5.4v13.2l11-6.6z"/></svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.33 5.75h2.2v12.5h-2.2V5.75zm5.15 0h2.2v12.5h-2.2V5.75z"/></svg></button>'},slideShow:{autoStart:!1,speed:3e3,progress:!0}});function o(t){this.instance=t,this.init()}s.extend(o.prototype,{timer:null,isActive:!1,$button:null,init:function(){var t=this,e=t.instance,o=e.group[e.currIndex].opts.slideShow;t.$button=e.$refs.toolbar.find("[data-fancybox-play]").on("click",function(){t.toggle()}),e.group.length<2||!o?t.$button.hide():o.progress&&(t.$progress=s('<div class="fancybox-progress"></div>').appendTo(e.$refs.inner))},set:function(t){var e=this,o=e.instance,n=o.current;n&&(!0===t||n.opts.loop||o.currIndex<o.group.length-1)?e.isActive&&"video"!==n.contentType&&(e.$progress&&s.fancybox.animate(e.$progress.show(),{scaleX:1},n.opts.slideShow.speed),e.timer=setTimeout(function(){o.current.opts.loop||o.current.index!=o.group.length-1?o.next():o.jumpTo(0)},n.opts.slideShow.speed)):(e.stop(),o.idleSecondsCounter=0,o.showControls())},clear:function(){clearTimeout(this.timer),this.timer=null,this.$progress&&this.$progress.removeAttr("style").hide()},start:function(){var t=this,e=t.instance.current;e&&(t.$button.attr("title",(e.opts.i18n[e.opts.lang]||e.opts.i18n.en).PLAY_STOP).removeClass("fancybox-button--play").addClass("fancybox-button--pause"),t.isActive=!0,e.isComplete&&t.set(!0),t.instance.trigger("onSlideShowChange",!0))},stop:function(){var t=this,e=t.instance.current;t.clear(),t.$button.attr("title",(e.opts.i18n[e.opts.lang]||e.opts.i18n.en).PLAY_START).removeClass("fancybox-button--pause").addClass("fancybox-button--play"),t.isActive=!1,t.instance.trigger("onSlideShowChange",!1),t.$progress&&t.$progress.removeAttr("style").hide()},toggle:function(){this.isActive?this.stop():this.start()}}),s(a).on({"onInit.fb":function(t,e){e&&!e.SlideShow&&(e.SlideShow=new o(e))},"beforeShow.fb":function(t,e,o,n){var i=e&&e.SlideShow;n?i&&o.opts.slideShow.autoStart&&i.start():i&&i.isActive&&i.clear()},"afterShow.fb":function(t,e,o){var n=e&&e.SlideShow;n&&n.isActive&&n.set()},"afterKeydown.fb":function(t,e,o,n,i){var r=e&&e.SlideShow;!r||!o.opts.slideShow||80!==i&&32!==i||s(a.activeElement).is("button,a,input")||(n.preventDefault(),r.toggle())},"beforeClose.fb onDeactivate.fb":function(t,e){var o=e&&e.SlideShow;o&&o.stop()}}),s(a).on("visibilitychange",function(){var t=s.fancybox.getInstance(),e=t&&t.SlideShow;e&&e.isActive&&(a.hidden?e.clear():e.set())})}(document,jQuery),function(r,o){"use strict";var n=function(){for(var t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],e={},o=0;o<t.length;o++){var n=t[o];if(n&&n[1]in r){for(var i=0;i<n.length;i++)e[t[0][i]]=n[i];return e}}return!1}();if(n){var i={request:function(t){(t=t||r.documentElement)[n.requestFullscreen](t.ALLOW_KEYBOARD_INPUT)},exit:function(){r[n.exitFullscreen]()},toggle:function(t){t=t||r.documentElement,this.isFullscreen()?this.exit():this.request(t)},isFullscreen:function(){return Boolean(r[n.fullscreenElement])},enabled:function(){return Boolean(r[n.fullscreenEnabled])}};o.extend(!0,o.fancybox.defaults,{btnTpl:{fullScreen:'<button data-fancybox-fullscreen class="fancybox-button fancybox-button--fsenter" title="{{FULL_SCREEN}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"/></svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M5 16h3v3h2v-5H5zm3-8H5v2h5V5H8zm6 11h2v-3h3v-2h-5zm2-11V5h-2v5h5V8z"/></svg></button>'},fullScreen:{autoStart:!1}}),o(r).on(n.fullscreenchange,function(){var t=i.isFullscreen(),e=o.fancybox.getInstance();e&&(e.current&&"image"===e.current.type&&e.isAnimating&&(e.isAnimating=!1,e.update(!0,!0,0),e.isComplete||e.complete()),e.trigger("onFullscreenChange",t),e.$refs.container.toggleClass("fancybox-is-fullscreen",t),e.$refs.toolbar.find("[data-fancybox-fullscreen]").toggleClass("fancybox-button--fsenter",!t).toggleClass("fancybox-button--fsexit",t))})}o(r).on({"onInit.fb":function(t,e){n?e&&e.group[e.currIndex].opts.fullScreen?(e.$refs.container.on("click.fb-fullscreen","[data-fancybox-fullscreen]",function(t){t.stopPropagation(),t.preventDefault(),i.toggle()}),e.opts.fullScreen&&!0===e.opts.fullScreen.autoStart&&i.request(),e.FullScreen=i):e&&e.$refs.toolbar.find("[data-fancybox-fullscreen]").hide():e.$refs.toolbar.find("[data-fancybox-fullscreen]").remove()},"afterKeydown.fb":function(t,e,o,n,i){e&&e.FullScreen&&70===i&&(n.preventDefault(),e.FullScreen.toggle())},"beforeClose.fb":function(t,e){e&&e.FullScreen&&e.$refs.container.hasClass("fancybox-is-fullscreen")&&i.exit()}})}(document,jQuery),function(t,r){"use strict";var a="fancybox-thumbs",s=a+"-active";r.fancybox.defaults=r.extend(!0,{btnTpl:{thumbs:'<button data-fancybox-thumbs class="fancybox-button fancybox-button--thumbs" title="{{THUMBS}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14.59 14.59h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76H5.65v-3.76zm8.94-4.47h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76H5.65v-3.76zm8.94-4.47h3.76v3.76h-3.76V5.65zm-4.47 0h3.76v3.76h-3.76V5.65zm-4.47 0h3.76v3.76H5.65V5.65z"/></svg></button>'},thumbs:{autoStart:!1,hideOnClose:!0,parentEl:".fancybox-container",axis:"y"}},r.fancybox.defaults);function n(t){this.init(t)}r.extend(n.prototype,{$button:null,$grid:null,$list:null,isVisible:!1,isActive:!1,init:function(t){var e=this,o=t.group,n=0;e.instance=t,e.opts=o[t.currIndex].opts.thumbs,(t.Thumbs=e).$button=t.$refs.toolbar.find("[data-fancybox-thumbs]");for(var i=0,r=o.length;i<r&&(o[i].thumb&&n++,!(1<n));i++);1<n&&e.opts?(e.$button.removeAttr("style").on("click",function(){e.toggle()}),e.isActive=!0):e.$button.hide()},create:function(){var o,t=this,e=t.instance,n=t.opts.parentEl,i=[];t.$grid||(t.$grid=r('<div class="'+a+" "+a+"-"+t.opts.axis+'"></div>').appendTo(e.$refs.container.find(n).addBack().filter(n)),t.$grid.on("click","a",function(){e.jumpTo(r(this).attr("data-index"))})),t.$list||(t.$list=r('<div class="'+a+'__list">').appendTo(t.$grid)),r.each(e.group,function(t,e){(o=e.thumb)||"image"!==e.type||(o=e.src),i.push('<a href="javascript:;" tabindex="0" data-index="'+t+'"'+(o&&o.length?' style="background-image:url('+o+')"':'class="fancybox-thumbs-missing"')+"></a>")}),t.$list[0].innerHTML=i.join(""),"x"===t.opts.axis&&t.$list.width(parseInt(t.$grid.css("padding-right"),10)+e.group.length*t.$list.children().eq(0).outerWidth(!0))},focus:function(t){var e,o,n=this,i=n.$list,r=n.$grid;n.instance.current&&(o=(e=i.children().removeClass(s).filter('[data-index="'+n.instance.current.index+'"]').addClass(s)).position(),"y"===n.opts.axis&&(o.top<0||o.top>i.height()-e.outerHeight())?i.stop().animate({scrollTop:i.scrollTop()+o.top},t):"x"===n.opts.axis&&(o.left<r.scrollLeft()||o.left>r.scrollLeft()+(r.width()-e.outerWidth()))&&i.parent().stop().animate({scrollLeft:o.left},t))},update:function(){var t=this;t.instance.$refs.container.toggleClass("fancybox-show-thumbs",this.isVisible),t.isVisible?(t.$grid||t.create(),t.instance.trigger("onThumbsShow"),t.focus(0)):t.$grid&&t.instance.trigger("onThumbsHide"),t.instance.update()},hide:function(){this.isVisible=!1,this.update()},show:function(){this.isVisible=!0,this.update()},toggle:function(){this.isVisible=!this.isVisible,this.update()}}),r(t).on({"onInit.fb":function(t,e){var o;e&&!e.Thumbs&&(o=new n(e)).isActive&&!0===o.opts.autoStart&&o.show()},"beforeShow.fb":function(t,e,o,n){var i=e&&e.Thumbs;i&&i.isVisible&&i.focus(n?0:250)},"afterKeydown.fb":function(t,e,o,n,i){var r=e&&e.Thumbs;r&&r.isActive&&71===i&&(n.preventDefault(),r.toggle())},"beforeClose.fb":function(t,e){var o=e&&e.Thumbs;o&&o.isVisible&&!1!==o.opts.hideOnClose&&o.$grid.hide()}})}(document,jQuery),function(t,i){"use strict";i.extend(!0,i.fancybox.defaults,{btnTpl:{share:'<button data-fancybox-share class="fancybox-button fancybox-button--share" title="{{SHARE}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M2.55 19c1.4-8.4 9.1-9.8 11.9-9.8V5l7 7-7 6.3v-3.5c-2.8 0-10.5 2.1-11.9 4.2z"/></svg></button>'},share:{url:function(t,e){return!t.currentHash&&"inline"!==e.type&&"html"!==e.type&&(e.origSrc||e.src)||window.location},tpl:'<div class="fancybox-share"><h1>{{SHARE}}</h1><p><a class="fancybox-share__button fancybox-share__button--fb" href="https://www.facebook.com/sharer/sharer.php?u={{url}}"><svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="m287 456v-299c0-21 6-35 35-35h38v-63c-7-1-29-3-55-3-54 0-91 33-91 94v306m143-254h-205v72h196" /></svg><span>Facebook</span></a><a class="fancybox-share__button fancybox-share__button--tw" href="https://twitter.com/intent/tweet?url={{url}}&text={{descr}}"><svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="m456 133c-14 7-31 11-47 13 17-10 30-27 37-46-15 10-34 16-52 20-61-62-157-7-141 75-68-3-129-35-169-85-22 37-11 86 26 109-13 0-26-4-37-9 0 39 28 72 65 80-12 3-25 4-37 2 10 33 41 57 77 57-42 30-77 38-122 34 170 111 378-32 359-208 16-11 30-25 41-42z" /></svg><span>Twitter</span></a><a class="fancybox-share__button fancybox-share__button--pt" href="https://www.pinterest.com/pin/create/button/?url={{url}}&description={{descr}}&media={{media}}"><svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="m265 56c-109 0-164 78-164 144 0 39 15 74 47 87 5 2 10 0 12-5l4-19c2-6 1-8-3-13-9-11-15-25-15-45 0-58 43-110 113-110 62 0 96 38 96 88 0 67-30 122-73 122-24 0-42-19-36-44 6-29 20-60 20-81 0-19-10-35-31-35-25 0-44 26-44 60 0 21 7 36 7 36l-30 125c-8 37-1 83 0 87 0 3 4 4 5 2 2-3 32-39 42-75l16-64c8 16 31 29 56 29 74 0 124-67 124-157 0-69-58-132-146-132z" fill="#fff"/></svg><span>Pinterest</span></a></p><p><input class="fancybox-share__input" type="text" value="{{url_raw}}" onclick="select()" /></p></div>'}}),i(t).on("click","[data-fancybox-share]",function(){var t,e,o=i.fancybox.getInstance(),n=o.current||null;n&&("function"===i.type(n.opts.share.url)&&(t=n.opts.share.url.apply(n,[o,n])),e=n.opts.share.tpl.replace(/\{\{media\}\}/g,"image"===n.type?encodeURIComponent(n.src):"").replace(/\{\{url\}\}/g,encodeURIComponent(t)).replace(/\{\{url_raw\}\}/g,function(t){var e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};return String(t).replace(/[&<>"'`=\/]/g,function(t){return e[t]})}(t)).replace(/\{\{descr\}\}/g,o.$caption?encodeURIComponent(o.$caption.text()):""),i.fancybox.open({src:o.translate(o,e),type:"html",opts:{touch:!1,animationEffect:!1,afterLoad:function(t,e){o.$refs.container.one("beforeClose.fb",function(){t.close(null,0)}),e.$content.find(".fancybox-share__button").click(function(){return window.open(this.href,"Share","width=550, height=450"),!1})},mobile:{autoFocus:!1}}}))})}(document,jQuery),function(r,a,i){"use strict";function s(){var t=r.location.hash.substr(1),e=t.split("-"),o=1<e.length&&/^\+?\d+$/.test(e[e.length-1])&&parseInt(e.pop(-1),10)||1;return{hash:t,index:o<1?1:o,gallery:e.join("-")}}function e(t){""!==t.gallery&&i("[data-fancybox='"+i.escapeSelector(t.gallery)+"']").eq(t.index-1).focus().trigger("click.fb-start")}function l(t){var e,o;return!!t&&(""!==(o=(e=t.current?t.current.opts:t.opts).hash||(e.$orig?e.$orig.data("fancybox")||e.$orig.data("fancybox-trigger"):""))&&o)}i.escapeSelector||(i.escapeSelector=function(t){return(t+"").replace(/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,function(t,e){return e?"\0"===t?"ï¿½":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t})}),i(function(){!1!==i.fancybox.defaults.hash&&(i(a).on({"onInit.fb":function(t,e){var o,n;!1!==e.group[e.currIndex].opts.hash&&(o=s(),(n=l(e))&&o.gallery&&n==o.gallery&&(e.currIndex=o.index-1))},"beforeShow.fb":function(t,e,o,n){var i;o&&!1!==o.opts.hash&&(i=l(e))&&(e.currentHash=i+(1<e.group.length?"-"+(o.index+1):""),r.location.hash!=="#"+e.currentHash&&(n&&!e.origHash&&(e.origHash=r.location.hash),e.hashTimer&&clearTimeout(e.hashTimer),e.hashTimer=setTimeout(function(){"replaceState"in r.history?(r.history[n?"pushState":"replaceState"]({},a.title,r.location.pathname+r.location.search+"#"+e.currentHash),n&&(e.hasCreatedHistory=!0)):r.location.hash=e.currentHash,e.hashTimer=null},300)))},"beforeClose.fb":function(t,e,o){o&&!1!==o.opts.hash&&(clearTimeout(e.hashTimer),e.currentHash&&e.hasCreatedHistory?r.history.back():e.currentHash&&("replaceState"in r.history?r.history.replaceState({},a.title,r.location.pathname+r.location.search+(e.origHash||"")):r.location.hash=e.origHash),e.currentHash=null)}}),i(r).on("hashchange.fb",function(){var t=s(),n=null;i.each(i(".fancybox-container").get().reverse(),function(t,e){var o=i(e).data("FancyBox");if(o&&o.currentHash)return n=o,!1}),n?n.currentHash===t.gallery+"-"+t.index||1===t.index&&n.currentHash==t.gallery||(n.currentHash=null,n.close()):""!==t.gallery&&e(t)}),setTimeout(function(){i.fancybox.getInstance()||e(s())},50))})}(window,document,jQuery),function(t,e){"use strict";var i=(new Date).getTime();e(t).on({"onInit.fb":function(t,n,e){n.$refs.stage.on("mousewheel DOMMouseScroll wheel MozMousePixelScroll",function(t){var e=n.current,o=(new Date).getTime();n.group.length<2||!1===e.opts.wheel||"auto"===e.opts.wheel&&"image"!==e.type||(t.preventDefault(),t.stopPropagation(),e.$slide.hasClass("fancybox-animated")||(t=t.originalEvent||t,o-i<250||(i=o,n[(-t.deltaY||-t.deltaX||t.wheelDelta||-t.detail)<0?"next":"previous"]())))})}})}(document,jQuery),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).Swiper=e()}(this,function(){"use strict";var m="undefined"==typeof document?{body:{},addEventListener:function(){},removeEventListener:function(){},activeElement:{blur:function(){},nodeName:""},querySelector:function(){return null},querySelectorAll:function(){return[]},getElementById:function(){return null},createEvent:function(){return{initEvent:function(){}}},createElement:function(){return{children:[],childNodes:[],style:{},setAttribute:function(){},getElementsByTagName:function(){return[]}}},location:{hash:""}}:document,J="undefined"==typeof window?{document:m,navigator:{userAgent:""},location:{},history:{},CustomEvent:function(){return this},addEventListener:function(){},removeEventListener:function(){},getComputedStyle:function(){return{getPropertyValue:function(){return""}}},Image:function(){},Date:function(){},screen:{},setTimeout:function(){},clearTimeout:function(){}}:window,l=function(t){for(var e=0;e<t.length;e+=1)this[e]=t[e];return this.length=t.length,this};function L(t,e){var o=[],n=0;if(t&&!e&&t instanceof l)return t;if(t)if("string"==typeof t){var i,r,a=t.trim();if(0<=a.indexOf("<")&&0<=a.indexOf(">")){var s="div";for(0===a.indexOf("<li")&&(s="ul"),0===a.indexOf("<tr")&&(s="tbody"),0!==a.indexOf("<td")&&0!==a.indexOf("<th")||(s="tr"),0===a.indexOf("<tbody")&&(s="table"),0===a.indexOf("<option")&&(s="select"),(r=m.createElement(s)).innerHTML=a,n=0;n<r.childNodes.length;n+=1)o.push(r.childNodes[n])}else for(i=e||"#"!==t[0]||t.match(/[ .<>:~]/)?(e||m).querySelectorAll(t.trim()):[m.getElementById(t.trim().split("#")[1])],n=0;n<i.length;n+=1)i[n]&&o.push(i[n])}else if(t.nodeType||t===J||t===m)o.push(t);else if(0<t.length&&t[0].nodeType)for(n=0;n<t.length;n+=1)o.push(t[n]);return new l(o)}function r(t){for(var e=[],o=0;o<t.length;o+=1)-1===e.indexOf(t[o])&&e.push(t[o]);return e}L.fn=l.prototype,L.Class=l,L.Dom7=l;var e={addClass:function(t){if(void 0===t)return this;for(var e=t.split(" "),o=0;o<e.length;o+=1)for(var n=0;n<this.length;n+=1)void 0!==this[n]&&void 0!==this[n].classList&&this[n].classList.add(e[o]);return this},removeClass:function(t){for(var e=t.split(" "),o=0;o<e.length;o+=1)for(var n=0;n<this.length;n+=1)void 0!==this[n]&&void 0!==this[n].classList&&this[n].classList.remove(e[o]);return this},hasClass:function(t){return!!this[0]&&this[0].classList.contains(t)},toggleClass:function(t){for(var e=t.split(" "),o=0;o<e.length;o+=1)for(var n=0;n<this.length;n+=1)void 0!==this[n]&&void 0!==this[n].classList&&this[n].classList.toggle(e[o]);return this},attr:function(t,e){var o=arguments;if(1===arguments.length&&"string"==typeof t)return this[0]?this[0].getAttribute(t):void 0;for(var n=0;n<this.length;n+=1)if(2===o.length)this[n].setAttribute(t,e);else for(var i in t)this[n][i]=t[i],this[n].setAttribute(i,t[i]);return this},removeAttr:function(t){for(var e=0;e<this.length;e+=1)this[e].removeAttribute(t);return this},data:function(t,e){var o;if(void 0!==e){for(var n=0;n<this.length;n+=1)(o=this[n]).dom7ElementDataStorage||(o.dom7ElementDataStorage={}),o.dom7ElementDataStorage[t]=e;return this}if(o=this[0])return o.dom7ElementDataStorage&&t in o.dom7ElementDataStorage?o.dom7ElementDataStorage[t]:o.getAttribute("data-"+t)||void 0},transform:function(t){for(var e=0;e<this.length;e+=1){var o=this[e].style;o.webkitTransform=t,o.transform=t}return this},transition:function(t){"string"!=typeof t&&(t+="ms");for(var e=0;e<this.length;e+=1){var o=this[e].style;o.webkitTransitionDuration=t,o.transitionDuration=t}return this},on:function(){for(var t,e=[],o=arguments.length;o--;)e[o]=arguments[o];var n=e[0],r=e[1],a=e[2],i=e[3];function s(t){var e=t.target;if(e){var o=t.target.dom7EventData||[];if(o.indexOf(t)<0&&o.unshift(t),L(e).is(r))a.apply(e,o);else for(var n=L(e).parents(),i=0;i<n.length;i+=1)L(n[i]).is(r)&&a.apply(n[i],o)}}function l(t){var e=t&&t.target&&t.target.dom7EventData||[];e.indexOf(t)<0&&e.unshift(t),a.apply(this,e)}"function"==typeof e[1]&&(n=(t=e)[0],a=t[1],i=t[2],r=void 0),i=i||!1;for(var c,d=n.split(" "),u=0;u<this.length;u+=1){var h=this[u];if(r)for(c=0;c<d.length;c+=1){var p=d[c];h.dom7LiveListeners||(h.dom7LiveListeners={}),h.dom7LiveListeners[p]||(h.dom7LiveListeners[p]=[]),h.dom7LiveListeners[p].push({listener:a,proxyListener:s}),h.addEventListener(p,s,i)}else for(c=0;c<d.length;c+=1){var f=d[c];h.dom7Listeners||(h.dom7Listeners={}),h.dom7Listeners[f]||(h.dom7Listeners[f]=[]),h.dom7Listeners[f].push({listener:a,proxyListener:l}),h.addEventListener(f,l,i)}}return this},off:function(){for(var t,e=[],o=arguments.length;o--;)e[o]=arguments[o];var n=e[0],i=e[1],r=e[2],a=e[3];"function"==typeof e[1]&&(n=(t=e)[0],r=t[1],a=t[2],i=void 0),a=a||!1;for(var s=n.split(" "),l=0;l<s.length;l+=1)for(var c=s[l],d=0;d<this.length;d+=1){var u=this[d],h=void 0;if(!i&&u.dom7Listeners?h=u.dom7Listeners[c]:i&&u.dom7LiveListeners&&(h=u.dom7LiveListeners[c]),h&&h.length)for(var p=h.length-1;0<=p;p-=1){var f=h[p];r&&f.listener===r?(u.removeEventListener(c,f.proxyListener,a),h.splice(p,1)):r&&f.listener&&f.listener.dom7proxy&&f.listener.dom7proxy===r?(u.removeEventListener(c,f.proxyListener,a),h.splice(p,1)):r||(u.removeEventListener(c,f.proxyListener,a),h.splice(p,1))}}return this},trigger:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];for(var o=t[0].split(" "),n=t[1],i=0;i<o.length;i+=1)for(var r=o[i],a=0;a<this.length;a+=1){var s=this[a],l=void 0;try{l=new J.CustomEvent(r,{detail:n,bubbles:!0,cancelable:!0})}catch(t){(l=m.createEvent("Event")).initEvent(r,!0,!0),l.detail=n}s.dom7EventData=t.filter(function(t,e){return 0<e}),s.dispatchEvent(l),s.dom7EventData=[],delete s.dom7EventData}return this},transitionEnd:function(e){var o,n=["webkitTransitionEnd","transitionend"],i=this;function r(t){if(t.target===this)for(e.call(this,t),o=0;o<n.length;o+=1)i.off(n[o],r)}if(e)for(o=0;o<n.length;o+=1)i.on(n[o],r);return this},outerWidth:function(t){if(0<this.length){if(t){var e=this.styles();return this[0].offsetWidth+parseFloat(e.getPropertyValue("margin-right"))+parseFloat(e.getPropertyValue("margin-left"))}return this[0].offsetWidth}return null},outerHeight:function(t){if(0<this.length){if(t){var e=this.styles();return this[0].offsetHeight+parseFloat(e.getPropertyValue("margin-top"))+parseFloat(e.getPropertyValue("margin-bottom"))}return this[0].offsetHeight}return null},offset:function(){if(0<this.length){var t=this[0],e=t.getBoundingClientRect(),o=m.body,n=t.clientTop||o.clientTop||0,i=t.clientLeft||o.clientLeft||0,r=t===J?J.scrollY:t.scrollTop,a=t===J?J.scrollX:t.scrollLeft;return{top:e.top+r-n,left:e.left+a-i}}return null},css:function(t,e){var o;if(1===arguments.length){if("string"!=typeof t){for(o=0;o<this.length;o+=1)for(var n in t)this[o].style[n]=t[n];return this}if(this[0])return J.getComputedStyle(this[0],null).getPropertyValue(t)}if(2!==arguments.length||"string"!=typeof t)return this;for(o=0;o<this.length;o+=1)this[o].style[t]=e;return this},each:function(t){if(!t)return this;for(var e=0;e<this.length;e+=1)if(!1===t.call(this[e],e,this[e]))return this;return this},html:function(t){if(void 0===t)return this[0]?this[0].innerHTML:void 0;for(var e=0;e<this.length;e+=1)this[e].innerHTML=t;return this},text:function(t){if(void 0===t)return this[0]?this[0].textContent.trim():null;for(var e=0;e<this.length;e+=1)this[e].textContent=t;return this},is:function(t){var e,o,n=this[0];if(!n||void 0===t)return!1;if("string"==typeof t){if(n.matches)return n.matches(t);if(n.webkitMatchesSelector)return n.webkitMatchesSelector(t);if(n.msMatchesSelector)return n.msMatchesSelector(t);for(e=L(t),o=0;o<e.length;o+=1)if(e[o]===n)return!0;return!1}if(t===m)return n===m;if(t===J)return n===J;if(t.nodeType||t instanceof l){for(e=t.nodeType?[t]:t,o=0;o<e.length;o+=1)if(e[o]===n)return!0;return!1}return!1},index:function(){var t,e=this[0];if(e){for(t=0;null!==(e=e.previousSibling);)1===e.nodeType&&(t+=1);return t}},eq:function(t){if(void 0===t)return this;var e,o=this.length;return new l(o-1<t?[]:t<0?(e=o+t)<0?[]:[this[e]]:[this[t]])},append:function(){for(var t,e=[],o=arguments.length;o--;)e[o]=arguments[o];for(var n=0;n<e.length;n+=1){t=e[n];for(var i=0;i<this.length;i+=1)if("string"==typeof t){var r=m.createElement("div");for(r.innerHTML=t;r.firstChild;)this[i].appendChild(r.firstChild)}else if(t instanceof l)for(var a=0;a<t.length;a+=1)this[i].appendChild(t[a]);else this[i].appendChild(t)}return this},prepend:function(t){var e,o;for(e=0;e<this.length;e+=1)if("string"==typeof t){var n=m.createElement("div");for(n.innerHTML=t,o=n.childNodes.length-1;0<=o;o-=1)this[e].insertBefore(n.childNodes[o],this[e].childNodes[0])}else if(t instanceof l)for(o=0;o<t.length;o+=1)this[e].insertBefore(t[o],this[e].childNodes[0]);else this[e].insertBefore(t,this[e].childNodes[0]);return this},next:function(t){return 0<this.length?t?this[0].nextElementSibling&&L(this[0].nextElementSibling).is(t)?new l([this[0].nextElementSibling]):new l([]):this[0].nextElementSibling?new l([this[0].nextElementSibling]):new l([]):new l([])},nextAll:function(t){var e=[],o=this[0];if(!o)return new l([]);for(;o.nextElementSibling;){var n=o.nextElementSibling;t?L(n).is(t)&&e.push(n):e.push(n),o=n}return new l(e)},prev:function(t){if(0<this.length){var e=this[0];return t?e.previousElementSibling&&L(e.previousElementSibling).is(t)?new l([e.previousElementSibling]):new l([]):e.previousElementSibling?new l([e.previousElementSibling]):new l([])}return new l([])},prevAll:function(t){var e=[],o=this[0];if(!o)return new l([]);for(;o.previousElementSibling;){var n=o.previousElementSibling;t?L(n).is(t)&&e.push(n):e.push(n),o=n}return new l(e)},parent:function(t){for(var e=[],o=0;o<this.length;o+=1)null!==this[o].parentNode&&(t?L(this[o].parentNode).is(t)&&e.push(this[o].parentNode):e.push(this[o].parentNode));return L(r(e))},parents:function(t){for(var e=[],o=0;o<this.length;o+=1)for(var n=this[o].parentNode;n;)t?L(n).is(t)&&e.push(n):e.push(n),n=n.parentNode;return L(r(e))},closest:function(t){var e=this;return void 0===t?new l([]):(e.is(t)||(e=e.parents(t).eq(0)),e)},find:function(t){for(var e=[],o=0;o<this.length;o+=1)for(var n=this[o].querySelectorAll(t),i=0;i<n.length;i+=1)e.push(n[i]);return new l(e)},children:function(t){for(var e=[],o=0;o<this.length;o+=1)for(var n=this[o].childNodes,i=0;i<n.length;i+=1)t?1===n[i].nodeType&&L(n[i]).is(t)&&e.push(n[i]):1===n[i].nodeType&&e.push(n[i]);return new l(r(e))},remove:function(){for(var t=0;t<this.length;t+=1)this[t].parentNode&&this[t].parentNode.removeChild(this[t]);return this},add:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var o,n;for(o=0;o<t.length;o+=1){var i=L(t[o]);for(n=0;n<i.length;n+=1)this[this.length]=i[n],this.length+=1}return this},styles:function(){return this[0]?J.getComputedStyle(this[0],null):{}}};Object.keys(e).forEach(function(t){L.fn[t]=e[t]});function t(t){void 0===t&&(t={});var e=this;e.params=t,e.eventsListeners={},e.params&&e.params.on&&Object.keys(e.params.on).forEach(function(t){e.on(t,e.params.on[t])})}var o,n,i,a,tt={deleteProps:function(t){var e=t;Object.keys(e).forEach(function(t){try{e[t]=null}catch(t){}try{delete e[t]}catch(t){}})},nextTick:function(t,e){return void 0===e&&(e=0),setTimeout(t,e)},now:function(){return Date.now()},getTranslate:function(t,e){var o,n,i;void 0===e&&(e="x");var r=J.getComputedStyle(t,null);return J.WebKitCSSMatrix?(6<(n=r.transform||r.webkitTransform).split(",").length&&(n=n.split(", ").map(function(t){return t.replace(",",".")}).join(", ")),i=new J.WebKitCSSMatrix("none"===n?"":n)):o=(i=r.MozTransform||r.OTransform||r.MsTransform||r.msTransform||r.transform||r.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,")).toString().split(","),"x"===e&&(n=J.WebKitCSSMatrix?i.m41:16===o.length?parseFloat(o[12]):parseFloat(o[4])),"y"===e&&(n=J.WebKitCSSMatrix?i.m42:16===o.length?parseFloat(o[13]):parseFloat(o[5])),n||0},parseUrlQuery:function(t){var e,o,n,i,r={},a=t||J.location.href;if("string"==typeof a&&a.length)for(i=(o=(a=-1<a.indexOf("?")?a.replace(/\S*\?/,""):"").split("&").filter(function(t){return""!==t})).length,e=0;e<i;e+=1)n=o[e].replace(/#\S+/g,"").split("="),r[decodeURIComponent(n[0])]=void 0===n[1]?void 0:decodeURIComponent(n[1])||"";return r},isObject:function(t){return"object"==typeof t&&null!==t&&t.constructor&&t.constructor===Object},extend:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];for(var o=Object(t[0]),n=1;n<t.length;n+=1){var i=t[n];if(null!=i)for(var r=Object.keys(Object(i)),a=0,s=r.length;a<s;a+=1){var l=r[a],c=Object.getOwnPropertyDescriptor(i,l);void 0!==c&&c.enumerable&&(tt.isObject(o[l])&&tt.isObject(i[l])?tt.extend(o[l],i[l]):!tt.isObject(o[l])&&tt.isObject(i[l])?(o[l]={},tt.extend(o[l],i[l])):o[l]=i[l])}}return o}},et=(i=m.createElement("div"),{touch:J.Modernizr&&!0===J.Modernizr.touch||!!(0<J.navigator.maxTouchPoints||"ontouchstart"in J||J.DocumentTouch&&m instanceof J.DocumentTouch),pointerEvents:!!(J.navigator.pointerEnabled||J.PointerEvent||"maxTouchPoints"in J.navigator&&0<J.navigator.maxTouchPoints),prefixedPointerEvents:!!J.navigator.msPointerEnabled,transition:(n=i.style,"transition"in n||"webkitTransition"in n||"MozTransition"in n),transforms3d:J.Modernizr&&!0===J.Modernizr.csstransforms3d||(o=i.style,"webkitPerspective"in o||"MozPerspective"in o||"OPerspective"in o||"MsPerspective"in o||"perspective"in o),flexbox:function(){for(var t=i.style,e="alignItems webkitAlignItems webkitBoxAlign msFlexAlign mozBoxAlign webkitFlexDirection msFlexDirection mozBoxDirection mozBoxOrient webkitBoxDirection webkitBoxOrient".split(" "),o=0;o<e.length;o+=1)if(e[o]in t)return!0;return!1}(),observer:"MutationObserver"in J||"WebkitMutationObserver"in J,passiveListener:function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});J.addEventListener("testPassiveListener",null,e)}catch(t){}return t}(),gestures:"ongesturestart"in J}),A={isIE:!!J.navigator.userAgent.match(/Trident/g)||!!J.navigator.userAgent.match(/MSIE/g),isEdge:!!J.navigator.userAgent.match(/Edge/g),isSafari:(a=J.navigator.userAgent.toLowerCase(),0<=a.indexOf("safari")&&a.indexOf("chrome")<0&&a.indexOf("android")<0),isUiWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(J.navigator.userAgent)},s={components:{configurable:!0}};t.prototype.on=function(t,e,o){var n=this;if("function"!=typeof e)return n;var i=o?"unshift":"push";return t.split(" ").forEach(function(t){n.eventsListeners[t]||(n.eventsListeners[t]=[]),n.eventsListeners[t][i](e)}),n},t.prototype.once=function(o,n,t){var i=this;if("function"!=typeof n)return i;function r(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];n.apply(i,t),i.off(o,r),r.f7proxy&&delete r.f7proxy}return r.f7proxy=n,i.on(o,r,t)},t.prototype.off=function(t,n){var i=this;return i.eventsListeners&&t.split(" ").forEach(function(o){void 0===n?i.eventsListeners[o]=[]:i.eventsListeners[o]&&i.eventsListeners[o].length&&i.eventsListeners[o].forEach(function(t,e){(t===n||t.f7proxy&&t.f7proxy===n)&&i.eventsListeners[o].splice(e,1)})}),i},t.prototype.emit=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var o,n,i,r=this;return r.eventsListeners&&(i="string"==typeof t[0]||Array.isArray(t[0])?(o=t[0],n=t.slice(1,t.length),r):(o=t[0].events,n=t[0].data,t[0].context||r),(Array.isArray(o)?o:o.split(" ")).forEach(function(t){if(r.eventsListeners&&r.eventsListeners[t]){var e=[];r.eventsListeners[t].forEach(function(t){e.push(t)}),e.forEach(function(t){t.apply(i,n)})}})),r},t.prototype.useModulesParams=function(o){var n=this;n.modules&&Object.keys(n.modules).forEach(function(t){var e=n.modules[t];e.params&&tt.extend(o,e.params)})},t.prototype.useModules=function(n){void 0===n&&(n={});var i=this;i.modules&&Object.keys(i.modules).forEach(function(t){var o=i.modules[t],e=n[t]||{};o.instance&&Object.keys(o.instance).forEach(function(t){var e=o.instance[t];i[t]="function"==typeof e?e.bind(i):e}),o.on&&i.on&&Object.keys(o.on).forEach(function(t){i.on(t,o.on[t])}),o.create&&o.create.bind(i)(e)})},s.components.set=function(t){this.use&&this.use(t)},t.installModule=function(e){for(var t=[],o=arguments.length-1;0<o--;)t[o]=arguments[o+1];var n=this;n.prototype.modules||(n.prototype.modules={});var i=e.name||Object.keys(n.prototype.modules).length+"_"+tt.now();return(n.prototype.modules[i]=e).proto&&Object.keys(e.proto).forEach(function(t){n.prototype[t]=e.proto[t]}),e.static&&Object.keys(e.static).forEach(function(t){n[t]=e.static[t]}),e.install&&e.install.apply(n,t),n},t.use=function(t){for(var e=[],o=arguments.length-1;0<o--;)e[o]=arguments[o+1];var n=this;return Array.isArray(t)?(t.forEach(function(t){return n.installModule(t)}),n):n.installModule.apply(n,[t].concat(e))},Object.defineProperties(t,s);var c={updateSize:function(){var t,e,o=this,n=o.$el;t=void 0!==o.params.width?o.params.width:n[0].clientWidth,e=void 0!==o.params.height?o.params.height:n[0].clientHeight,0===t&&o.isHorizontal()||0===e&&o.isVertical()||(t=t-parseInt(n.css("padding-left"),10)-parseInt(n.css("padding-right"),10),e=e-parseInt(n.css("padding-top"),10)-parseInt(n.css("padding-bottom"),10),tt.extend(o,{width:t,height:e,size:o.isHorizontal()?t:e}))},updateSlides:function(){var t=this,e=t.params,o=t.$wrapperEl,n=t.size,i=t.rtlTranslate,r=t.wrongRTL,a=t.virtual&&e.virtual.enabled,s=a?t.virtual.slides.length:t.slides.length,l=o.children("."+t.params.slideClass),c=a?t.virtual.slides.length:l.length,d=[],u=[],h=[],p=e.slidesOffsetBefore;"function"==typeof p&&(p=e.slidesOffsetBefore.call(t));var f=e.slidesOffsetAfter;"function"==typeof f&&(f=e.slidesOffsetAfter.call(t));var m=t.snapGrid.length,g=t.snapGrid.length,v=e.spaceBetween,b=-p,y=0,x=0;if(void 0!==n){var w,C;"string"==typeof v&&0<=v.indexOf("%")&&(v=parseFloat(v.replace("%",""))/100*n),t.virtualSize=-v,i?l.css({marginLeft:"",marginTop:""}):l.css({marginRight:"",marginBottom:""}),1<e.slidesPerColumn&&(w=Math.floor(c/e.slidesPerColumn)===c/t.params.slidesPerColumn?c:Math.ceil(c/e.slidesPerColumn)*e.slidesPerColumn,"auto"!==e.slidesPerView&&"row"===e.slidesPerColumnFill&&(w=Math.max(w,e.slidesPerView*e.slidesPerColumn)));for(var k,S=e.slidesPerColumn,T=w/S,E=Math.floor(c/e.slidesPerColumn),$=0;$<c;$+=1){C=0;var I=l.eq($);if(1<e.slidesPerColumn){var P=void 0,N=void 0,L=void 0;"column"===e.slidesPerColumnFill?(L=$-(N=Math.floor($/S))*S,(E<N||N===E&&L===S-1)&&S<=(L+=1)&&(L=0,N+=1),P=N+L*w/S,I.css({"-webkit-box-ordinal-group":P,"-moz-box-ordinal-group":P,"-ms-flex-order":P,"-webkit-order":P,order:P})):N=$-(L=Math.floor($/T))*T,I.css("margin-"+(t.isHorizontal()?"top":"left"),0!==L&&e.spaceBetween&&e.spaceBetween+"px").attr("data-swiper-column",N).attr("data-swiper-row",L)}if("none"!==I.css("display")){if("auto"===e.slidesPerView){var A=J.getComputedStyle(I[0],null),M=I[0].style.transform,R=I[0].style.webkitTransform;if(M&&(I[0].style.transform="none"),R&&(I[0].style.webkitTransform="none"),e.roundLengths)C=t.isHorizontal()?I.outerWidth(!0):I.outerHeight(!0);else if(t.isHorizontal()){var D=parseFloat(A.getPropertyValue("width")),F=parseFloat(A.getPropertyValue("padding-left")),H=parseFloat(A.getPropertyValue("padding-right")),z=parseFloat(A.getPropertyValue("margin-left")),B=parseFloat(A.getPropertyValue("margin-right")),O=A.getPropertyValue("box-sizing");C=O&&"border-box"===O?D+z+B:D+F+H+z+B}else{var j=parseFloat(A.getPropertyValue("height")),q=parseFloat(A.getPropertyValue("padding-top")),U=parseFloat(A.getPropertyValue("padding-bottom")),W=parseFloat(A.getPropertyValue("margin-top")),V=parseFloat(A.getPropertyValue("margin-bottom")),G=A.getPropertyValue("box-sizing");C=G&&"border-box"===G?j+W+V:j+q+U+W+V}M&&(I[0].style.transform=M),R&&(I[0].style.webkitTransform=R),e.roundLengths&&(C=Math.floor(C))}else C=(n-(e.slidesPerView-1)*v)/e.slidesPerView,e.roundLengths&&(C=Math.floor(C)),l[$]&&(t.isHorizontal()?l[$].style.width=C+"px":l[$].style.height=C+"px");l[$]&&(l[$].swiperSlideSize=C),h.push(C),e.centeredSlides?(b=b+C/2+y/2+v,0===y&&0!==$&&(b=b-n/2-v),0===$&&(b=b-n/2-v),Math.abs(b)<.001&&(b=0),e.roundLengths&&(b=Math.floor(b)),x%e.slidesPerGroup==0&&d.push(b),u.push(b)):(e.roundLengths&&(b=Math.floor(b)),x%e.slidesPerGroup==0&&d.push(b),u.push(b),b=b+C+v),t.virtualSize+=C+v,y=C,x+=1}}if(t.virtualSize=Math.max(t.virtualSize,n)+f,i&&r&&("slide"===e.effect||"coverflow"===e.effect)&&o.css({width:t.virtualSize+e.spaceBetween+"px"}),et.flexbox&&!e.setWrapperSize||(t.isHorizontal()?o.css({width:t.virtualSize+e.spaceBetween+"px"}):o.css({height:t.virtualSize+e.spaceBetween+"px"})),1<e.slidesPerColumn&&(t.virtualSize=(C+e.spaceBetween)*w,t.virtualSize=Math.ceil(t.virtualSize/e.slidesPerColumn)-e.spaceBetween,t.isHorizontal()?o.css({width:t.virtualSize+e.spaceBetween+"px"}):o.css({height:t.virtualSize+e.spaceBetween+"px"}),e.centeredSlides)){k=[];for(var K=0;K<d.length;K+=1){var _=d[K];e.roundLengths&&(_=Math.floor(_)),d[K]<t.virtualSize+d[0]&&k.push(_)}d=k}if(!e.centeredSlides){k=[];for(var Y=0;Y<d.length;Y+=1){var X=d[Y];e.roundLengths&&(X=Math.floor(X)),d[Y]<=t.virtualSize-n&&k.push(X)}d=k,1<Math.floor(t.virtualSize-n)-Math.floor(d[d.length-1])&&d.push(t.virtualSize-n)}if(0===d.length&&(d=[0]),0!==e.spaceBetween&&(t.isHorizontal()?i?l.css({marginLeft:v+"px"}):l.css({marginRight:v+"px"}):l.css({marginBottom:v+"px"})),e.centerInsufficientSlides){var Z=0;if(h.forEach(function(t){Z+=t+(e.spaceBetween?e.spaceBetween:0)}),(Z-=e.spaceBetween)<n){var Q=(n-Z)/2;d.forEach(function(t,e){d[e]=t-Q}),u.forEach(function(t,e){u[e]=t+Q})}}tt.extend(t,{slides:l,snapGrid:d,slidesGrid:u,slidesSizesGrid:h}),c!==s&&t.emit("slidesLengthChange"),d.length!==m&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),u.length!==g&&t.emit("slidesGridLengthChange"),(e.watchSlidesProgress||e.watchSlidesVisibility)&&t.updateSlidesOffset()}},updateAutoHeight:function(t){var e,o=this,n=[],i=0;if("number"==typeof t?o.setTransition(t):!0===t&&o.setTransition(o.params.speed),"auto"!==o.params.slidesPerView&&1<o.params.slidesPerView)for(e=0;e<Math.ceil(o.params.slidesPerView);e+=1){var r=o.activeIndex+e;if(r>o.slides.length)break;n.push(o.slides.eq(r)[0])}else n.push(o.slides.eq(o.activeIndex)[0]);for(e=0;e<n.length;e+=1)if(void 0!==n[e]){var a=n[e].offsetHeight;i=i<a?a:i}i&&o.$wrapperEl.css("height",i+"px")},updateSlidesOffset:function(){for(var t=this.slides,e=0;e<t.length;e+=1)t[e].swiperSlideOffset=this.isHorizontal()?t[e].offsetLeft:t[e].offsetTop},updateSlidesProgress:function(t){void 0===t&&(t=this&&this.translate||0);var e=this,o=e.params,n=e.slides,i=e.rtlTranslate;if(0!==n.length){void 0===n[0].swiperSlideOffset&&e.updateSlidesOffset();var r=-t;i&&(r=t),n.removeClass(o.slideVisibleClass),e.visibleSlidesIndexes=[],e.visibleSlides=[];for(var a=0;a<n.length;a+=1){var s=n[a],l=(r+(o.centeredSlides?e.minTranslate():0)-s.swiperSlideOffset)/(s.swiperSlideSize+o.spaceBetween);if(o.watchSlidesVisibility){var c=-(r-s.swiperSlideOffset),d=c+e.slidesSizesGrid[a];(0<=c&&c<e.size||0<d&&d<=e.size||c<=0&&d>=e.size)&&(e.visibleSlides.push(s),e.visibleSlidesIndexes.push(a),n.eq(a).addClass(o.slideVisibleClass))}s.progress=i?-l:l}e.visibleSlides=L(e.visibleSlides)}},updateProgress:function(t){void 0===t&&(t=this&&this.translate||0);var e=this,o=e.params,n=e.maxTranslate()-e.minTranslate(),i=e.progress,r=e.isBeginning,a=e.isEnd,s=r,l=a;a=0==n?r=!(i=0):(r=(i=(t-e.minTranslate())/n)<=0,1<=i),tt.extend(e,{progress:i,isBeginning:r,isEnd:a}),(o.watchSlidesProgress||o.watchSlidesVisibility)&&e.updateSlidesProgress(t),r&&!s&&e.emit("reachBeginning toEdge"),a&&!l&&e.emit("reachEnd toEdge"),(s&&!r||l&&!a)&&e.emit("fromEdge"),e.emit("progress",i)},updateSlidesClasses:function(){var t,e=this,o=e.slides,n=e.params,i=e.$wrapperEl,r=e.activeIndex,a=e.realIndex,s=e.virtual&&n.virtual.enabled;o.removeClass(n.slideActiveClass+" "+n.slideNextClass+" "+n.slidePrevClass+" "+n.slideDuplicateActiveClass+" "+n.slideDuplicateNextClass+" "+n.slideDuplicatePrevClass),(t=s?e.$wrapperEl.find("."+n.slideClass+'[data-swiper-slide-index="'+r+'"]'):o.eq(r)).addClass(n.slideActiveClass),n.loop&&(t.hasClass(n.slideDuplicateClass)?i.children("."+n.slideClass+":not(."+n.slideDuplicateClass+')[data-swiper-slide-index="'+a+'"]').addClass(n.slideDuplicateActiveClass):i.children("."+n.slideClass+"."+n.slideDuplicateClass+'[data-swiper-slide-index="'+a+'"]').addClass(n.slideDuplicateActiveClass));var l=t.nextAll("."+n.slideClass).eq(0).addClass(n.slideNextClass);n.loop&&0===l.length&&(l=o.eq(0)).addClass(n.slideNextClass);var c=t.prevAll("."+n.slideClass).eq(0).addClass(n.slidePrevClass);n.loop&&0===c.length&&(c=o.eq(-1)).addClass(n.slidePrevClass),n.loop&&(l.hasClass(n.slideDuplicateClass)?i.children("."+n.slideClass+":not(."+n.slideDuplicateClass+')[data-swiper-slide-index="'+l.attr("data-swiper-slide-index")+'"]').addClass(n.slideDuplicateNextClass):i.children("."+n.slideClass+"."+n.slideDuplicateClass+'[data-swiper-slide-index="'+l.attr("data-swiper-slide-index")+'"]').addClass(n.slideDuplicateNextClass),c.hasClass(n.slideDuplicateClass)?i.children("."+n.slideClass+":not(."+n.slideDuplicateClass+')[data-swiper-slide-index="'+c.attr("data-swiper-slide-index")+'"]').addClass(n.slideDuplicatePrevClass):i.children("."+n.slideClass+"."+n.slideDuplicateClass+'[data-swiper-slide-index="'+c.attr("data-swiper-slide-index")+'"]').addClass(n.slideDuplicatePrevClass))},updateActiveIndex:function(t){var e,o=this,n=o.rtlTranslate?o.translate:-o.translate,i=o.slidesGrid,r=o.snapGrid,a=o.params,s=o.activeIndex,l=o.realIndex,c=o.snapIndex,d=t;if(void 0===d){for(var u=0;u<i.length;u+=1)void 0!==i[u+1]?n>=i[u]&&n<i[u+1]-(i[u+1]-i[u])/2?d=u:n>=i[u]&&n<i[u+1]&&(d=u+1):n>=i[u]&&(d=u);a.normalizeSlideIndex&&(d<0||void 0===d)&&(d=0)}if((e=0<=r.indexOf(n)?r.indexOf(n):Math.floor(d/a.slidesPerGroup))>=r.length&&(e=r.length-1),d!==s){var h=parseInt(o.slides.eq(d).attr("data-swiper-slide-index")||d,10);tt.extend(o,{snapIndex:e,realIndex:h,previousIndex:s,activeIndex:d}),o.emit("activeIndexChange"),o.emit("snapIndexChange"),l!==h&&o.emit("realIndexChange"),o.emit("slideChange")}else e!==c&&(o.snapIndex=e,o.emit("snapIndexChange"))},updateClickedSlide:function(t){var e=this,o=e.params,n=L(t.target).closest("."+o.slideClass)[0],i=!1;if(n)for(var r=0;r<e.slides.length;r+=1)e.slides[r]===n&&(i=!0);if(!n||!i)return e.clickedSlide=void 0,void(e.clickedIndex=void 0);e.clickedSlide=n,e.virtual&&e.params.virtual.enabled?e.clickedIndex=parseInt(L(n).attr("data-swiper-slide-index"),10):e.clickedIndex=L(n).index(),o.slideToClickedSlide&&void 0!==e.clickedIndex&&e.clickedIndex!==e.activeIndex&&e.slideToClickedSlide()}},d={getTranslate:function(t){void 0===t&&(t=this.isHorizontal()?"x":"y");var e=this.params,o=this.rtlTranslate,n=this.translate,i=this.$wrapperEl;if(e.virtualTranslate)return o?-n:n;var r=tt.getTranslate(i[0],t);return o&&(r=-r),r||0},setTranslate:function(t,e){var o=this,n=o.rtlTranslate,i=o.params,r=o.$wrapperEl,a=o.progress,s=0,l=0;o.isHorizontal()?s=n?-t:t:l=t,i.roundLengths&&(s=Math.floor(s),l=Math.floor(l)),i.virtualTranslate||(et.transforms3d?r.transform("translate3d("+s+"px, "+l+"px, 0px)"):r.transform("translate("+s+"px, "+l+"px)")),o.previousTranslate=o.translate,o.translate=o.isHorizontal()?s:l;var c=o.maxTranslate()-o.minTranslate();(0==c?0:(t-o.minTranslate())/c)!==a&&o.updateProgress(t),o.emit("setTranslate",o.translate,e)},minTranslate:function(){return-this.snapGrid[0]},maxTranslate:function(){return-this.snapGrid[this.snapGrid.length-1]}},u={slideTo:function(t,e,o,n){void 0===t&&(t=0),void 0===e&&(e=this.params.speed),void 0===o&&(o=!0);var i=this,r=t;r<0&&(r=0);var a=i.params,s=i.snapGrid,l=i.slidesGrid,c=i.previousIndex,d=i.activeIndex,u=i.rtlTranslate;if(i.animating&&a.preventInteractionOnTransition)return!1;var h=Math.floor(r/a.slidesPerGroup);h>=s.length&&(h=s.length-1),(d||a.initialSlide||0)===(c||0)&&o&&i.emit("beforeSlideChangeStart");var p,f=-s[h];if(i.updateProgress(f),a.normalizeSlideIndex)for(var m=0;m<l.length;m+=1)-Math.floor(100*f)>=Math.floor(100*l[m])&&(r=m);if(i.initialized&&r!==d){if(!i.allowSlideNext&&f<i.translate&&f<i.minTranslate())return!1;if(!i.allowSlidePrev&&f>i.translate&&f>i.maxTranslate()&&(d||0)!==r)return!1}return p=d<r?"next":r<d?"prev":"reset",u&&-f===i.translate||!u&&f===i.translate?(i.updateActiveIndex(r),a.autoHeight&&i.updateAutoHeight(),i.updateSlidesClasses(),"slide"!==a.effect&&i.setTranslate(f),"reset"!=p&&(i.transitionStart(o,p),i.transitionEnd(o,p)),!1):(0!==e&&et.transition?(i.setTransition(e),i.setTranslate(f),i.updateActiveIndex(r),i.updateSlidesClasses(),i.emit("beforeTransitionStart",e,n),i.transitionStart(o,p),i.animating||(i.animating=!0,i.onSlideToWrapperTransitionEnd||(i.onSlideToWrapperTransitionEnd=function(t){i&&!i.destroyed&&t.target===this&&(i.$wrapperEl[0].removeEventListener("transitionend",i.onSlideToWrapperTransitionEnd),i.$wrapperEl[0].removeEventListener("webkitTransitionEnd",i.onSlideToWrapperTransitionEnd),i.onSlideToWrapperTransitionEnd=null,delete i.onSlideToWrapperTransitionEnd,i.transitionEnd(o,p))}),i.$wrapperEl[0].addEventListener("transitionend",i.onSlideToWrapperTransitionEnd),i.$wrapperEl[0].addEventListener("webkitTransitionEnd",i.onSlideToWrapperTransitionEnd))):(i.setTransition(0),i.setTranslate(f),i.updateActiveIndex(r),i.updateSlidesClasses(),i.emit("beforeTransitionStart",e,n),i.transitionStart(o,p),i.transitionEnd(o,p)),!0)},slideToLoop:function(t,e,o,n){void 0===t&&(t=0),void 0===e&&(e=this.params.speed),void 0===o&&(o=!0);var i=t;return this.params.loop&&(i+=this.loopedSlides),this.slideTo(i,e,o,n)},slideNext:function(t,e,o){void 0===t&&(t=this.params.speed),void 0===e&&(e=!0);var n=this.params,i=this.animating;return n.loop?!i&&(this.loopFix(),this._clientLeft=this.$wrapperEl[0].clientLeft,this.slideTo(this.activeIndex+n.slidesPerGroup,t,e,o)):this.slideTo(this.activeIndex+n.slidesPerGroup,t,e,o)},slidePrev:function(t,e,o){void 0===t&&(t=this.params.speed),void 0===e&&(e=!0);var n=this,i=n.params,r=n.animating,a=n.snapGrid,s=n.slidesGrid,l=n.rtlTranslate;if(i.loop){if(r)return!1;n.loopFix(),n._clientLeft=n.$wrapperEl[0].clientLeft}function c(t){return t<0?-Math.floor(Math.abs(t)):Math.floor(t)}var d,u=c(l?n.translate:-n.translate),h=a.map(function(t){return c(t)}),p=(s.map(function(t){return c(t)}),a[h.indexOf(u)],a[h.indexOf(u)-1]);return void 0!==p&&(d=s.indexOf(p))<0&&(d=n.activeIndex-1),n.slideTo(d,t,e,o)},slideReset:function(t,e,o){return void 0===t&&(t=this.params.speed),void 0===e&&(e=!0),this.slideTo(this.activeIndex,t,e,o)},slideToClosest:function(t,e,o){void 0===t&&(t=this.params.speed),void 0===e&&(e=!0);var n=this,i=n.activeIndex,r=Math.floor(i/n.params.slidesPerGroup);if(r<n.snapGrid.length-1){var a=n.rtlTranslate?n.translate:-n.translate,s=n.snapGrid[r];(n.snapGrid[r+1]-s)/2<a-s&&(i=n.params.slidesPerGroup)}return n.slideTo(i,t,e,o)},slideToClickedSlide:function(){var t,e=this,o=e.params,n=e.$wrapperEl,i="auto"===o.slidesPerView?e.slidesPerViewDynamic():o.slidesPerView,r=e.clickedIndex;if(o.loop){if(e.animating)return;t=parseInt(L(e.clickedSlide).attr("data-swiper-slide-index"),10),o.centeredSlides?r<e.loopedSlides-i/2||r>e.slides.length-e.loopedSlides+i/2?(e.loopFix(),r=n.children("."+o.slideClass+'[data-swiper-slide-index="'+t+'"]:not(.'+o.slideDuplicateClass+")").eq(0).index(),tt.nextTick(function(){e.slideTo(r)})):e.slideTo(r):r>e.slides.length-i?(e.loopFix(),r=n.children("."+o.slideClass+'[data-swiper-slide-index="'+t+'"]:not(.'+o.slideDuplicateClass+")").eq(0).index(),tt.nextTick(function(){e.slideTo(r)})):e.slideTo(r)}else e.slideTo(r)}},h={loopCreate:function(){var n=this,t=n.params,e=n.$wrapperEl;e.children("."+t.slideClass+"."+t.slideDuplicateClass).remove();var i=e.children("."+t.slideClass);if(t.loopFillGroupWithBlank){var o=t.slidesPerGroup-i.length%t.slidesPerGroup;if(o!==t.slidesPerGroup){for(var r=0;r<o;r+=1){var a=L(m.createElement("div")).addClass(t.slideClass+" "+t.slideBlankClass);e.append(a)}i=e.children("."+t.slideClass)}}"auto"!==t.slidesPerView||t.loopedSlides||(t.loopedSlides=i.length),n.loopedSlides=parseInt(t.loopedSlides||t.slidesPerView,10),n.loopedSlides+=t.loopAdditionalSlides,n.loopedSlides>i.length&&(n.loopedSlides=i.length);var s=[],l=[];i.each(function(t,e){var o=L(e);t<n.loopedSlides&&l.push(e),t<i.length&&t>=i.length-n.loopedSlides&&s.push(e),o.attr("data-swiper-slide-index",t)});for(var c=0;c<l.length;c+=1)e.append(L(l[c].cloneNode(!0)).addClass(t.slideDuplicateClass));for(var d=s.length-1;0<=d;d-=1)e.prepend(L(s[d].cloneNode(!0)).addClass(t.slideDuplicateClass))},loopFix:function(){var t,e=this,o=e.params,n=e.activeIndex,i=e.slides,r=e.loopedSlides,a=e.allowSlidePrev,s=e.allowSlideNext,l=e.snapGrid,c=e.rtlTranslate;e.allowSlidePrev=!0,e.allowSlideNext=!0;var d=-l[n]-e.getTranslate();n<r?(t=i.length-3*r+n,t+=r,e.slideTo(t,0,!1,!0)&&0!=d&&e.setTranslate((c?-e.translate:e.translate)-d)):("auto"===o.slidesPerView&&2*r<=n||n>=i.length-r)&&(t=-i.length+n+r,t+=r,e.slideTo(t,0,!1,!0)&&0!=d&&e.setTranslate((c?-e.translate:e.translate)-d)),e.allowSlidePrev=a,e.allowSlideNext=s},loopDestroy:function(){var t=this.$wrapperEl,e=this.params,o=this.slides;t.children("."+e.slideClass+"."+e.slideDuplicateClass+",."+e.slideClass+"."+e.slideBlankClass).remove(),o.removeAttr("data-swiper-slide-index")}},p={setGrabCursor:function(t){if(!(et.touch||!this.params.simulateTouch||this.params.watchOverflow&&this.isLocked)){var e=this.el;e.style.cursor="move",e.style.cursor=t?"-webkit-grabbing":"-webkit-grab",e.style.cursor=t?"-moz-grabbin":"-moz-grab",e.style.cursor=t?"grabbing":"grab"}},unsetGrabCursor:function(){et.touch||this.params.watchOverflow&&this.isLocked||(this.el.style.cursor="")}},f={appendSlide:function(t){var e=this.$wrapperEl,o=this.params;if(o.loop&&this.loopDestroy(),"object"==typeof t&&"length"in t)for(var n=0;n<t.length;n+=1)t[n]&&e.append(t[n]);else e.append(t);o.loop&&this.loopCreate(),o.observer&&et.observer||this.update()},prependSlide:function(t){var e=this.params,o=this.$wrapperEl,n=this.activeIndex;e.loop&&this.loopDestroy();var i=n+1;if("object"==typeof t&&"length"in t){for(var r=0;r<t.length;r+=1)t[r]&&o.prepend(t[r]);i=n+t.length}else o.prepend(t);e.loop&&this.loopCreate(),e.observer&&et.observer||this.update(),this.slideTo(i,0,!1)},addSlide:function(t,e){var o=this,n=o.$wrapperEl,i=o.params,r=o.activeIndex;i.loop&&(r-=o.loopedSlides,o.loopDestroy(),o.slides=n.children("."+i.slideClass));var a=o.slides.length;if(t<=0)o.prependSlide(e);else if(a<=t)o.appendSlide(e);else{for(var s=t<r?r+1:r,l=[],c=a-1;t<=c;c-=1){var d=o.slides.eq(c);d.remove(),l.unshift(d)}if("object"==typeof e&&"length"in e){for(var u=0;u<e.length;u+=1)e[u]&&n.append(e[u]);s=t<r?r+e.length:r}else n.append(e);for(var h=0;h<l.length;h+=1)n.append(l[h]);i.loop&&o.loopCreate(),i.observer&&et.observer||o.update(),i.loop?o.slideTo(s+o.loopedSlides,0,!1):o.slideTo(s,0,!1)}},removeSlide:function(t){var e=this,o=e.params,n=e.$wrapperEl,i=e.activeIndex;o.loop&&(i-=e.loopedSlides,e.loopDestroy(),e.slides=n.children("."+o.slideClass));var r,a=i;if("object"==typeof t&&"length"in t){for(var s=0;s<t.length;s+=1)r=t[s],e.slides[r]&&e.slides.eq(r).remove(),r<a&&(a-=1);a=Math.max(a,0)}else r=t,e.slides[r]&&e.slides.eq(r).remove(),r<a&&(a-=1),a=Math.max(a,0);o.loop&&e.loopCreate(),o.observer&&et.observer||e.update(),o.loop?e.slideTo(a+e.loopedSlides,0,!1):e.slideTo(a,0,!1)},removeAllSlides:function(){for(var t=[],e=0;e<this.slides.length;e+=1)t.push(e);this.removeSlide(t)}},g=function(){var t=J.navigator.userAgent,e={ios:!1,android:!1,androidChrome:!1,desktop:!1,windows:!1,iphone:!1,ipod:!1,ipad:!1,cordova:J.cordova||J.phonegap,phonegap:J.cordova||J.phonegap},o=t.match(/(Windows Phone);?[\s\/]+([\d.]+)?/),n=t.match(/(Android);?[\s\/]+([\d.]+)?/),i=t.match(/(iPad).*OS\s([\d_]+)/),r=t.match(/(iPod)(.*OS\s([\d_]+))?/),a=!i&&t.match(/(iPhone\sOS|iOS)\s([\d_]+)/);if(o&&(e.os="windows",e.osVersion=o[2],e.windows=!0),n&&!o&&(e.os="android",e.osVersion=n[2],e.android=!0,e.androidChrome=0<=t.toLowerCase().indexOf("chrome")),(i||a||r)&&(e.os="ios",e.ios=!0),a&&!r&&(e.osVersion=a[2].replace(/_/g,"."),e.iphone=!0),i&&(e.osVersion=i[2].replace(/_/g,"."),e.ipad=!0),r&&(e.osVersion=r[3]?r[3].replace(/_/g,"."):null,e.iphone=!0),e.ios&&e.osVersion&&0<=t.indexOf("Version/")&&"10"===e.osVersion.split(".")[0]&&(e.osVersion=t.toLowerCase().split("version/")[1].split(" ")[0]),e.desktop=!(e.os||e.android||e.webView),e.webView=(a||i||r)&&t.match(/.*AppleWebKit(?!.*Safari)/i),e.os&&"ios"===e.os){var s=e.osVersion.split("."),l=m.querySelector('meta[name="viewport"]');e.minimalUi=!e.webView&&(r||a)&&(1*s[0]==7?1<=1*s[1]:7<1*s[0])&&l&&0<=l.getAttribute("content").indexOf("minimal-ui")}return e.pixelRatio=J.devicePixelRatio||1,e}();function v(){var t=this,e=t.params,o=t.el;if(!o||0!==o.offsetWidth){e.breakpoints&&t.setBreakpoint();var n=t.allowSlideNext,i=t.allowSlidePrev,r=t.snapGrid;if(t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),e.freeMode){var a=Math.min(Math.max(t.translate,t.maxTranslate()),t.minTranslate());t.setTranslate(a),t.updateActiveIndex(),t.updateSlidesClasses(),e.autoHeight&&t.updateAutoHeight()}else t.updateSlidesClasses(),("auto"===e.slidesPerView||1<e.slidesPerView)&&t.isEnd&&!t.params.centeredSlides?t.slideTo(t.slides.length-1,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0);t.allowSlidePrev=i,t.allowSlideNext=n,t.params.watchOverflow&&r!==t.snapGrid&&t.checkOverflow()}}var b={init:!0,direction:"horizontal",touchEventsTarget:"container",initialSlide:0,speed:300,preventInteractionOnTransition:!1,edgeSwipeDetection:!1,edgeSwipeThreshold:20,freeMode:!1,freeModeMomentum:!0,freeModeMomentumRatio:1,freeModeMomentumBounce:!0,freeModeMomentumBounceRatio:1,freeModeMomentumVelocityRatio:1,freeModeSticky:!1,freeModeMinimumVelocity:.02,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsInverse:!1,spaceBetween:0,slidesPerView:1,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,centeredSlides:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!1,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:0,touchMoveStopPropagation:!0,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,watchSlidesVisibility:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,loopFillGroupWithBlank:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,containerModifierClass:"swiper-container-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-invisible-blank",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",runCallbacksOnInit:!0},y={update:c,translate:d,transition:{setTransition:function(t,e){this.$wrapperEl.transition(t),this.emit("setTransition",t,e)},transitionStart:function(t,e){void 0===t&&(t=!0);var o=this,n=o.activeIndex,i=o.params,r=o.previousIndex;i.autoHeight&&o.updateAutoHeight();var a=e;if(a=a||(r<n?"next":n<r?"prev":"reset"),o.emit("transitionStart"),t&&n!==r){if("reset"===a)return void o.emit("slideResetTransitionStart");o.emit("slideChangeTransitionStart"),"next"===a?o.emit("slideNextTransitionStart"):o.emit("slidePrevTransitionStart")}},transitionEnd:function(t,e){void 0===t&&(t=!0);var o=this.activeIndex,n=this.previousIndex;this.animating=!1,this.setTransition(0);var i=e;if(i=i||(n<o?"next":o<n?"prev":"reset"),this.emit("transitionEnd"),t&&o!==n){if("reset"===i)return void this.emit("slideResetTransitionEnd");this.emit("slideChangeTransitionEnd"),"next"===i?this.emit("slideNextTransitionEnd"):this.emit("slidePrevTransitionEnd")}}},slide:u,loop:h,grabCursor:p,manipulation:f,events:{attachEvents:function(){var t=this,e=t.params,o=t.touchEvents,n=t.el,i=t.wrapperEl;t.onTouchStart=function(t){var e=this,o=e.touchEventsData,n=e.params,i=e.touches;if(!e.animating||!n.preventInteractionOnTransition){var r=t;if(r.originalEvent&&(r=r.originalEvent),o.isTouchEvent="touchstart"===r.type,(o.isTouchEvent||!("which"in r)||3!==r.which)&&!(!o.isTouchEvent&&"button"in r&&0<r.button||o.isTouched&&o.isMoved))if(n.noSwiping&&L(r.target).closest(n.noSwipingSelector?n.noSwipingSelector:"."+n.noSwipingClass)[0])e.allowClick=!0;else if(!n.swipeHandler||L(r).closest(n.swipeHandler)[0]){i.currentX="touchstart"===r.type?r.targetTouches[0].pageX:r.pageX,i.currentY="touchstart"===r.type?r.targetTouches[0].pageY:r.pageY;var a=i.currentX,s=i.currentY,l=n.edgeSwipeDetection||n.iOSEdgeSwipeDetection,c=n.edgeSwipeThreshold||n.iOSEdgeSwipeThreshold;if(!l||!(a<=c||a>=J.screen.width-c)){if(tt.extend(o,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),i.startX=a,i.startY=s,o.touchStartTime=tt.now(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,0<n.threshold&&(o.allowThresholdMove=!1),"touchstart"!==r.type){var d=!0;L(r.target).is(o.formElements)&&(d=!1),m.activeElement&&L(m.activeElement).is(o.formElements)&&m.activeElement!==r.target&&m.activeElement.blur();var u=d&&e.allowTouchMove&&n.touchStartPreventDefault;(n.touchStartForcePreventDefault||u)&&r.preventDefault()}e.emit("touchStart",r)}}}}.bind(t),t.onTouchMove=function(t){var e=this,o=e.touchEventsData,n=e.params,i=e.touches,r=e.rtlTranslate,a=t;if(a.originalEvent&&(a=a.originalEvent),o.isTouched){if(!o.isTouchEvent||"mousemove"!==a.type){var s="touchmove"===a.type?a.targetTouches[0].pageX:a.pageX,l="touchmove"===a.type?a.targetTouches[0].pageY:a.pageY;if(a.preventedByNestedSwiper)return i.startX=s,void(i.startY=l);if(!e.allowTouchMove)return e.allowClick=!1,void(o.isTouched&&(tt.extend(i,{startX:s,startY:l,currentX:s,currentY:l}),o.touchStartTime=tt.now()));if(o.isTouchEvent&&n.touchReleaseOnEdges&&!n.loop)if(e.isVertical()){if(l<i.startY&&e.translate<=e.maxTranslate()||l>i.startY&&e.translate>=e.minTranslate())return o.isTouched=!1,void(o.isMoved=!1)}else if(s<i.startX&&e.translate<=e.maxTranslate()||s>i.startX&&e.translate>=e.minTranslate())return;if(o.isTouchEvent&&m.activeElement&&a.target===m.activeElement&&L(a.target).is(o.formElements))return o.isMoved=!0,void(e.allowClick=!1);if(o.allowTouchCallbacks&&e.emit("touchMove",a),!(a.targetTouches&&1<a.targetTouches.length)){i.currentX=s,i.currentY=l;var c,d=i.currentX-i.startX,u=i.currentY-i.startY;if(!(e.params.threshold&&Math.sqrt(Math.pow(d,2)+Math.pow(u,2))<e.params.threshold))if(void 0===o.isScrolling&&(e.isHorizontal()&&i.currentY===i.startY||e.isVertical()&&i.currentX===i.startX?o.isScrolling=!1:25<=d*d+u*u&&(c=180*Math.atan2(Math.abs(u),Math.abs(d))/Math.PI,o.isScrolling=e.isHorizontal()?c>n.touchAngle:90-c>n.touchAngle)),o.isScrolling&&e.emit("touchMoveOpposite",a),void 0===o.startMoving&&(i.currentX===i.startX&&i.currentY===i.startY||(o.startMoving=!0)),o.isScrolling)o.isTouched=!1;else if(o.startMoving){e.allowClick=!1,a.preventDefault(),n.touchMoveStopPropagation&&!n.nested&&a.stopPropagation(),o.isMoved||(n.loop&&e.loopFix(),o.startTranslate=e.getTranslate(),e.setTransition(0),e.animating&&e.$wrapperEl.trigger("webkitTransitionEnd transitionend"),o.allowMomentumBounce=!1,!n.grabCursor||!0!==e.allowSlideNext&&!0!==e.allowSlidePrev||e.setGrabCursor(!0),e.emit("sliderFirstMove",a)),e.emit("sliderMove",a),o.isMoved=!0;var h=e.isHorizontal()?d:u;i.diff=h,h*=n.touchRatio,r&&(h=-h),e.swipeDirection=0<h?"prev":"next",o.currentTranslate=h+o.startTranslate;var p=!0,f=n.resistanceRatio;if(n.touchReleaseOnEdges&&(f=0),0<h&&o.currentTranslate>e.minTranslate()?(p=!1,n.resistance&&(o.currentTranslate=e.minTranslate()-1+Math.pow(-e.minTranslate()+o.startTranslate+h,f))):h<0&&o.currentTranslate<e.maxTranslate()&&(p=!1,n.resistance&&(o.currentTranslate=e.maxTranslate()+1-Math.pow(e.maxTranslate()-o.startTranslate-h,f))),p&&(a.preventedByNestedSwiper=!0),!e.allowSlideNext&&"next"===e.swipeDirection&&o.currentTranslate<o.startTranslate&&(o.currentTranslate=o.startTranslate),!e.allowSlidePrev&&"prev"===e.swipeDirection&&o.currentTranslate>o.startTranslate&&(o.currentTranslate=o.startTranslate),0<n.threshold){if(!(Math.abs(h)>n.threshold||o.allowThresholdMove))return void(o.currentTranslate=o.startTranslate);if(!o.allowThresholdMove)return o.allowThresholdMove=!0,i.startX=i.currentX,i.startY=i.currentY,o.currentTranslate=o.startTranslate,void(i.diff=e.isHorizontal()?i.currentX-i.startX:i.currentY-i.startY)}n.followFinger&&((n.freeMode||n.watchSlidesProgress||n.watchSlidesVisibility)&&(e.updateActiveIndex(),e.updateSlidesClasses()),n.freeMode&&(0===o.velocities.length&&o.velocities.push({position:i[e.isHorizontal()?"startX":"startY"],time:o.touchStartTime}),o.velocities.push({position:i[e.isHorizontal()?"currentX":"currentY"],time:tt.now()})),e.updateProgress(o.currentTranslate),e.setTranslate(o.currentTranslate))}}}}else o.startMoving&&o.isScrolling&&e.emit("touchMoveOpposite",a)}.bind(t),t.onTouchEnd=function(t){var e=this,o=e.touchEventsData,n=e.params,i=e.touches,r=e.rtlTranslate,a=e.$wrapperEl,s=e.slidesGrid,l=e.snapGrid,c=t;if(c.originalEvent&&(c=c.originalEvent),o.allowTouchCallbacks&&e.emit("touchEnd",c),o.allowTouchCallbacks=!1,!o.isTouched)return o.isMoved&&n.grabCursor&&e.setGrabCursor(!1),o.isMoved=!1,void(o.startMoving=!1);n.grabCursor&&o.isMoved&&o.isTouched&&(!0===e.allowSlideNext||!0===e.allowSlidePrev)&&e.setGrabCursor(!1);var d,u=tt.now(),h=u-o.touchStartTime;if(e.allowClick&&(e.updateClickedSlide(c),e.emit("tap",c),h<300&&300<u-o.lastClickTime&&(o.clickTimeout&&clearTimeout(o.clickTimeout),o.clickTimeout=tt.nextTick(function(){e&&!e.destroyed&&e.emit("click",c)},300)),h<300&&u-o.lastClickTime<300&&(o.clickTimeout&&clearTimeout(o.clickTimeout),e.emit("doubleTap",c))),o.lastClickTime=tt.now(),tt.nextTick(function(){e.destroyed||(e.allowClick=!0)}),!o.isTouched||!o.isMoved||!e.swipeDirection||0===i.diff||o.currentTranslate===o.startTranslate)return o.isTouched=!1,o.isMoved=!1,void(o.startMoving=!1);if(o.isTouched=!1,o.isMoved=!1,o.startMoving=!1,d=n.followFinger?r?e.translate:-e.translate:-o.currentTranslate,n.freeMode){if(d<-e.minTranslate())return void e.slideTo(e.activeIndex);if(d>-e.maxTranslate())return void(e.slides.length<l.length?e.slideTo(l.length-1):e.slideTo(e.slides.length-1));if(n.freeModeMomentum){if(1<o.velocities.length){var p=o.velocities.pop(),f=o.velocities.pop(),m=p.position-f.position,g=p.time-f.time;e.velocity=m/g,e.velocity/=2,Math.abs(e.velocity)<n.freeModeMinimumVelocity&&(e.velocity=0),(150<g||300<tt.now()-p.time)&&(e.velocity=0)}else e.velocity=0;e.velocity*=n.freeModeMomentumVelocityRatio,o.velocities.length=0;var v=1e3*n.freeModeMomentumRatio,b=e.velocity*v,y=e.translate+b;r&&(y=-y);var x,w,C=!1,k=20*Math.abs(e.velocity)*n.freeModeMomentumBounceRatio;if(y<e.maxTranslate())n.freeModeMomentumBounce?(y+e.maxTranslate()<-k&&(y=e.maxTranslate()-k),x=e.maxTranslate(),C=!0,o.allowMomentumBounce=!0):y=e.maxTranslate(),n.loop&&n.centeredSlides&&(w=!0);else if(y>e.minTranslate())n.freeModeMomentumBounce?(y-e.minTranslate()>k&&(y=e.minTranslate()+k),x=e.minTranslate(),C=!0,o.allowMomentumBounce=!0):y=e.minTranslate(),n.loop&&n.centeredSlides&&(w=!0);else if(n.freeModeSticky){for(var S,T=0;T<l.length;T+=1)if(l[T]>-y){S=T;break}y=-(y=Math.abs(l[S]-y)<Math.abs(l[S-1]-y)||"next"===e.swipeDirection?l[S]:l[S-1])}if(w&&e.once("transitionEnd",function(){e.loopFix()}),0!==e.velocity)v=r?Math.abs((-y-e.translate)/e.velocity):Math.abs((y-e.translate)/e.velocity);else if(n.freeModeSticky)return void e.slideToClosest();n.freeModeMomentumBounce&&C?(e.updateProgress(x),e.setTransition(v),e.setTranslate(y),e.transitionStart(!0,e.swipeDirection),e.animating=!0,a.transitionEnd(function(){e&&!e.destroyed&&o.allowMomentumBounce&&(e.emit("momentumBounce"),e.setTransition(n.speed),e.setTranslate(x),a.transitionEnd(function(){e&&!e.destroyed&&e.transitionEnd()}))})):e.velocity?(e.updateProgress(y),e.setTransition(v),e.setTranslate(y),e.transitionStart(!0,e.swipeDirection),e.animating||(e.animating=!0,a.transitionEnd(function(){e&&!e.destroyed&&e.transitionEnd()}))):e.updateProgress(y),e.updateActiveIndex(),e.updateSlidesClasses()}else if(n.freeModeSticky)return void e.slideToClosest();(!n.freeModeMomentum||h>=n.longSwipesMs)&&(e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses())}else{for(var E=0,$=e.slidesSizesGrid[0],I=0;I<s.length;I+=n.slidesPerGroup)void 0!==s[I+n.slidesPerGroup]?d>=s[I]&&d<s[I+n.slidesPerGroup]&&($=s[(E=I)+n.slidesPerGroup]-s[I]):d>=s[I]&&(E=I,$=s[s.length-1]-s[s.length-2]);var P=(d-s[E])/$;if(h>n.longSwipesMs){if(!n.longSwipes)return void e.slideTo(e.activeIndex);"next"===e.swipeDirection&&(P>=n.longSwipesRatio?e.slideTo(E+n.slidesPerGroup):e.slideTo(E)),"prev"===e.swipeDirection&&(P>1-n.longSwipesRatio?e.slideTo(E+n.slidesPerGroup):e.slideTo(E))}else{if(!n.shortSwipes)return void e.slideTo(e.activeIndex);"next"===e.swipeDirection&&e.slideTo(E+n.slidesPerGroup),"prev"===e.swipeDirection&&e.slideTo(E)}}}.bind(t),t.onClick=function(t){this.allowClick||(this.params.preventClicks&&t.preventDefault(),this.params.preventClicksPropagation&&this.animating&&(t.stopPropagation(),t.stopImmediatePropagation()))}.bind(t);var r="container"===e.touchEventsTarget?n:i,a=!!e.nested;if(et.touch||!et.pointerEvents&&!et.prefixedPointerEvents){if(et.touch){var s=!("touchstart"!==o.start||!et.passiveListener||!e.passiveListeners)&&{passive:!0,capture:!1};r.addEventListener(o.start,t.onTouchStart,s),r.addEventListener(o.move,t.onTouchMove,et.passiveListener?{passive:!1,capture:a}:a),r.addEventListener(o.end,t.onTouchEnd,s)}(e.simulateTouch&&!g.ios&&!g.android||e.simulateTouch&&!et.touch&&g.ios)&&(r.addEventListener("mousedown",t.onTouchStart,!1),m.addEventListener("mousemove",t.onTouchMove,a),m.addEventListener("mouseup",t.onTouchEnd,!1))}else r.addEventListener(o.start,t.onTouchStart,!1),m.addEventListener(o.move,t.onTouchMove,a),m.addEventListener(o.end,t.onTouchEnd,!1);(e.preventClicks||e.preventClicksPropagation)&&r.addEventListener("click",t.onClick,!0),t.on(g.ios||g.android?"resize orientationchange observerUpdate":"resize observerUpdate",v,!0)},detachEvents:function(){var t=this,e=t.params,o=t.touchEvents,n=t.el,i=t.wrapperEl,r="container"===e.touchEventsTarget?n:i,a=!!e.nested;if(et.touch||!et.pointerEvents&&!et.prefixedPointerEvents){if(et.touch){var s=!("onTouchStart"!==o.start||!et.passiveListener||!e.passiveListeners)&&{passive:!0,capture:!1};r.removeEventListener(o.start,t.onTouchStart,s),r.removeEventListener(o.move,t.onTouchMove,a),r.removeEventListener(o.end,t.onTouchEnd,s)}(e.simulateTouch&&!g.ios&&!g.android||e.simulateTouch&&!et.touch&&g.ios)&&(r.removeEventListener("mousedown",t.onTouchStart,!1),m.removeEventListener("mousemove",t.onTouchMove,a),m.removeEventListener("mouseup",t.onTouchEnd,!1))}else r.removeEventListener(o.start,t.onTouchStart,!1),m.removeEventListener(o.move,t.onTouchMove,a),m.removeEventListener(o.end,t.onTouchEnd,!1);(e.preventClicks||e.preventClicksPropagation)&&r.removeEventListener("click",t.onClick,!0),t.off(g.ios||g.android?"resize orientationchange observerUpdate":"resize observerUpdate",v)}},breakpoints:{setBreakpoint:function(){var t=this,e=t.activeIndex,o=t.initialized,n=t.loopedSlides;void 0===n&&(n=0);var i=t.params,r=i.breakpoints;if(r&&(!r||0!==Object.keys(r).length)){var a=t.getBreakpoint(r);if(a&&t.currentBreakpoint!==a){var s=a in r?r[a]:void 0;s&&["slidesPerView","spaceBetween","slidesPerGroup"].forEach(function(t){var e=s[t];void 0!==e&&(s[t]="slidesPerView"!==t||"AUTO"!==e&&"auto"!==e?"slidesPerView"===t?parseFloat(e):parseInt(e,10):"auto")});var l=s||t.originalParams,c=l.direction&&l.direction!==i.direction,d=i.loop&&(l.slidesPerView!==i.slidesPerView||c);c&&o&&t.changeDirection(),tt.extend(t.params,l),tt.extend(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),t.currentBreakpoint=a,d&&o&&(t.loopDestroy(),t.loopCreate(),t.updateSlides(),t.slideTo(e-n+t.loopedSlides,0,!1)),t.emit("breakpoint",l)}}},getBreakpoint:function(t){if(t){var e=!1,o=[];Object.keys(t).forEach(function(t){o.push(t)}),o.sort(function(t,e){return parseInt(t,10)-parseInt(e,10)});for(var n=0;n<o.length;n+=1){var i=o[n];this.params.breakpointsInverse?i<=J.innerWidth&&(e=i):i>=J.innerWidth&&!e&&(e=i)}return e||"max"}}},checkOverflow:{checkOverflow:function(){var t=this,e=t.isLocked;t.isLocked=1===t.snapGrid.length,t.allowSlideNext=!t.isLocked,t.allowSlidePrev=!t.isLocked,e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock"),e&&e!==t.isLocked&&(t.isEnd=!1,t.navigation.update())}},classes:{addClasses:function(){var e=this.classNames,o=this.params,t=this.rtl,n=this.$el,i=[];i.push("initialized"),i.push(o.direction),o.freeMode&&i.push("free-mode"),et.flexbox||i.push("no-flexbox"),o.autoHeight&&i.push("autoheight"),t&&i.push("rtl"),1<o.slidesPerColumn&&i.push("multirow"),g.android&&i.push("android"),g.ios&&i.push("ios"),(A.isIE||A.isEdge)&&(et.pointerEvents||et.prefixedPointerEvents)&&i.push("wp8-"+o.direction),i.forEach(function(t){e.push(o.containerModifierClass+t)}),n.addClass(e.join(" "))},removeClasses:function(){var t=this.$el,e=this.classNames;t.removeClass(e.join(" "))}},images:{loadImage:function(t,e,o,n,i,r){var a;function s(){r&&r()}t.complete&&i?s():e?((a=new J.Image).onload=s,a.onerror=s,n&&(a.sizes=n),o&&(a.srcset=o),e&&(a.src=e)):s()},preloadImages:function(){var t=this;function e(){null!=t&&t&&!t.destroyed&&(void 0!==t.imagesLoaded&&(t.imagesLoaded+=1),t.imagesLoaded===t.imagesToLoad.length&&(t.params.updateOnImagesReady&&t.update(),t.emit("imagesReady")))}t.imagesToLoad=t.$el.find("img");for(var o=0;o<t.imagesToLoad.length;o+=1){var n=t.imagesToLoad[o];t.loadImage(n,n.currentSrc||n.getAttribute("src"),n.srcset||n.getAttribute("srcset"),n.sizes||n.getAttribute("sizes"),!0,e)}}}},x={},w=function(h){function p(){for(var t,e,i,o=[],n=arguments.length;n--;)o[n]=arguments[n];i=(i=1===o.length&&o[0].constructor&&o[0].constructor===Object?o[0]:(e=(t=o)[0],t[1]))||{},i=tt.extend({},i),e&&!i.el&&(i.el=e),h.call(this,i),Object.keys(y).forEach(function(e){Object.keys(y[e]).forEach(function(t){p.prototype[t]||(p.prototype[t]=y[e][t])})});var r=this;void 0===r.modules&&(r.modules={}),Object.keys(r.modules).forEach(function(t){var e=r.modules[t];if(e.params){var o=Object.keys(e.params)[0],n=e.params[o];if("object"!=typeof n||null===n)return;if(!(o in i&&"enabled"in n))return;!0===i[o]&&(i[o]={enabled:!0}),"object"!=typeof i[o]||"enabled"in i[o]||(i[o].enabled=!0),i[o]||(i[o]={enabled:!1})}});var a=tt.extend({},b);r.useModulesParams(a),r.params=tt.extend({},a,x,i),r.originalParams=tt.extend({},r.params),r.passedParams=tt.extend({},i);var s=(r.$=L)(r.params.el);if(e=s[0]){if(1<s.length){var l=[];return s.each(function(t,e){var o=tt.extend({},i,{el:e});l.push(new p(o))}),l}e.swiper=r,s.data("swiper",r);var c,d,u=s.children("."+r.params.wrapperClass);return tt.extend(r,{$el:s,el:e,$wrapperEl:u,wrapperEl:u[0],classNames:[],slides:L(),slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:function(){return"horizontal"===r.params.direction},isVertical:function(){return"vertical"===r.params.direction},rtl:"rtl"===e.dir.toLowerCase()||"rtl"===s.css("direction"),rtlTranslate:"horizontal"===r.params.direction&&("rtl"===e.dir.toLowerCase()||"rtl"===s.css("direction")),wrongRTL:"-webkit-box"===u.css("display"),activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,allowSlideNext:r.params.allowSlideNext,allowSlidePrev:r.params.allowSlidePrev,touchEvents:(c=["touchstart","touchmove","touchend"],d=["mousedown","mousemove","mouseup"],et.pointerEvents?d=["pointerdown","pointermove","pointerup"]:et.prefixedPointerEvents&&(d=["MSPointerDown","MSPointerMove","MSPointerUp"]),r.touchEventsTouch={start:c[0],move:c[1],end:c[2]},r.touchEventsDesktop={start:d[0],move:d[1],end:d[2]},et.touch||!r.params.simulateTouch?r.touchEventsTouch:r.touchEventsDesktop),touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,formElements:"input, select, option, textarea, button, video",lastClickTime:tt.now(),clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,isTouchEvent:void 0,startMoving:void 0},allowClick:!0,allowTouchMove:r.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),r.useModules(),r.params.init&&r.init(),r}}h&&(p.__proto__=h);var t={extendedDefaults:{configurable:!0},defaults:{configurable:!0},Class:{configurable:!0},$:{configurable:!0}};return((p.prototype=Object.create(h&&h.prototype)).constructor=p).prototype.slidesPerViewDynamic=function(){var t=this.params,e=this.slides,o=this.slidesGrid,n=this.size,i=this.activeIndex,r=1;if(t.centeredSlides){for(var a,s=e[i].swiperSlideSize,l=i+1;l<e.length;l+=1)e[l]&&!a&&(r+=1,n<(s+=e[l].swiperSlideSize)&&(a=!0));for(var c=i-1;0<=c;c-=1)e[c]&&!a&&(r+=1,n<(s+=e[c].swiperSlideSize)&&(a=!0))}else for(var d=i+1;d<e.length;d+=1)o[d]-o[i]<n&&(r+=1);return r},p.prototype.update=function(){var o=this;if(o&&!o.destroyed){var t=o.snapGrid,e=o.params;e.breakpoints&&o.setBreakpoint(),o.updateSize(),o.updateSlides(),o.updateProgress(),o.updateSlidesClasses(),o.params.freeMode?(n(),o.params.autoHeight&&o.updateAutoHeight()):(("auto"===o.params.slidesPerView||1<o.params.slidesPerView)&&o.isEnd&&!o.params.centeredSlides?o.slideTo(o.slides.length-1,0,!1,!0):o.slideTo(o.activeIndex,0,!1,!0))||n(),e.watchOverflow&&t!==o.snapGrid&&o.checkOverflow(),o.emit("update")}function n(){var t=o.rtlTranslate?-1*o.translate:o.translate,e=Math.min(Math.max(t,o.maxTranslate()),o.minTranslate());o.setTranslate(e),o.updateActiveIndex(),o.updateSlidesClasses()}},p.prototype.changeDirection=function(o,t){void 0===t&&(t=!0);var e=this,n=e.params.direction;return(o=o||("horizontal"===n?"vertical":"horizontal"))===n||"horizontal"!==o&&"vertical"!==o||("vertical"===n&&(e.$el.removeClass(e.params.containerModifierClass+"vertical wp8-vertical").addClass(""+e.params.containerModifierClass+o),(A.isIE||A.isEdge)&&(et.pointerEvents||et.prefixedPointerEvents)&&e.$el.addClass(e.params.containerModifierClass+"wp8-"+o)),"horizontal"===n&&(e.$el.removeClass(e.params.containerModifierClass+"horizontal wp8-horizontal").addClass(""+e.params.containerModifierClass+o),(A.isIE||A.isEdge)&&(et.pointerEvents||et.prefixedPointerEvents)&&e.$el.addClass(e.params.containerModifierClass+"wp8-"+o)),e.params.direction=o,e.slides.each(function(t,e){"vertical"===o?e.style.width="":e.style.height=""}),e.emit("changeDirection"),t&&e.update()),e},p.prototype.init=function(){var t=this;t.initialized||(t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.params.loop&&t.loopCreate(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.setGrabCursor(),t.params.preloadImages&&t.preloadImages(),t.params.loop?t.slideTo(t.params.initialSlide+t.loopedSlides,0,t.params.runCallbacksOnInit):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit),t.attachEvents(),t.initialized=!0,t.emit("init"))},p.prototype.destroy=function(t,e){void 0===t&&(t=!0),void 0===e&&(e=!0);var o=this,n=o.params,i=o.$el,r=o.$wrapperEl,a=o.slides;return void 0===o.params||o.destroyed||(o.emit("beforeDestroy"),o.initialized=!1,o.detachEvents(),n.loop&&o.loopDestroy(),e&&(o.removeClasses(),i.removeAttr("style"),r.removeAttr("style"),a&&a.length&&a.removeClass([n.slideVisibleClass,n.slideActiveClass,n.slideNextClass,n.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-slide-index").removeAttr("data-swiper-column").removeAttr("data-swiper-row")),o.emit("destroy"),Object.keys(o.eventsListeners).forEach(function(t){o.off(t)}),!1!==t&&(o.$el[0].swiper=null,o.$el.data("swiper",null),tt.deleteProps(o)),o.destroyed=!0),null},p.extendDefaults=function(t){tt.extend(x,t)},t.extendedDefaults.get=function(){return x},t.defaults.get=function(){return b},t.Class.get=function(){return h},t.$.get=function(){return L},Object.defineProperties(p,t),p}(t),C={name:"device",proto:{device:g},static:{device:g}},k={name:"support",proto:{support:et},static:{support:et}},S={name:"browser",proto:{browser:A},static:{browser:A}},T={name:"resize",create:function(){var t=this;tt.extend(t,{resize:{resizeHandler:function(){t&&!t.destroyed&&t.initialized&&(t.emit("beforeResize"),t.emit("resize"))},orientationChangeHandler:function(){t&&!t.destroyed&&t.initialized&&t.emit("orientationchange")}}})},on:{init:function(){J.addEventListener("resize",this.resize.resizeHandler),J.addEventListener("orientationchange",this.resize.orientationChangeHandler)},destroy:function(){J.removeEventListener("resize",this.resize.resizeHandler),J.removeEventListener("orientationchange",this.resize.orientationChangeHandler)}}},E={func:J.MutationObserver||J.WebkitMutationObserver,attach:function(t,e){void 0===e&&(e={});var o=this,n=new E.func(function(t){if(1!==t.length){var e=function(){o.emit("observerUpdate",t[0])};J.requestAnimationFrame?J.requestAnimationFrame(e):J.setTimeout(e,0)}else o.emit("observerUpdate",t[0])});n.observe(t,{attributes:void 0===e.attributes||e.attributes,childList:void 0===e.childList||e.childList,characterData:void 0===e.characterData||e.characterData}),o.observer.observers.push(n)},init:function(){if(et.observer&&this.params.observer){if(this.params.observeParents)for(var t=this.$el.parents(),e=0;e<t.length;e+=1)this.observer.attach(t[e]);this.observer.attach(this.$el[0],{childList:this.params.observeSlideChildren}),this.observer.attach(this.$wrapperEl[0],{attributes:!1})}},destroy:function(){this.observer.observers.forEach(function(t){t.disconnect()}),this.observer.observers=[]}},$={name:"observer",params:{observer:!1,observeParents:!1,observeSlideChildren:!1},create:function(){tt.extend(this,{observer:{init:E.init.bind(this),attach:E.attach.bind(this),destroy:E.destroy.bind(this),observers:[]}})},on:{init:function(){this.observer.init()},destroy:function(){this.observer.destroy()}}},I={update:function(t){var e=this,o=e.params,n=o.slidesPerView,i=o.slidesPerGroup,r=o.centeredSlides,a=e.params.virtual,s=a.addSlidesBefore,l=a.addSlidesAfter,c=e.virtual,d=c.from,u=c.to,h=c.slides,p=c.slidesGrid,f=c.renderSlide,m=c.offset;e.updateActiveIndex();var g,v,b,y=e.activeIndex||0;g=e.rtlTranslate?"right":e.isHorizontal()?"left":"top",b=r?(v=Math.floor(n/2)+i+s,Math.floor(n/2)+i+l):(v=n+(i-1)+s,i+l);var x=Math.max((y||0)-b,0),w=Math.min((y||0)+v,h.length-1),C=(e.slidesGrid[x]||0)-(e.slidesGrid[0]||0);function k(){e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.lazy&&e.params.lazy.enabled&&e.lazy.load()}if(tt.extend(e.virtual,{from:x,to:w,offset:C,slidesGrid:e.slidesGrid}),d===x&&u===w&&!t)return e.slidesGrid!==p&&C!==m&&e.slides.css(g,C+"px"),void e.updateProgress();if(e.params.virtual.renderExternal)return e.params.virtual.renderExternal.call(e,{offset:C,from:x,to:w,slides:function(){for(var t=[],e=x;e<=w;e+=1)t.push(h[e]);return t}()}),void k();var S=[],T=[];if(t)e.$wrapperEl.find("."+e.params.slideClass).remove();else for(var E=d;E<=u;E+=1)(E<x||w<E)&&e.$wrapperEl.find("."+e.params.slideClass+'[data-swiper-slide-index="'+E+'"]').remove();for(var $=0;$<h.length;$+=1)x<=$&&$<=w&&(void 0===u||t?T.push($):(u<$&&T.push($),$<d&&S.push($)));T.forEach(function(t){e.$wrapperEl.append(f(h[t],t))}),S.sort(function(t,e){return e-t}).forEach(function(t){e.$wrapperEl.prepend(f(h[t],t))}),e.$wrapperEl.children(".swiper-slide").css(g,C+"px"),k()},renderSlide:function(t,e){var o=this.params.virtual;if(o.cache&&this.virtual.cache[e])return this.virtual.cache[e];var n=o.renderSlide?L(o.renderSlide.call(this,t,e)):L('<div class="'+this.params.slideClass+'" data-swiper-slide-index="'+e+'">'+t+"</div>");return n.attr("data-swiper-slide-index")||n.attr("data-swiper-slide-index",e),o.cache&&(this.virtual.cache[e]=n),n},appendSlide:function(t){if("object"==typeof t&&"length"in t)for(var e=0;e<t.length;e+=1)t[e]&&this.virtual.slides.push(t[e]);else this.virtual.slides.push(t);this.virtual.update(!0)},prependSlide:function(t){var e=this.activeIndex,o=e+1,n=1;if(Array.isArray(t)){for(var i=0;i<t.length;i+=1)t[i]&&this.virtual.slides.unshift(t[i]);o=e+t.length,n=t.length}else this.virtual.slides.unshift(t);if(this.params.virtual.cache){var r=this.virtual.cache,a={};Object.keys(r).forEach(function(t){a[parseInt(t,10)+n]=r[t]}),this.virtual.cache=a}this.virtual.update(!0),this.slideTo(o,0)},removeSlide:function(t){if(null!=t){var e=this.activeIndex;if(Array.isArray(t))for(var o=t.length-1;0<=o;o-=1)this.virtual.slides.splice(t[o],1),this.params.virtual.cache&&delete this.virtual.cache[t[o]],t[o]<e&&(e-=1),e=Math.max(e,0);else this.virtual.slides.splice(t,1),this.params.virtual.cache&&delete this.virtual.cache[t],t<e&&(e-=1),e=Math.max(e,0);this.virtual.update(!0),this.slideTo(e,0)}},removeAllSlides:function(){this.virtual.slides=[],this.params.virtual.cache&&(this.virtual.cache={}),this.virtual.update(!0),this.slideTo(0,0)}},P={name:"virtual",params:{virtual:{enabled:!1,slides:[],cache:!0,renderSlide:null,renderExternal:null,addSlidesBefore:0,addSlidesAfter:0}},create:function(){tt.extend(this,{virtual:{update:I.update.bind(this),appendSlide:I.appendSlide.bind(this),prependSlide:I.prependSlide.bind(this),removeSlide:I.removeSlide.bind(this),removeAllSlides:I.removeAllSlides.bind(this),renderSlide:I.renderSlide.bind(this),slides:this.params.virtual.slides,cache:{}}})},on:{beforeInit:function(){if(this.params.virtual.enabled){this.classNames.push(this.params.containerModifierClass+"virtual");var t={watchSlidesProgress:!0};tt.extend(this.params,t),tt.extend(this.originalParams,t),this.params.initialSlide||this.virtual.update()}},setTranslate:function(){this.params.virtual.enabled&&this.virtual.update()}}},N={handle:function(t){var e=this,o=e.rtlTranslate,n=t;n.originalEvent&&(n=n.originalEvent);var i=n.keyCode||n.charCode;if(!e.allowSlideNext&&(e.isHorizontal()&&39===i||e.isVertical()&&40===i))return!1;if(!e.allowSlidePrev&&(e.isHorizontal()&&37===i||e.isVertical()&&38===i))return!1;if(!(n.shiftKey||n.altKey||n.ctrlKey||n.metaKey||m.activeElement&&m.activeElement.nodeName&&("input"===m.activeElement.nodeName.toLowerCase()||"textarea"===m.activeElement.nodeName.toLowerCase()))){if(e.params.keyboard.onlyInViewport&&(37===i||39===i||38===i||40===i)){var r=!1;if(0<e.$el.parents("."+e.params.slideClass).length&&0===e.$el.parents("."+e.params.slideActiveClass).length)return;var a=J.innerWidth,s=J.innerHeight,l=e.$el.offset();o&&(l.left-=e.$el[0].scrollLeft);for(var c=[[l.left,l.top],[l.left+e.width,l.top],[l.left,l.top+e.height],[l.left+e.width,l.top+e.height]],d=0;d<c.length;d+=1){var u=c[d];0<=u[0]&&u[0]<=a&&0<=u[1]&&u[1]<=s&&(r=!0)}if(!r)return}e.isHorizontal()?(37!==i&&39!==i||(n.preventDefault?n.preventDefault():n.returnValue=!1),(39===i&&!o||37===i&&o)&&e.slideNext(),(37===i&&!o||39===i&&o)&&e.slidePrev()):(38!==i&&40!==i||(n.preventDefault?n.preventDefault():n.returnValue=!1),40===i&&e.slideNext(),38===i&&e.slidePrev()),e.emit("keyPress",i)}},enable:function(){this.keyboard.enabled||(L(m).on("keydown",this.keyboard.handle),this.keyboard.enabled=!0)},disable:function(){this.keyboard.enabled&&(L(m).off("keydown",this.keyboard.handle),this.keyboard.enabled=!1)}},M={name:"keyboard",params:{keyboard:{enabled:!1,onlyInViewport:!0}},create:function(){tt.extend(this,{keyboard:{enabled:!1,enable:N.enable.bind(this),disable:N.disable.bind(this),handle:N.handle.bind(this)}})},on:{init:function(){this.params.keyboard.enabled&&this.keyboard.enable()},destroy:function(){this.keyboard.enabled&&this.keyboard.disable()}}},R={lastScrollTime:tt.now(),event:-1<J.navigator.userAgent.indexOf("firefox")?"DOMMouseScroll":function(){var t="onwheel",e=t in m;if(!e){var o=m.createElement("div");o.setAttribute(t,"return;"),e="function"==typeof o[t]}return!e&&m.implementation&&m.implementation.hasFeature&&!0!==m.implementation.hasFeature("","")&&(e=m.implementation.hasFeature("Events.wheel","3.0")),e}()?"wheel":"mousewheel",normalize:function(t){var e=0,o=0,n=0,i=0;return"detail"in t&&(o=t.detail),"wheelDelta"in t&&(o=-t.wheelDelta/120),"wheelDeltaY"in t&&(o=-t.wheelDeltaY/120),"wheelDeltaX"in t&&(e=-t.wheelDeltaX/120),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(e=o,o=0),n=10*e,i=10*o,"deltaY"in t&&(i=t.deltaY),"deltaX"in t&&(n=t.deltaX),(n||i)&&t.deltaMode&&(1===t.deltaMode?(n*=40,i*=40):(n*=800,i*=800)),n&&!e&&(e=n<1?-1:1),i&&!o&&(o=i<1?-1:1),{spinX:e,spinY:o,pixelX:n,pixelY:i}},handleMouseEnter:function(){this.mouseEntered=!0},handleMouseLeave:function(){this.mouseEntered=!1},handle:function(t){var e=t,o=this,n=o.params.mousewheel;if(!o.mouseEntered&&!n.releaseOnEdges)return!0;e.originalEvent&&(e=e.originalEvent);var i=0,r=o.rtlTranslate?-1:1,a=R.normalize(e);if(n.forceToAxis)if(o.isHorizontal()){if(!(Math.abs(a.pixelX)>Math.abs(a.pixelY)))return!0;i=a.pixelX*r}else{if(!(Math.abs(a.pixelY)>Math.abs(a.pixelX)))return!0;i=a.pixelY}else i=Math.abs(a.pixelX)>Math.abs(a.pixelY)?-a.pixelX*r:-a.pixelY;if(0===i)return!0;if(n.invert&&(i=-i),o.params.freeMode){o.params.loop&&o.loopFix();var s=o.getTranslate()+i*n.sensitivity,l=o.isBeginning,c=o.isEnd;if(s>=o.minTranslate()&&(s=o.minTranslate()),s<=o.maxTranslate()&&(s=o.maxTranslate()),o.setTransition(0),o.setTranslate(s),o.updateProgress(),o.updateActiveIndex(),o.updateSlidesClasses(),(!l&&o.isBeginning||!c&&o.isEnd)&&o.updateSlidesClasses(),o.params.freeModeSticky&&(clearTimeout(o.mousewheel.timeout),o.mousewheel.timeout=tt.nextTick(function(){o.slideToClosest()},300)),o.emit("scroll",e),o.params.autoplay&&o.params.autoplayDisableOnInteraction&&o.autoplay.stop(),s===o.minTranslate()||s===o.maxTranslate())return!0}else{if(60<tt.now()-o.mousewheel.lastScrollTime)if(i<0)if(o.isEnd&&!o.params.loop||o.animating){if(n.releaseOnEdges)return!0}else o.slideNext(),o.emit("scroll",e);else if(o.isBeginning&&!o.params.loop||o.animating){if(n.releaseOnEdges)return!0}else o.slidePrev(),o.emit("scroll",e);o.mousewheel.lastScrollTime=(new J.Date).getTime()}return e.preventDefault?e.preventDefault():e.returnValue=!1,!1},enable:function(){if(!R.event)return!1;if(this.mousewheel.enabled)return!1;var t=this.$el;return"container"!==this.params.mousewheel.eventsTarged&&(t=L(this.params.mousewheel.eventsTarged)),t.on("mouseenter",this.mousewheel.handleMouseEnter),t.on("mouseleave",this.mousewheel.handleMouseLeave),t.on(R.event,this.mousewheel.handle),this.mousewheel.enabled=!0},disable:function(){if(!R.event)return!1;if(!this.mousewheel.enabled)return!1;var t=this.$el;return"container"!==this.params.mousewheel.eventsTarged&&(t=L(this.params.mousewheel.eventsTarged)),t.off(R.event,this.mousewheel.handle),!(this.mousewheel.enabled=!1)}},D={update:function(){var t=this.params.navigation;if(!this.params.loop){var e=this.navigation,o=e.$nextEl,n=e.$prevEl;n&&0<n.length&&(this.isBeginning?n.addClass(t.disabledClass):n.removeClass(t.disabledClass),n[this.params.watchOverflow&&this.isLocked?"addClass":"removeClass"](t.lockClass)),o&&0<o.length&&(this.isEnd?o.addClass(t.disabledClass):o.removeClass(t.disabledClass),o[this.params.watchOverflow&&this.isLocked?"addClass":"removeClass"](t.lockClass))}},onPrevClick:function(t){t.preventDefault(),this.isBeginning&&!this.params.loop||this.slidePrev()},onNextClick:function(t){t.preventDefault(),this.isEnd&&!this.params.loop||this.slideNext()},init:function(){var t,e,o=this,n=o.params.navigation;(n.nextEl||n.prevEl)&&(n.nextEl&&(t=L(n.nextEl),o.params.uniqueNavElements&&"string"==typeof n.nextEl&&1<t.length&&1===o.$el.find(n.nextEl).length&&(t=o.$el.find(n.nextEl))),n.prevEl&&(e=L(n.prevEl),o.params.uniqueNavElements&&"string"==typeof n.prevEl&&1<e.length&&1===o.$el.find(n.prevEl).length&&(e=o.$el.find(n.prevEl))),t&&0<t.length&&t.on("click",o.navigation.onNextClick),e&&0<e.length&&e.on("click",o.navigation.onPrevClick),tt.extend(o.navigation,{$nextEl:t,nextEl:t&&t[0],$prevEl:e,prevEl:e&&e[0]}))},destroy:function(){var t=this.navigation,e=t.$nextEl,o=t.$prevEl;e&&e.length&&(e.off("click",this.navigation.onNextClick),e.removeClass(this.params.navigation.disabledClass)),o&&o.length&&(o.off("click",this.navigation.onPrevClick),o.removeClass(this.params.navigation.disabledClass))}},F={update:function(){var t=this,e=t.rtl,i=t.params.pagination;if(i.el&&t.pagination.el&&t.pagination.$el&&0!==t.pagination.$el.length){var r,o=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length,n=t.pagination.$el,a=t.params.loop?Math.ceil((o-2*t.loopedSlides)/t.params.slidesPerGroup):t.snapGrid.length;if(t.params.loop?((r=Math.ceil((t.activeIndex-t.loopedSlides)/t.params.slidesPerGroup))>o-1-2*t.loopedSlides&&(r-=o-2*t.loopedSlides),a-1<r&&(r-=a),r<0&&"bullets"!==t.params.paginationType&&(r=a+r)):r=void 0!==t.snapIndex?t.snapIndex:t.activeIndex||0,"bullets"===i.type&&t.pagination.bullets&&0<t.pagination.bullets.length){var s,l,c,d=t.pagination.bullets;if(i.dynamicBullets&&(t.pagination.bulletSize=d.eq(0)[t.isHorizontal()?"outerWidth":"outerHeight"](!0),n.css(t.isHorizontal()?"width":"height",t.pagination.bulletSize*(i.dynamicMainBullets+4)+"px"),1<i.dynamicMainBullets&&void 0!==t.previousIndex&&(t.pagination.dynamicBulletIndex+=r-t.previousIndex,t.pagination.dynamicBulletIndex>i.dynamicMainBullets-1?t.pagination.dynamicBulletIndex=i.dynamicMainBullets-1:t.pagination.dynamicBulletIndex<0&&(t.pagination.dynamicBulletIndex=0)),s=r-t.pagination.dynamicBulletIndex,c=((l=s+(Math.min(d.length,i.dynamicMainBullets)-1))+s)/2),d.removeClass(i.bulletActiveClass+" "+i.bulletActiveClass+"-next "+i.bulletActiveClass+"-next-next "+i.bulletActiveClass+"-prev "+i.bulletActiveClass+"-prev-prev "+i.bulletActiveClass+"-main"),1<n.length)d.each(function(t,e){var o=L(e),n=o.index();n===r&&o.addClass(i.bulletActiveClass),i.dynamicBullets&&(s<=n&&n<=l&&o.addClass(i.bulletActiveClass+"-main"),n===s&&o.prev().addClass(i.bulletActiveClass+"-prev").prev().addClass(i.bulletActiveClass+"-prev-prev"),n===l&&o.next().addClass(i.bulletActiveClass+"-next").next().addClass(i.bulletActiveClass+"-next-next"))});else if(d.eq(r).addClass(i.bulletActiveClass),i.dynamicBullets){for(var u=d.eq(s),h=d.eq(l),p=s;p<=l;p+=1)d.eq(p).addClass(i.bulletActiveClass+"-main");u.prev().addClass(i.bulletActiveClass+"-prev").prev().addClass(i.bulletActiveClass+"-prev-prev"),h.next().addClass(i.bulletActiveClass+"-next").next().addClass(i.bulletActiveClass+"-next-next")}if(i.dynamicBullets){var f=Math.min(d.length,i.dynamicMainBullets+4),m=(t.pagination.bulletSize*f-t.pagination.bulletSize)/2-c*t.pagination.bulletSize,g=e?"right":"left";d.css(t.isHorizontal()?g:"top",m+"px")}}if("fraction"===i.type&&(n.find("."+i.currentClass).text(i.formatFractionCurrent(r+1)),n.find("."+i.totalClass).text(i.formatFractionTotal(a))),"progressbar"===i.type){var v;v=i.progressbarOpposite?t.isHorizontal()?"vertical":"horizontal":t.isHorizontal()?"horizontal":"vertical";var b=(r+1)/a,y=1,x=1;"horizontal"==v?y=b:x=b,n.find("."+i.progressbarFillClass).transform("translate3d(0,0,0) scaleX("+y+") scaleY("+x+")").transition(t.params.speed)}"custom"===i.type&&i.renderCustom?(n.html(i.renderCustom(t,r+1,a)),t.emit("paginationRender",t,n[0])):t.emit("paginationUpdate",t,n[0]),n[t.params.watchOverflow&&t.isLocked?"addClass":"removeClass"](i.lockClass)}},render:function(){var t=this,e=t.params.pagination;if(e.el&&t.pagination.el&&t.pagination.$el&&0!==t.pagination.$el.length){var o=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length,n=t.pagination.$el,i="";if("bullets"===e.type){for(var r=t.params.loop?Math.ceil((o-2*t.loopedSlides)/t.params.slidesPerGroup):t.snapGrid.length,a=0;a<r;a+=1)e.renderBullet?i+=e.renderBullet.call(t,a,e.bulletClass):i+="<"+e.bulletElement+' class="'+e.bulletClass+'"></'+e.bulletElement+">";n.html(i),t.pagination.bullets=n.find("."+e.bulletClass)}"fraction"===e.type&&(i=e.renderFraction?e.renderFraction.call(t,e.currentClass,e.totalClass):'<span class="'+e.currentClass+'"></span> / <span class="'+e.totalClass+'"></span>',n.html(i)),"progressbar"===e.type&&(i=e.renderProgressbar?e.renderProgressbar.call(t,e.progressbarFillClass):'<span class="'+e.progressbarFillClass+'"></span>',n.html(i)),"custom"!==e.type&&t.emit("paginationRender",t.pagination.$el[0])}},init:function(){var o=this,t=o.params.pagination;if(t.el){var e=L(t.el);0!==e.length&&(o.params.uniqueNavElements&&"string"==typeof t.el&&1<e.length&&1===o.$el.find(t.el).length&&(e=o.$el.find(t.el)),"bullets"===t.type&&t.clickable&&e.addClass(t.clickableClass),e.addClass(t.modifierClass+t.type),"bullets"===t.type&&t.dynamicBullets&&(e.addClass(""+t.modifierClass+t.type+"-dynamic"),o.pagination.dynamicBulletIndex=0,t.dynamicMainBullets<1&&(t.dynamicMainBullets=1)),"progressbar"===t.type&&t.progressbarOpposite&&e.addClass(t.progressbarOppositeClass),t.clickable&&e.on("click","."+t.bulletClass,function(t){t.preventDefault();var e=L(this).index()*o.params.slidesPerGroup;o.params.loop&&(e+=o.loopedSlides),o.slideTo(e)}),tt.extend(o.pagination,{$el:e,el:e[0]}))}},destroy:function(){var t=this.params.pagination;if(t.el&&this.pagination.el&&this.pagination.$el&&0!==this.pagination.$el.length){var e=this.pagination.$el;e.removeClass(t.hiddenClass),e.removeClass(t.modifierClass+t.type),this.pagination.bullets&&this.pagination.bullets.removeClass(t.bulletActiveClass),t.clickable&&e.off("click","."+t.bulletClass)}}},H={setTranslate:function(){if(this.params.scrollbar.el&&this.scrollbar.el){var t=this.scrollbar,e=this.rtlTranslate,o=this.progress,n=t.dragSize,i=t.trackSize,r=t.$dragEl,a=t.$el,s=this.params.scrollbar,l=n,c=(i-n)*o;e?0<(c=-c)?(l=n-c,c=0):i<-c+n&&(l=i+c):c<0?(l=n+c,c=0):i<c+n&&(l=i-c),this.isHorizontal()?(et.transforms3d?r.transform("translate3d("+c+"px, 0, 0)"):r.transform("translateX("+c+"px)"),r[0].style.width=l+"px"):(et.transforms3d?r.transform("translate3d(0px, "+c+"px, 0)"):r.transform("translateY("+c+"px)"),r[0].style.height=l+"px"),s.hide&&(clearTimeout(this.scrollbar.timeout),a[0].style.opacity=1,this.scrollbar.timeout=setTimeout(function(){a[0].style.opacity=0,a.transition(400)},1e3))}},setTransition:function(t){this.params.scrollbar.el&&this.scrollbar.el&&this.scrollbar.$dragEl.transition(t)},updateSize:function(){var t=this;if(t.params.scrollbar.el&&t.scrollbar.el){var e=t.scrollbar,o=e.$dragEl,n=e.$el;o[0].style.width="",o[0].style.height="";var i,r=t.isHorizontal()?n[0].offsetWidth:n[0].offsetHeight,a=t.size/t.virtualSize,s=a*(r/t.size);i="auto"===t.params.scrollbar.dragSize?r*a:parseInt(t.params.scrollbar.dragSize,10),t.isHorizontal()?o[0].style.width=i+"px":o[0].style.height=i+"px",n[0].style.display=1<=a?"none":"",t.params.scrollbar.hide&&(n[0].style.opacity=0),tt.extend(e,{trackSize:r,divider:a,moveDivider:s,dragSize:i}),e.$el[t.params.watchOverflow&&t.isLocked?"addClass":"removeClass"](t.params.scrollbar.lockClass)}},setDragPosition:function(t){var e,o=this,n=o.scrollbar,i=o.rtlTranslate,r=n.$el,a=n.dragSize,s=n.trackSize;e=((o.isHorizontal()?"touchstart"===t.type||"touchmove"===t.type?t.targetTouches[0].pageX:t.pageX||t.clientX:"touchstart"===t.type||"touchmove"===t.type?t.targetTouches[0].pageY:t.pageY||t.clientY)-r.offset()[o.isHorizontal()?"left":"top"]-a/2)/(s-a),e=Math.max(Math.min(e,1),0),i&&(e=1-e);var l=o.minTranslate()+(o.maxTranslate()-o.minTranslate())*e;o.updateProgress(l),o.setTranslate(l),o.updateActiveIndex(),o.updateSlidesClasses()},onDragStart:function(t){var e=this.params.scrollbar,o=this.scrollbar,n=this.$wrapperEl,i=o.$el,r=o.$dragEl;this.scrollbar.isTouched=!0,t.preventDefault(),t.stopPropagation(),n.transition(100),r.transition(100),o.setDragPosition(t),clearTimeout(this.scrollbar.dragTimeout),i.transition(0),e.hide&&i.css("opacity",1),this.emit("scrollbarDragStart",t)},onDragMove:function(t){var e=this.scrollbar,o=this.$wrapperEl,n=e.$el,i=e.$dragEl;this.scrollbar.isTouched&&(t.preventDefault?t.preventDefault():t.returnValue=!1,e.setDragPosition(t),o.transition(0),n.transition(0),i.transition(0),this.emit("scrollbarDragMove",t))},onDragEnd:function(t){var e=this.params.scrollbar,o=this.scrollbar.$el;this.scrollbar.isTouched&&(this.scrollbar.isTouched=!1,e.hide&&(clearTimeout(this.scrollbar.dragTimeout),this.scrollbar.dragTimeout=tt.nextTick(function(){o.css("opacity",0),o.transition(400)},1e3)),this.emit("scrollbarDragEnd",t),e.snapOnRelease&&this.slideToClosest())},enableDraggable:function(){var t=this;if(t.params.scrollbar.el){var e=t.scrollbar,o=t.touchEventsTouch,n=t.touchEventsDesktop,i=t.params,r=e.$el[0],a=!(!et.passiveListener||!i.passiveListeners)&&{passive:!1,capture:!1},s=!(!et.passiveListener||!i.passiveListeners)&&{passive:!0,capture:!1};et.touch?(r.addEventListener(o.start,t.scrollbar.onDragStart,a),r.addEventListener(o.move,t.scrollbar.onDragMove,a),r.addEventListener(o.end,t.scrollbar.onDragEnd,s)):(r.addEventListener(n.start,t.scrollbar.onDragStart,a),m.addEventListener(n.move,t.scrollbar.onDragMove,a),m.addEventListener(n.end,t.scrollbar.onDragEnd,s))}},disableDraggable:function(){var t=this;if(t.params.scrollbar.el){var e=t.scrollbar,o=t.touchEventsTouch,n=t.touchEventsDesktop,i=t.params,r=e.$el[0],a=!(!et.passiveListener||!i.passiveListeners)&&{passive:!1,capture:!1},s=!(!et.passiveListener||!i.passiveListeners)&&{passive:!0,capture:!1};et.touch?(r.removeEventListener(o.start,t.scrollbar.onDragStart,a),r.removeEventListener(o.move,t.scrollbar.onDragMove,a),r.removeEventListener(o.end,t.scrollbar.onDragEnd,s)):(r.removeEventListener(n.start,t.scrollbar.onDragStart,a),m.removeEventListener(n.move,t.scrollbar.onDragMove,a),m.removeEventListener(n.end,t.scrollbar.onDragEnd,s))}},init:function(){if(this.params.scrollbar.el){var t=this.scrollbar,e=this.$el,o=this.params.scrollbar,n=L(o.el);this.params.uniqueNavElements&&"string"==typeof o.el&&1<n.length&&1===e.find(o.el).length&&(n=e.find(o.el));var i=n.find("."+this.params.scrollbar.dragClass);0===i.length&&(i=L('<div class="'+this.params.scrollbar.dragClass+'"></div>'),n.append(i)),tt.extend(t,{$el:n,el:n[0],$dragEl:i,dragEl:i[0]}),o.draggable&&t.enableDraggable()}},destroy:function(){this.scrollbar.disableDraggable()}},z={setTransform:function(t,e){var o=this.rtl,n=L(t),i=o?-1:1,r=n.attr("data-swiper-parallax")||"0",a=n.attr("data-swiper-parallax-x"),s=n.attr("data-swiper-parallax-y"),l=n.attr("data-swiper-parallax-scale"),c=n.attr("data-swiper-parallax-opacity");if(a||s?(a=a||"0",s=s||"0"):this.isHorizontal()?(a=r,s="0"):(s=r,a="0"),a=0<=a.indexOf("%")?parseInt(a,10)*e*i+"%":a*e*i+"px",s=0<=s.indexOf("%")?parseInt(s,10)*e+"%":s*e+"px",null!=c){var d=c-(c-1)*(1-Math.abs(e));n[0].style.opacity=d}if(null==l)n.transform("translate3d("+a+", "+s+", 0px)");else{var u=l-(l-1)*(1-Math.abs(e));n.transform("translate3d("+a+", "+s+", 0px) scale("+u+")")}},setTranslate:function(){var n=this,t=n.$el,e=n.slides,i=n.progress,r=n.snapGrid;t.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(t,e){n.parallax.setTransform(e,i)}),e.each(function(t,e){var o=e.progress;1<n.params.slidesPerGroup&&"auto"!==n.params.slidesPerView&&(o+=Math.ceil(t/2)-i*(r.length-1)),o=Math.min(Math.max(o,-1),1),L(e).find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(t,e){n.parallax.setTransform(e,o)})})},setTransition:function(i){void 0===i&&(i=this.params.speed),this.$el.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(t,e){var o=L(e),n=parseInt(o.attr("data-swiper-parallax-duration"),10)||i;0===i&&(n=0),o.transition(n)})}},B={getDistanceBetweenTouches:function(t){if(t.targetTouches.length<2)return 1;var e=t.targetTouches[0].pageX,o=t.targetTouches[0].pageY,n=t.targetTouches[1].pageX,i=t.targetTouches[1].pageY;return Math.sqrt(Math.pow(n-e,2)+Math.pow(i-o,2))},onGestureStart:function(t){var e=this.params.zoom,o=this.zoom,n=o.gesture;if(o.fakeGestureTouched=!1,o.fakeGestureMoved=!1,!et.gestures){if("touchstart"!==t.type||"touchstart"===t.type&&t.targetTouches.length<2)return;o.fakeGestureTouched=!0,n.scaleStart=B.getDistanceBetweenTouches(t)}n.$slideEl&&n.$slideEl.length||(n.$slideEl=L(t.target).closest(".swiper-slide"),0===n.$slideEl.length&&(n.$slideEl=this.slides.eq(this.activeIndex)),n.$imageEl=n.$slideEl.find("img, svg, canvas"),n.$imageWrapEl=n.$imageEl.parent("."+e.containerClass),n.maxRatio=n.$imageWrapEl.attr("data-swiper-zoom")||e.maxRatio,0!==n.$imageWrapEl.length)?(n.$imageEl.transition(0),this.zoom.isScaling=!0):n.$imageEl=void 0},onGestureChange:function(t){var e=this.params.zoom,o=this.zoom,n=o.gesture;if(!et.gestures){if("touchmove"!==t.type||"touchmove"===t.type&&t.targetTouches.length<2)return;o.fakeGestureMoved=!0,n.scaleMove=B.getDistanceBetweenTouches(t)}n.$imageEl&&0!==n.$imageEl.length&&(o.scale=et.gestures?t.scale*o.currentScale:n.scaleMove/n.scaleStart*o.currentScale,o.scale>n.maxRatio&&(o.scale=n.maxRatio-1+Math.pow(o.scale-n.maxRatio+1,.5)),o.scale<e.minRatio&&(o.scale=e.minRatio+1-Math.pow(e.minRatio-o.scale+1,.5)),n.$imageEl.transform("translate3d(0,0,0) scale("+o.scale+")"))},onGestureEnd:function(t){var e=this.params.zoom,o=this.zoom,n=o.gesture;if(!et.gestures){if(!o.fakeGestureTouched||!o.fakeGestureMoved)return;if("touchend"!==t.type||"touchend"===t.type&&t.changedTouches.length<2&&!g.android)return;o.fakeGestureTouched=!1,o.fakeGestureMoved=!1}n.$imageEl&&0!==n.$imageEl.length&&(o.scale=Math.max(Math.min(o.scale,n.maxRatio),e.minRatio),n.$imageEl.transition(this.params.speed).transform("translate3d(0,0,0) scale("+o.scale+")"),o.currentScale=o.scale,o.isScaling=!1,1===o.scale&&(n.$slideEl=void 0))},onTouchStart:function(t){var e=this.zoom,o=e.gesture,n=e.image;o.$imageEl&&0!==o.$imageEl.length&&(n.isTouched||(g.android&&t.preventDefault(),n.isTouched=!0,n.touchesStart.x="touchstart"===t.type?t.targetTouches[0].pageX:t.pageX,n.touchesStart.y="touchstart"===t.type?t.targetTouches[0].pageY:t.pageY))},onTouchMove:function(t){var e=this.zoom,o=e.gesture,n=e.image,i=e.velocity;if(o.$imageEl&&0!==o.$imageEl.length&&(this.allowClick=!1,n.isTouched&&o.$slideEl)){n.isMoved||(n.width=o.$imageEl[0].offsetWidth,n.height=o.$imageEl[0].offsetHeight,n.startX=tt.getTranslate(o.$imageWrapEl[0],"x")||0,n.startY=tt.getTranslate(o.$imageWrapEl[0],"y")||0,o.slideWidth=o.$slideEl[0].offsetWidth,o.slideHeight=o.$slideEl[0].offsetHeight,o.$imageWrapEl.transition(0),this.rtl&&(n.startX=-n.startX,n.startY=-n.startY));var r=n.width*e.scale,a=n.height*e.scale;if(!(r<o.slideWidth&&a<o.slideHeight)){if(n.minX=Math.min(o.slideWidth/2-r/2,0),n.maxX=-n.minX,n.minY=Math.min(o.slideHeight/2-a/2,0),n.maxY=-n.minY,n.touchesCurrent.x="touchmove"===t.type?t.targetTouches[0].pageX:t.pageX,n.touchesCurrent.y="touchmove"===t.type?t.targetTouches[0].pageY:t.pageY,!n.isMoved&&!e.isScaling){if(this.isHorizontal()&&(Math.floor(n.minX)===Math.floor(n.startX)&&n.touchesCurrent.x<n.touchesStart.x||Math.floor(n.maxX)===Math.floor(n.startX)&&n.touchesCurrent.x>n.touchesStart.x))return void(n.isTouched=!1);if(!this.isHorizontal()&&(Math.floor(n.minY)===Math.floor(n.startY)&&n.touchesCurrent.y<n.touchesStart.y||Math.floor(n.maxY)===Math.floor(n.startY)&&n.touchesCurrent.y>n.touchesStart.y))return void(n.isTouched=!1)}t.preventDefault(),t.stopPropagation(),n.isMoved=!0,n.currentX=n.touchesCurrent.x-n.touchesStart.x+n.startX,n.currentY=n.touchesCurrent.y-n.touchesStart.y+n.startY,n.currentX<n.minX&&(n.currentX=n.minX+1-Math.pow(n.minX-n.currentX+1,.8)),n.currentX>n.maxX&&(n.currentX=n.maxX-1+Math.pow(n.currentX-n.maxX+1,.8)),n.currentY<n.minY&&(n.currentY=n.minY+1-Math.pow(n.minY-n.currentY+1,.8)),n.currentY>n.maxY&&(n.currentY=n.maxY-1+Math.pow(n.currentY-n.maxY+1,.8)),i.prevPositionX||(i.prevPositionX=n.touchesCurrent.x),i.prevPositionY||(i.prevPositionY=n.touchesCurrent.y),i.prevTime||(i.prevTime=Date.now()),i.x=(n.touchesCurrent.x-i.prevPositionX)/(Date.now()-i.prevTime)/2,i.y=(n.touchesCurrent.y-i.prevPositionY)/(Date.now()-i.prevTime)/2,Math.abs(n.touchesCurrent.x-i.prevPositionX)<2&&(i.x=0),Math.abs(n.touchesCurrent.y-i.prevPositionY)<2&&(i.y=0),i.prevPositionX=n.touchesCurrent.x,i.prevPositionY=n.touchesCurrent.y,i.prevTime=Date.now(),o.$imageWrapEl.transform("translate3d("+n.currentX+"px, "+n.currentY+"px,0)")}}},onTouchEnd:function(){var t=this.zoom,e=t.gesture,o=t.image,n=t.velocity;if(e.$imageEl&&0!==e.$imageEl.length){if(!o.isTouched||!o.isMoved)return o.isTouched=!1,void(o.isMoved=!1);o.isTouched=!1,o.isMoved=!1;var i=300,r=300,a=n.x*i,s=o.currentX+a,l=n.y*r,c=o.currentY+l;0!==n.x&&(i=Math.abs((s-o.currentX)/n.x)),0!==n.y&&(r=Math.abs((c-o.currentY)/n.y));var d=Math.max(i,r);o.currentX=s,o.currentY=c;var u=o.width*t.scale,h=o.height*t.scale;o.minX=Math.min(e.slideWidth/2-u/2,0),o.maxX=-o.minX,o.minY=Math.min(e.slideHeight/2-h/2,0),o.maxY=-o.minY,o.currentX=Math.max(Math.min(o.currentX,o.maxX),o.minX),o.currentY=Math.max(Math.min(o.currentY,o.maxY),o.minY),e.$imageWrapEl.transition(d).transform("translate3d("+o.currentX+"px, "+o.currentY+"px,0)")}},onTransitionEnd:function(){var t=this.zoom,e=t.gesture;e.$slideEl&&this.previousIndex!==this.activeIndex&&(e.$imageEl.transform("translate3d(0,0,0) scale(1)"),e.$imageWrapEl.transform("translate3d(0,0,0)"),t.scale=1,t.currentScale=1,e.$slideEl=void 0,e.$imageEl=void 0,e.$imageWrapEl=void 0)},toggle:function(t){var e=this.zoom;e.scale&&1!==e.scale?e.out():e.in(t)},in:function(t){var e,o,n,i,r,a,s,l,c,d,u,h,p,f,m,g,v=this.zoom,b=this.params.zoom,y=v.gesture,x=v.image;y.$slideEl||(y.$slideEl=this.clickedSlide?L(this.clickedSlide):this.slides.eq(this.activeIndex),y.$imageEl=y.$slideEl.find("img, svg, canvas"),y.$imageWrapEl=y.$imageEl.parent("."+b.containerClass)),y.$imageEl&&0!==y.$imageEl.length&&(y.$slideEl.addClass(""+b.zoomedSlideClass),o=void 0===x.touchesStart.x&&t?(e="touchend"===t.type?t.changedTouches[0].pageX:t.pageX,"touchend"===t.type?t.changedTouches[0].pageY:t.pageY):(e=x.touchesStart.x,x.touchesStart.y),v.scale=y.$imageWrapEl.attr("data-swiper-zoom")||b.maxRatio,v.currentScale=y.$imageWrapEl.attr("data-swiper-zoom")||b.maxRatio,t?(m=y.$slideEl[0].offsetWidth,g=y.$slideEl[0].offsetHeight,n=y.$slideEl.offset().left+m/2-e,i=y.$slideEl.offset().top+g/2-o,s=y.$imageEl[0].offsetWidth,l=y.$imageEl[0].offsetHeight,c=s*v.scale,d=l*v.scale,p=-(u=Math.min(m/2-c/2,0)),f=-(h=Math.min(g/2-d/2,0)),(r=n*v.scale)<u&&(r=u),p<r&&(r=p),(a=i*v.scale)<h&&(a=h),f<a&&(a=f)):a=r=0,y.$imageWrapEl.transition(300).transform("translate3d("+r+"px, "+a+"px,0)"),y.$imageEl.transition(300).transform("translate3d(0,0,0) scale("+v.scale+")"))},out:function(){var t=this.zoom,e=this.params.zoom,o=t.gesture;o.$slideEl||(o.$slideEl=this.clickedSlide?L(this.clickedSlide):this.slides.eq(this.activeIndex),o.$imageEl=o.$slideEl.find("img, svg, canvas"),o.$imageWrapEl=o.$imageEl.parent("."+e.containerClass)),o.$imageEl&&0!==o.$imageEl.length&&(t.scale=1,t.currentScale=1,o.$imageWrapEl.transition(300).transform("translate3d(0,0,0)"),o.$imageEl.transition(300).transform("translate3d(0,0,0) scale(1)"),o.$slideEl.removeClass(""+e.zoomedSlideClass),o.$slideEl=void 0)},enable:function(){var t=this,e=t.zoom;if(!e.enabled){e.enabled=!0;var o=!("touchstart"!==t.touchEvents.start||!et.passiveListener||!t.params.passiveListeners)&&{passive:!0,capture:!1};et.gestures?(t.$wrapperEl.on("gesturestart",".swiper-slide",e.onGestureStart,o),t.$wrapperEl.on("gesturechange",".swiper-slide",e.onGestureChange,o),t.$wrapperEl.on("gestureend",".swiper-slide",e.onGestureEnd,o)):"touchstart"===t.touchEvents.start&&(t.$wrapperEl.on(t.touchEvents.start,".swiper-slide",e.onGestureStart,o),t.$wrapperEl.on(t.touchEvents.move,".swiper-slide",e.onGestureChange,o),t.$wrapperEl.on(t.touchEvents.end,".swiper-slide",e.onGestureEnd,o)),t.$wrapperEl.on(t.touchEvents.move,"."+t.params.zoom.containerClass,e.onTouchMove)}},disable:function(){var t=this,e=t.zoom;if(e.enabled){t.zoom.enabled=!1;var o=!("touchstart"!==t.touchEvents.start||!et.passiveListener||!t.params.passiveListeners)&&{passive:!0,capture:!1};et.gestures?(t.$wrapperEl.off("gesturestart",".swiper-slide",e.onGestureStart,o),t.$wrapperEl.off("gesturechange",".swiper-slide",e.onGestureChange,o),t.$wrapperEl.off("gestureend",".swiper-slide",e.onGestureEnd,o)):"touchstart"===t.touchEvents.start&&(t.$wrapperEl.off(t.touchEvents.start,".swiper-slide",e.onGestureStart,o),t.$wrapperEl.off(t.touchEvents.move,".swiper-slide",e.onGestureChange,o),t.$wrapperEl.off(t.touchEvents.end,".swiper-slide",e.onGestureEnd,o)),t.$wrapperEl.off(t.touchEvents.move,"."+t.params.zoom.containerClass,e.onTouchMove)}}},O={loadInSlide:function(t,l){void 0===l&&(l=!0);var c=this,d=c.params.lazy;if(void 0!==t&&0!==c.slides.length){var u=c.virtual&&c.params.virtual.enabled?c.$wrapperEl.children("."+c.params.slideClass+'[data-swiper-slide-index="'+t+'"]'):c.slides.eq(t),e=u.find("."+d.elementClass+":not(."+d.loadedClass+"):not(."+d.loadingClass+")");!u.hasClass(d.elementClass)||u.hasClass(d.loadedClass)||u.hasClass(d.loadingClass)||(e=e.add(u[0])),0!==e.length&&e.each(function(t,e){var n=L(e);n.addClass(d.loadingClass);var i=n.attr("data-background"),r=n.attr("data-src"),a=n.attr("data-srcset"),s=n.attr("data-sizes");c.loadImage(n[0],r||i,a,s,!1,function(){if(null!=c&&c&&(!c||c.params)&&!c.destroyed){if(i?(n.css("background-image",'url("'+i+'")'),n.removeAttr("data-background")):(a&&(n.attr("srcset",a),n.removeAttr("data-srcset")),s&&(n.attr("sizes",s),n.removeAttr("data-sizes")),r&&(n.attr("src",r),n.removeAttr("data-src"))),n.addClass(d.loadedClass).removeClass(d.loadingClass),u.find("."+d.preloaderClass).remove(),c.params.loop&&l){var t=u.attr("data-swiper-slide-index");if(u.hasClass(c.params.slideDuplicateClass)){var e=c.$wrapperEl.children('[data-swiper-slide-index="'+t+'"]:not(.'+c.params.slideDuplicateClass+")");c.lazy.loadInSlide(e.index(),!1)}else{var o=c.$wrapperEl.children("."+c.params.slideDuplicateClass+'[data-swiper-slide-index="'+t+'"]');c.lazy.loadInSlide(o.index(),!1)}}c.emit("lazyImageReady",u[0],n[0])}}),c.emit("lazyImageLoad",u[0],n[0])})}},load:function(){var n=this,e=n.$wrapperEl,o=n.params,i=n.slides,t=n.activeIndex,r=n.virtual&&o.virtual.enabled,a=o.lazy,s=o.slidesPerView;function l(t){if(r){if(e.children("."+o.slideClass+'[data-swiper-slide-index="'+t+'"]').length)return!0}else if(i[t])return!0;return!1}function c(t){return r?L(t).attr("data-swiper-slide-index"):L(t).index()}if("auto"===s&&(s=0),n.lazy.initialImageLoaded||(n.lazy.initialImageLoaded=!0),n.params.watchSlidesVisibility)e.children("."+o.slideVisibleClass).each(function(t,e){var o=r?L(e).attr("data-swiper-slide-index"):L(e).index();n.lazy.loadInSlide(o)});else if(1<s)for(var d=t;d<t+s;d+=1)l(d)&&n.lazy.loadInSlide(d);else n.lazy.loadInSlide(t);if(a.loadPrevNext)if(1<s||a.loadPrevNextAmount&&1<a.loadPrevNextAmount){for(var u=a.loadPrevNextAmount,h=s,p=Math.min(t+h+Math.max(u,h),i.length),f=Math.max(t-Math.max(h,u),0),m=t+s;m<p;m+=1)l(m)&&n.lazy.loadInSlide(m);for(var g=f;g<t;g+=1)l(g)&&n.lazy.loadInSlide(g)}else{var v=e.children("."+o.slideNextClass);0<v.length&&n.lazy.loadInSlide(c(v));var b=e.children("."+o.slidePrevClass);0<b.length&&n.lazy.loadInSlide(c(b))}}},j={LinearSpline:function(t,e){var o,n,i,r,a;return this.x=t,this.y=e,this.lastIndex=t.length-1,this.interpolate=function(t){return t?(a=function(t,e){for(n=-1,o=t.length;1<o-n;)t[i=o+n>>1]<=e?n=i:o=i;return o}(this.x,t),r=a-1,(t-this.x[r])*(this.y[a]-this.y[r])/(this.x[a]-this.x[r])+this.y[r]):0},this},getInterpolateFunction:function(t){this.controller.spline||(this.controller.spline=this.params.loop?new j.LinearSpline(this.slidesGrid,t.slidesGrid):new j.LinearSpline(this.snapGrid,t.snapGrid))},setTranslate:function(t,e){var o,n,i=this,r=i.controller.control;function a(t){var e=i.rtlTranslate?-i.translate:i.translate;"slide"===i.params.controller.by&&(i.controller.getInterpolateFunction(t),n=-i.controller.spline.interpolate(-e)),n&&"container"!==i.params.controller.by||(o=(t.maxTranslate()-t.minTranslate())/(i.maxTranslate()-i.minTranslate()),n=(e-i.minTranslate())*o+t.minTranslate()),i.params.controller.inverse&&(n=t.maxTranslate()-n),t.updateProgress(n),t.setTranslate(n,i),t.updateActiveIndex(),t.updateSlidesClasses()}if(Array.isArray(r))for(var s=0;s<r.length;s+=1)r[s]!==e&&r[s]instanceof w&&a(r[s]);else r instanceof w&&e!==r&&a(r)},setTransition:function(e,t){var o,n=this,i=n.controller.control;function r(t){t.setTransition(e,n),0!==e&&(t.transitionStart(),t.params.autoHeight&&tt.nextTick(function(){t.updateAutoHeight()}),t.$wrapperEl.transitionEnd(function(){i&&(t.params.loop&&"slide"===n.params.controller.by&&t.loopFix(),t.transitionEnd())}))}if(Array.isArray(i))for(o=0;o<i.length;o+=1)i[o]!==t&&i[o]instanceof w&&r(i[o]);else i instanceof w&&t!==i&&r(i)}},q={makeElFocusable:function(t){return t.attr("tabIndex","0"),t},addElRole:function(t,e){return t.attr("role",e),t},addElLabel:function(t,e){return t.attr("aria-label",e),t},disableEl:function(t){return t.attr("aria-disabled",!0),t},enableEl:function(t){return t.attr("aria-disabled",!1),t},onEnterKey:function(t){var e=this,o=e.params.a11y;if(13===t.keyCode){var n=L(t.target);e.navigation&&e.navigation.$nextEl&&n.is(e.navigation.$nextEl)&&(e.isEnd&&!e.params.loop||e.slideNext(),e.isEnd?e.a11y.notify(o.lastSlideMessage):e.a11y.notify(o.nextSlideMessage)),e.navigation&&e.navigation.$prevEl&&n.is(e.navigation.$prevEl)&&(e.isBeginning&&!e.params.loop||e.slidePrev(),e.isBeginning?e.a11y.notify(o.firstSlideMessage):e.a11y.notify(o.prevSlideMessage)),e.pagination&&n.is("."+e.params.pagination.bulletClass)&&n[0].click()}},notify:function(t){var e=this.a11y.liveRegion;0!==e.length&&(e.html(""),e.html(t))},updateNavigation:function(){if(!this.params.loop){var t=this.navigation,e=t.$nextEl,o=t.$prevEl;o&&0<o.length&&(this.isBeginning?this.a11y.disableEl(o):this.a11y.enableEl(o)),e&&0<e.length&&(this.isEnd?this.a11y.disableEl(e):this.a11y.enableEl(e))}},updatePagination:function(){var n=this,i=n.params.a11y;n.pagination&&n.params.pagination.clickable&&n.pagination.bullets&&n.pagination.bullets.length&&n.pagination.bullets.each(function(t,e){var o=L(e);n.a11y.makeElFocusable(o),n.a11y.addElRole(o,"button"),n.a11y.addElLabel(o,i.paginationBulletMessage.replace(/{{index}}/,o.index()+1))})},init:function(){var t=this;t.$el.append(t.a11y.liveRegion);var e,o,n=t.params.a11y;t.navigation&&t.navigation.$nextEl&&(e=t.navigation.$nextEl),t.navigation&&t.navigation.$prevEl&&(o=t.navigation.$prevEl),e&&(t.a11y.makeElFocusable(e),t.a11y.addElRole(e,"button"),t.a11y.addElLabel(e,n.nextSlideMessage),e.on("keydown",t.a11y.onEnterKey)),o&&(t.a11y.makeElFocusable(o),t.a11y.addElRole(o,"button"),t.a11y.addElLabel(o,n.prevSlideMessage),o.on("keydown",t.a11y.onEnterKey)),t.pagination&&t.params.pagination.clickable&&t.pagination.bullets&&t.pagination.bullets.length&&t.pagination.$el.on("keydown","."+t.params.pagination.bulletClass,t.a11y.onEnterKey)},destroy:function(){var t,e,o=this;o.a11y.liveRegion&&0<o.a11y.liveRegion.length&&o.a11y.liveRegion.remove(),o.navigation&&o.navigation.$nextEl&&(t=o.navigation.$nextEl),o.navigation&&o.navigation.$prevEl&&(e=o.navigation.$prevEl),t&&t.off("keydown",o.a11y.onEnterKey),e&&e.off("keydown",o.a11y.onEnterKey),o.pagination&&o.params.pagination.clickable&&o.pagination.bullets&&o.pagination.bullets.length&&o.pagination.$el.off("keydown","."+o.params.pagination.bulletClass,o.a11y.onEnterKey)}},U={init:function(){if(this.params.history){if(!J.history||!J.history.pushState)return this.params.history.enabled=!1,void(this.params.hashNavigation.enabled=!0);var t=this.history;t.initialized=!0,t.paths=U.getPathValues(),(t.paths.key||t.paths.value)&&(t.scrollToSlide(0,t.paths.value,this.params.runCallbacksOnInit),this.params.history.replaceState||J.addEventListener("popstate",this.history.setHistoryPopState))}},destroy:function(){this.params.history.replaceState||J.removeEventListener("popstate",this.history.setHistoryPopState)},setHistoryPopState:function(){this.history.paths=U.getPathValues(),this.history.scrollToSlide(this.params.speed,this.history.paths.value,!1)},getPathValues:function(){var t=J.location.pathname.slice(1).split("/").filter(function(t){return""!==t}),e=t.length;return{key:t[e-2],value:t[e-1]}},setHistory:function(t,e){if(this.history.initialized&&this.params.history.enabled){var o=this.slides.eq(e),n=U.slugify(o.attr("data-history"));J.location.pathname.includes(t)||(n=t+"/"+n);var i=J.history.state;i&&i.value===n||(this.params.history.replaceState?J.history.replaceState({value:n},null,n):J.history.pushState({value:n},null,n))}},slugify:function(t){return t.toString().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,"")},scrollToSlide:function(t,e,o){if(e)for(var n=0,i=this.slides.length;n<i;n+=1){var r=this.slides.eq(n);if(U.slugify(r.attr("data-history"))===e&&!r.hasClass(this.params.slideDuplicateClass)){var a=r.index();this.slideTo(a,t,o)}}else this.slideTo(0,t,o)}},W={onHashCange:function(){var t=m.location.hash.replace("#","");if(t!==this.slides.eq(this.activeIndex).attr("data-hash")){var e=this.$wrapperEl.children("."+this.params.slideClass+'[data-hash="'+t+'"]').index();if(void 0===e)return;this.slideTo(e)}},setHash:function(){if(this.hashNavigation.initialized&&this.params.hashNavigation.enabled)if(this.params.hashNavigation.replaceState&&J.history&&J.history.replaceState)J.history.replaceState(null,null,"#"+this.slides.eq(this.activeIndex).attr("data-hash")||"");else{var t=this.slides.eq(this.activeIndex),e=t.attr("data-hash")||t.attr("data-history");m.location.hash=e||""}},init:function(){var t=this;if(!(!t.params.hashNavigation.enabled||t.params.history&&t.params.history.enabled)){t.hashNavigation.initialized=!0;var e=m.location.hash.replace("#","");if(e)for(var o=0,n=t.slides.length;o<n;o+=1){var i=t.slides.eq(o);if((i.attr("data-hash")||i.attr("data-history"))===e&&!i.hasClass(t.params.slideDuplicateClass)){var r=i.index();t.slideTo(r,0,t.params.runCallbacksOnInit,!0)}}t.params.hashNavigation.watchState&&L(J).on("hashchange",t.hashNavigation.onHashCange)}},destroy:function(){this.params.hashNavigation.watchState&&L(J).off("hashchange",this.hashNavigation.onHashCange)}},V={run:function(){var t=this,e=t.slides.eq(t.activeIndex),o=t.params.autoplay.delay;e.attr("data-swiper-autoplay")&&(o=e.attr("data-swiper-autoplay")||t.params.autoplay.delay),t.autoplay.timeout=tt.nextTick(function(){t.params.autoplay.reverseDirection?t.params.loop?(t.loopFix(),t.slidePrev(t.params.speed,!0,!0),t.emit("autoplay")):t.isBeginning?t.params.autoplay.stopOnLastSlide?t.autoplay.stop():(t.slideTo(t.slides.length-1,t.params.speed,!0,!0),t.emit("autoplay")):(t.slidePrev(t.params.speed,!0,!0),t.emit("autoplay")):t.params.loop?(t.loopFix(),t.slideNext(t.params.speed,!0,!0),t.emit("autoplay")):t.isEnd?t.params.autoplay.stopOnLastSlide?t.autoplay.stop():(t.slideTo(0,t.params.speed,!0,!0),t.emit("autoplay")):(t.slideNext(t.params.speed,!0,!0),t.emit("autoplay"))},o)},start:function(){return void 0===this.autoplay.timeout&&!this.autoplay.running&&(this.autoplay.running=!0,this.emit("autoplayStart"),this.autoplay.run(),!0)},stop:function(){return!!this.autoplay.running&&void 0!==this.autoplay.timeout&&(this.autoplay.timeout&&(clearTimeout(this.autoplay.timeout),this.autoplay.timeout=void 0),this.autoplay.running=!1,this.emit("autoplayStop"),!0)},pause:function(t){var e=this;e.autoplay.running&&(e.autoplay.paused||(e.autoplay.timeout&&clearTimeout(e.autoplay.timeout),e.autoplay.paused=!0,0!==t&&e.params.autoplay.waitForTransition?(e.$wrapperEl[0].addEventListener("transitionend",e.autoplay.onTransitionEnd),e.$wrapperEl[0].addEventListener("webkitTransitionEnd",e.autoplay.onTransitionEnd)):(e.autoplay.paused=!1,e.autoplay.run())))}},G={setTranslate:function(){for(var t=this.slides,e=0;e<t.length;e+=1){var o=this.slides.eq(e),n=-o[0].swiperSlideOffset;this.params.virtualTranslate||(n-=this.translate);var i=0;this.isHorizontal()||(i=n,n=0);var r=this.params.fadeEffect.crossFade?Math.max(1-Math.abs(o[0].progress),0):1+Math.min(Math.max(o[0].progress,-1),0);o.css({opacity:r}).transform("translate3d("+n+"px, "+i+"px, 0px)")}},setTransition:function(t){var o=this,e=o.slides,n=o.$wrapperEl;if(e.transition(t),o.params.virtualTranslate&&0!==t){var i=!1;e.transitionEnd(function(){if(!i&&o&&!o.destroyed){i=!0,o.animating=!1;for(var t=["webkitTransitionEnd","transitionend"],e=0;e<t.length;e+=1)n.trigger(t[e])}})}}},K={setTranslate:function(){var t,e=this,o=e.$el,n=e.$wrapperEl,i=e.slides,r=e.width,a=e.height,s=e.rtlTranslate,l=e.size,c=e.params.cubeEffect,d=e.isHorizontal(),u=e.virtual&&e.params.virtual.enabled,h=0;c.shadow&&(d?(0===(t=n.find(".swiper-cube-shadow")).length&&(t=L('<div class="swiper-cube-shadow"></div>'),n.append(t)),t.css({height:r+"px"})):0===(t=o.find(".swiper-cube-shadow")).length&&(t=L('<div class="swiper-cube-shadow"></div>'),o.append(t)));for(var p=0;p<i.length;p+=1){var f=i.eq(p),m=p;u&&(m=parseInt(f.attr("data-swiper-slide-index"),10));var g=90*m,v=Math.floor(g/360);s&&(g=-g,v=Math.floor(-g/360));var b=Math.max(Math.min(f[0].progress,1),-1),y=0,x=0,w=0;m%4==0?(y=4*-v*l,w=0):(m-1)%4==0?(y=0,w=4*-v*l):(m-2)%4==0?(y=l+4*v*l,w=l):(m-3)%4==0&&(y=-l,w=3*l+4*l*v),s&&(y=-y),d||(x=y,y=0);var C="rotateX("+(d?0:-g)+"deg) rotateY("+(d?g:0)+"deg) translate3d("+y+"px, "+x+"px, "+w+"px)";if(b<=1&&-1<b&&(h=90*m+90*b,s&&(h=90*-m-90*b)),f.transform(C),c.slideShadows){var k=d?f.find(".swiper-slide-shadow-left"):f.find(".swiper-slide-shadow-top"),S=d?f.find(".swiper-slide-shadow-right"):f.find(".swiper-slide-shadow-bottom");0===k.length&&(k=L('<div class="swiper-slide-shadow-'+(d?"left":"top")+'"></div>'),f.append(k)),0===S.length&&(S=L('<div class="swiper-slide-shadow-'+(d?"right":"bottom")+'"></div>'),f.append(S)),k.length&&(k[0].style.opacity=Math.max(-b,0)),S.length&&(S[0].style.opacity=Math.max(b,0))}}if(n.css({"-webkit-transform-origin":"50% 50% -"+l/2+"px","-moz-transform-origin":"50% 50% -"+l/2+"px","-ms-transform-origin":"50% 50% -"+l/2+"px","transform-origin":"50% 50% -"+l/2+"px"}),c.shadow)if(d)t.transform("translate3d(0px, "+(r/2+c.shadowOffset)+"px, "+-r/2+"px) rotateX(90deg) rotateZ(0deg) scale("+c.shadowScale+")");else{var T=Math.abs(h)-90*Math.floor(Math.abs(h)/90),E=1.5-(Math.sin(2*T*Math.PI/360)/2+Math.cos(2*T*Math.PI/360)/2),$=c.shadowScale,I=c.shadowScale/E,P=c.shadowOffset;t.transform("scale3d("+$+", 1, "+I+") translate3d(0px, "+(a/2+P)+"px, "+-a/2/I+"px) rotateX(-90deg)")}var N=A.isSafari||A.isUiWebView?-l/2:0;n.transform("translate3d(0px,0,"+N+"px) rotateX("+(e.isHorizontal()?0:h)+"deg) rotateY("+(e.isHorizontal()?-h:0)+"deg)")},setTransition:function(t){var e=this.$el;this.slides.transition(t).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(t),this.params.cubeEffect.shadow&&!this.isHorizontal()&&e.find(".swiper-cube-shadow").transition(t)}},_={setTranslate:function(){for(var t=this.slides,e=this.rtlTranslate,o=0;o<t.length;o+=1){var n=t.eq(o),i=n[0].progress;this.params.flipEffect.limitRotation&&(i=Math.max(Math.min(n[0].progress,1),-1));var r=-180*i,a=0,s=-n[0].swiperSlideOffset,l=0;if(this.isHorizontal()?e&&(r=-r):(l=s,a=-r,r=s=0),n[0].style.zIndex=-Math.abs(Math.round(i))+t.length,this.params.flipEffect.slideShadows){var c=this.isHorizontal()?n.find(".swiper-slide-shadow-left"):n.find(".swiper-slide-shadow-top"),d=this.isHorizontal()?n.find(".swiper-slide-shadow-right"):n.find(".swiper-slide-shadow-bottom");0===c.length&&(c=L('<div class="swiper-slide-shadow-'+(this.isHorizontal()?"left":"top")+'"></div>'),n.append(c)),0===d.length&&(d=L('<div class="swiper-slide-shadow-'+(this.isHorizontal()?"right":"bottom")+'"></div>'),n.append(d)),c.length&&(c[0].style.opacity=Math.max(-i,0)),d.length&&(d[0].style.opacity=Math.max(i,0))}n.transform("translate3d("+s+"px, "+l+"px, 0px) rotateX("+a+"deg) rotateY("+r+"deg)")}},setTransition:function(t){var o=this,e=o.slides,n=o.activeIndex,i=o.$wrapperEl;if(e.transition(t).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(t),o.params.virtualTranslate&&0!==t){var r=!1;e.eq(n).transitionEnd(function(){if(!r&&o&&!o.destroyed){r=!0,o.animating=!1;for(var t=["webkitTransitionEnd","transitionend"],e=0;e<t.length;e+=1)i.trigger(t[e])}})}}},Y={setTranslate:function(){for(var t=this.width,e=this.height,o=this.slides,n=this.$wrapperEl,i=this.slidesSizesGrid,r=this.params.coverflowEffect,a=this.isHorizontal(),s=this.translate,l=a?t/2-s:e/2-s,c=a?r.rotate:-r.rotate,d=r.depth,u=0,h=o.length;u<h;u+=1){var p=o.eq(u),f=i[u],m=(l-p[0].swiperSlideOffset-f/2)/f*r.modifier,g=a?c*m:0,v=a?0:c*m,b=-d*Math.abs(m),y=a?0:r.stretch*m,x=a?r.stretch*m:0;Math.abs(x)<.001&&(x=0),Math.abs(y)<.001&&(y=0),Math.abs(b)<.001&&(b=0),Math.abs(g)<.001&&(g=0),Math.abs(v)<.001&&(v=0);var w="translate3d("+x+"px,"+y+"px,"+b+"px)  rotateX("+v+"deg) rotateY("+g+"deg)";if(p.transform(w),p[0].style.zIndex=1-Math.abs(Math.round(m)),r.slideShadows){var C=a?p.find(".swiper-slide-shadow-left"):p.find(".swiper-slide-shadow-top"),k=a?p.find(".swiper-slide-shadow-right"):p.find(".swiper-slide-shadow-bottom");0===C.length&&(C=L('<div class="swiper-slide-shadow-'+(a?"left":"top")+'"></div>'),p.append(C)),0===k.length&&(k=L('<div class="swiper-slide-shadow-'+(a?"right":"bottom")+'"></div>'),p.append(k)),C.length&&(C[0].style.opacity=0<m?m:0),k.length&&(k[0].style.opacity=0<-m?-m:0)}}(et.pointerEvents||et.prefixedPointerEvents)&&(n[0].style.perspectiveOrigin=l+"px 50%")},setTransition:function(t){this.slides.transition(t).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(t)}},X={init:function(){var t=this,e=t.params.thumbs,o=t.constructor;e.swiper instanceof o?(t.thumbs.swiper=e.swiper,tt.extend(t.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),tt.extend(t.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1})):tt.isObject(e.swiper)&&(t.thumbs.swiper=new o(tt.extend({},e.swiper,{watchSlidesVisibility:!0,watchSlidesProgress:!0,slideToClickedSlide:!1})),t.thumbs.swiperCreated=!0),t.thumbs.swiper.$el.addClass(t.params.thumbs.thumbsContainerClass),t.thumbs.swiper.on("tap",t.thumbs.onThumbClick)},onThumbClick:function(){var t=this,e=t.thumbs.swiper;if(e){var o=e.clickedIndex,n=e.clickedSlide;if(!(n&&L(n).hasClass(t.params.thumbs.slideThumbActiveClass)||null==o)){var i;if(i=e.params.loop?parseInt(L(e.clickedSlide).attr("data-swiper-slide-index"),10):o,t.params.loop){var r=t.activeIndex;t.slides.eq(r).hasClass(t.params.slideDuplicateClass)&&(t.loopFix(),t._clientLeft=t.$wrapperEl[0].clientLeft,r=t.activeIndex);var a=t.slides.eq(r).prevAll('[data-swiper-slide-index="'+i+'"]').eq(0).index(),s=t.slides.eq(r).nextAll('[data-swiper-slide-index="'+i+'"]').eq(0).index();i=void 0===a?s:void 0===s?a:s-r<r-a?s:a}t.slideTo(i)}}},update:function(t){var e=this,o=e.thumbs.swiper;if(o){var n="auto"===o.params.slidesPerView?o.slidesPerViewDynamic():o.params.slidesPerView;if(e.realIndex!==o.realIndex){var i,r=o.activeIndex;if(o.params.loop){o.slides.eq(r).hasClass(o.params.slideDuplicateClass)&&(o.loopFix(),o._clientLeft=o.$wrapperEl[0].clientLeft,r=o.activeIndex);var a=o.slides.eq(r).prevAll('[data-swiper-slide-index="'+e.realIndex+'"]').eq(0).index(),s=o.slides.eq(r).nextAll('[data-swiper-slide-index="'+e.realIndex+'"]').eq(0).index();i=void 0===a?s:void 0===s?a:s-r==r-a?r:s-r<r-a?s:a}else i=e.realIndex;o.visibleSlidesIndexes.indexOf(i)<0&&(o.params.centeredSlides?i=r<i?i-Math.floor(n/2)+1:i+Math.floor(n/2)-1:r<i&&(i=i-n+1),o.slideTo(i,t?0:void 0))}var l=1,c=e.params.thumbs.slideThumbActiveClass;if(1<e.params.slidesPerView&&!e.params.centeredSlides&&(l=e.params.slidesPerView),o.slides.removeClass(c),o.params.loop)for(var d=0;d<l;d+=1)o.$wrapperEl.children('[data-swiper-slide-index="'+(e.realIndex+d)+'"]').addClass(c);else for(var u=0;u<l;u+=1)o.slides.eq(e.realIndex+u).addClass(c)}}},Z=[C,k,S,T,$,P,M,{name:"mousewheel",params:{mousewheel:{enabled:!1,releaseOnEdges:!1,invert:!1,forceToAxis:!1,sensitivity:1,eventsTarged:"container"}},create:function(){tt.extend(this,{mousewheel:{enabled:!1,enable:R.enable.bind(this),disable:R.disable.bind(this),handle:R.handle.bind(this),handleMouseEnter:R.handleMouseEnter.bind(this),handleMouseLeave:R.handleMouseLeave.bind(this),lastScrollTime:tt.now()}})},on:{init:function(){this.params.mousewheel.enabled&&this.mousewheel.enable()},destroy:function(){this.mousewheel.enabled&&this.mousewheel.disable()}}},{name:"navigation",params:{navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock"}},create:function(){tt.extend(this,{navigation:{init:D.init.bind(this),update:D.update.bind(this),destroy:D.destroy.bind(this),onNextClick:D.onNextClick.bind(this),onPrevClick:D.onPrevClick.bind(this)}})},on:{init:function(){this.navigation.init(),this.navigation.update()},toEdge:function(){this.navigation.update()},fromEdge:function(){this.navigation.update()},destroy:function(){this.navigation.destroy()},click:function(t){var e,o=this,n=o.navigation,i=n.$nextEl,r=n.$prevEl;!o.params.navigation.hideOnClick||L(t.target).is(r)||L(t.target).is(i)||(i?e=i.hasClass(o.params.navigation.hiddenClass):r&&(e=r.hasClass(o.params.navigation.hiddenClass)),!0===e?o.emit("navigationShow",o):o.emit("navigationHide",o),i&&i.toggleClass(o.params.navigation.hiddenClass),r&&r.toggleClass(o.params.navigation.hiddenClass))}}},{name:"pagination",params:{pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:function(t){return t},formatFractionTotal:function(t){return t},bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active",modifierClass:"swiper-pagination-",currentClass:"swiper-pagination-current",totalClass:"swiper-pagination-total",hiddenClass:"swiper-pagination-hidden",progressbarFillClass:"swiper-pagination-progressbar-fill",progressbarOppositeClass:"swiper-pagination-progressbar-opposite",clickableClass:"swiper-pagination-clickable",lockClass:"swiper-pagination-lock"}},create:function(){tt.extend(this,{pagination:{init:F.init.bind(this),render:F.render.bind(this),update:F.update.bind(this),destroy:F.destroy.bind(this),dynamicBulletIndex:0}})},on:{init:function(){this.pagination.init(),this.pagination.render(),this.pagination.update()},activeIndexChange:function(){this.params.loop?this.pagination.update():void 0===this.snapIndex&&this.pagination.update()},snapIndexChange:function(){this.params.loop||this.pagination.update()},slidesLengthChange:function(){this.params.loop&&(this.pagination.render(),this.pagination.update())},snapGridLengthChange:function(){this.params.loop||(this.pagination.render(),this.pagination.update())},destroy:function(){this.pagination.destroy()},click:function(t){var e=this;e.params.pagination.el&&e.params.pagination.hideOnClick&&0<e.pagination.$el.length&&!L(t.target).hasClass(e.params.pagination.bulletClass)&&(!0===e.pagination.$el.hasClass(e.params.pagination.hiddenClass)?e.emit("paginationShow",e):e.emit("paginationHide",e),e.pagination.$el.toggleClass(e.params.pagination.hiddenClass))}}},{name:"scrollbar",params:{scrollbar:{el:null,dragSize:"auto",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:"swiper-scrollbar-lock",dragClass:"swiper-scrollbar-drag"}},create:function(){var t=this;tt.extend(t,{scrollbar:{init:H.init.bind(t),destroy:H.destroy.bind(t),updateSize:H.updateSize.bind(t),setTranslate:H.setTranslate.bind(t),setTransition:H.setTransition.bind(t),enableDraggable:H.enableDraggable.bind(t),disableDraggable:H.disableDraggable.bind(t),setDragPosition:H.setDragPosition.bind(t),onDragStart:H.onDragStart.bind(t),onDragMove:H.onDragMove.bind(t),onDragEnd:H.onDragEnd.bind(t),isTouched:!1,timeout:null,dragTimeout:null}})},on:{init:function(){this.scrollbar.init(),this.scrollbar.updateSize(),this.scrollbar.setTranslate()},update:function(){this.scrollbar.updateSize()},resize:function(){this.scrollbar.updateSize()},observerUpdate:function(){this.scrollbar.updateSize()},setTranslate:function(){this.scrollbar.setTranslate()},setTransition:function(t){this.scrollbar.setTransition(t)},destroy:function(){this.scrollbar.destroy()}}},{name:"parallax",params:{parallax:{enabled:!1}},create:function(){tt.extend(this,{parallax:{setTransform:z.setTransform.bind(this),setTranslate:z.setTranslate.bind(this),setTransition:z.setTransition.bind(this)}})},on:{beforeInit:function(){this.params.parallax.enabled&&(this.params.watchSlidesProgress=!0,this.originalParams.watchSlidesProgress=!0)},init:function(){this.params.parallax.enabled&&this.parallax.setTranslate()},setTranslate:function(){this.params.parallax.enabled&&this.parallax.setTranslate()},setTransition:function(t){this.params.parallax.enabled&&this.parallax.setTransition(t)}}},{name:"zoom",params:{zoom:{enabled:!1,maxRatio:3,minRatio:1,toggle:!0,containerClass:"swiper-zoom-container",zoomedSlideClass:"swiper-slide-zoomed"}},create:function(){var n=this,e={enabled:!1,scale:1,currentScale:1,isScaling:!1,gesture:{$slideEl:void 0,slideWidth:void 0,slideHeight:void 0,$imageEl:void 0,$imageWrapEl:void 0,maxRatio:3},image:{isTouched:void 0,isMoved:void 0,currentX:void 0,currentY:void 0,minX:void 0,minY:void 0,maxX:void 0,maxY:void 0,width:void 0,height:void 0,startX:void 0,startY:void 0,touchesStart:{},touchesCurrent:{}},velocity:{x:void 0,y:void 0,prevPositionX:void 0,prevPositionY:void 0,prevTime:void 0}};"onGestureStart onGestureChange onGestureEnd onTouchStart onTouchMove onTouchEnd onTransitionEnd toggle enable disable in out".split(" ").forEach(function(t){e[t]=B[t].bind(n)}),tt.extend(n,{zoom:e});var i=1;Object.defineProperty(n.zoom,"scale",{get:function(){return i},set:function(t){if(i!==t){var e=n.zoom.gesture.$imageEl?n.zoom.gesture.$imageEl[0]:void 0,o=n.zoom.gesture.$slideEl?n.zoom.gesture.$slideEl[0]:void 0;n.emit("zoomChange",t,e,o)}i=t}})},on:{init:function(){this.params.zoom.enabled&&this.zoom.enable()},destroy:function(){this.zoom.disable()},touchStart:function(t){this.zoom.enabled&&this.zoom.onTouchStart(t)},touchEnd:function(t){this.zoom.enabled&&this.zoom.onTouchEnd(t)},doubleTap:function(t){this.params.zoom.enabled&&this.zoom.enabled&&this.params.zoom.toggle&&this.zoom.toggle(t)},transitionEnd:function(){this.zoom.enabled&&this.params.zoom.enabled&&this.zoom.onTransitionEnd()}}},{name:"lazy",params:{lazy:{enabled:!1,loadPrevNext:!1,loadPrevNextAmount:1,loadOnTransitionStart:!1,elementClass:"swiper-lazy",loadingClass:"swiper-lazy-loading",loadedClass:"swiper-lazy-loaded",preloaderClass:"swiper-lazy-preloader"}},create:function(){tt.extend(this,{lazy:{initialImageLoaded:!1,load:O.load.bind(this),loadInSlide:O.loadInSlide.bind(this)}})},on:{beforeInit:function(){this.params.lazy.enabled&&this.params.preloadImages&&(this.params.preloadImages=!1)},init:function(){this.params.lazy.enabled&&!this.params.loop&&0===this.params.initialSlide&&this.lazy.load()},scroll:function(){this.params.freeMode&&!this.params.freeModeSticky&&this.lazy.load()},resize:function(){this.params.lazy.enabled&&this.lazy.load()},scrollbarDragMove:function(){this.params.lazy.enabled&&this.lazy.load()},transitionStart:function(){this.params.lazy.enabled&&(this.params.lazy.loadOnTransitionStart||!this.params.lazy.loadOnTransitionStart&&!this.lazy.initialImageLoaded)&&this.lazy.load()},transitionEnd:function(){this.params.lazy.enabled&&!this.params.lazy.loadOnTransitionStart&&this.lazy.load()}}},{name:"controller",params:{controller:{control:void 0,inverse:!1,by:"slide"}},create:function(){tt.extend(this,{controller:{control:this.params.controller.control,getInterpolateFunction:j.getInterpolateFunction.bind(this),setTranslate:j.setTranslate.bind(this),setTransition:j.setTransition.bind(this)}})},on:{update:function(){this.controller.control&&this.controller.spline&&(this.controller.spline=void 0,delete this.controller.spline)},resize:function(){this.controller.control&&this.controller.spline&&(this.controller.spline=void 0,delete this.controller.spline)},observerUpdate:function(){this.controller.control&&this.controller.spline&&(this.controller.spline=void 0,delete this.controller.spline)},setTranslate:function(t,e){this.controller.control&&this.controller.setTranslate(t,e)},setTransition:function(t,e){this.controller.control&&this.controller.setTransition(t,e)}}},{name:"a11y",params:{a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}"}},create:function(){var e=this;tt.extend(e,{a11y:{liveRegion:L('<span class="'+e.params.a11y.notificationClass+'" aria-live="assertive" aria-atomic="true"></span>')}}),Object.keys(q).forEach(function(t){e.a11y[t]=q[t].bind(e)})},on:{init:function(){this.params.a11y.enabled&&(this.a11y.init(),this.a11y.updateNavigation())},toEdge:function(){this.params.a11y.enabled&&this.a11y.updateNavigation()},fromEdge:function(){this.params.a11y.enabled&&this.a11y.updateNavigation()},paginationUpdate:function(){this.params.a11y.enabled&&this.a11y.updatePagination()},destroy:function(){this.params.a11y.enabled&&this.a11y.destroy()}}},{name:"history",params:{history:{enabled:!1,replaceState:!1,key:"slides"}},create:function(){tt.extend(this,{history:{init:U.init.bind(this),setHistory:U.setHistory.bind(this),setHistoryPopState:U.setHistoryPopState.bind(this),scrollToSlide:U.scrollToSlide.bind(this),destroy:U.destroy.bind(this)}})},on:{init:function(){this.params.history.enabled&&this.history.init()},destroy:function(){this.params.history.enabled&&this.history.destroy()},transitionEnd:function(){this.history.initialized&&this.history.setHistory(this.params.history.key,this.activeIndex)}}},{name:"hash-navigation",params:{hashNavigation:{enabled:!1,replaceState:!1,watchState:!1}},create:function(){tt.extend(this,{hashNavigation:{initialized:!1,init:W.init.bind(this),destroy:W.destroy.bind(this),setHash:W.setHash.bind(this),onHashCange:W.onHashCange.bind(this)}})},on:{init:function(){this.params.hashNavigation.enabled&&this.hashNavigation.init()},destroy:function(){this.params.hashNavigation.enabled&&this.hashNavigation.destroy()},transitionEnd:function(){this.hashNavigation.initialized&&this.hashNavigation.setHash()}}},{name:"autoplay",params:{autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!0,stopOnLastSlide:!1,reverseDirection:!1}},create:function(){var e=this;tt.extend(e,{autoplay:{running:!1,paused:!1,run:V.run.bind(e),start:V.start.bind(e),stop:V.stop.bind(e),pause:V.pause.bind(e),onTransitionEnd:function(t){e&&!e.destroyed&&e.$wrapperEl&&t.target===this&&(e.$wrapperEl[0].removeEventListener("transitionend",e.autoplay.onTransitionEnd),e.$wrapperEl[0].removeEventListener("webkitTransitionEnd",e.autoplay.onTransitionEnd),e.autoplay.paused=!1,e.autoplay.running?e.autoplay.run():e.autoplay.stop())}}})},on:{init:function(){this.params.autoplay.enabled&&this.autoplay.start()},beforeTransitionStart:function(t,e){this.autoplay.running&&(e||!this.params.autoplay.disableOnInteraction?this.autoplay.pause(t):this.autoplay.stop())},sliderFirstMove:function(){this.autoplay.running&&(this.params.autoplay.disableOnInteraction?this.autoplay.stop():this.autoplay.pause())},destroy:function(){this.autoplay.running&&this.autoplay.stop()}}},{name:"effect-fade",params:{fadeEffect:{crossFade:!1}},create:function(){tt.extend(this,{fadeEffect:{setTranslate:G.setTranslate.bind(this),setTransition:G.setTransition.bind(this)}})},on:{beforeInit:function(){if("fade"===this.params.effect){this.classNames.push(this.params.containerModifierClass+"fade");var t={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!0};tt.extend(this.params,t),tt.extend(this.originalParams,t)}},setTranslate:function(){"fade"===this.params.effect&&this.fadeEffect.setTranslate()},setTransition:function(t){"fade"===this.params.effect&&this.fadeEffect.setTransition(t)}}},{name:"effect-cube",params:{cubeEffect:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94}},create:function(){tt.extend(this,{cubeEffect:{setTranslate:K.setTranslate.bind(this),setTransition:K.setTransition.bind(this)}})},on:{beforeInit:function(){if("cube"===this.params.effect){this.classNames.push(this.params.containerModifierClass+"cube"),this.classNames.push(this.params.containerModifierClass+"3d");var t={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0,resistanceRatio:0,spaceBetween:0,centeredSlides:!1,virtualTranslate:!0};tt.extend(this.params,t),tt.extend(this.originalParams,t)}},setTranslate:function(){"cube"===this.params.effect&&this.cubeEffect.setTranslate()},setTransition:function(t){"cube"===this.params.effect&&this.cubeEffect.setTransition(t)}}},{name:"effect-flip",params:{flipEffect:{slideShadows:!0,limitRotation:!0}},create:function(){tt.extend(this,{flipEffect:{setTranslate:_.setTranslate.bind(this),setTransition:_.setTransition.bind(this)}})},on:{beforeInit:function(){if("flip"===this.params.effect){this.classNames.push(this.params.containerModifierClass+"flip"),this.classNames.push(this.params.containerModifierClass+"3d");var t={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!0};tt.extend(this.params,t),tt.extend(this.originalParams,t)}},setTranslate:function(){"flip"===this.params.effect&&this.flipEffect.setTranslate()},setTransition:function(t){"flip"===this.params.effect&&this.flipEffect.setTransition(t)}}},{name:"effect-coverflow",params:{coverflowEffect:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!0}},create:function(){tt.extend(this,{coverflowEffect:{setTranslate:Y.setTranslate.bind(this),setTransition:Y.setTransition.bind(this)}})},on:{beforeInit:function(){"coverflow"===this.params.effect&&(this.classNames.push(this.params.containerModifierClass+"coverflow"),this.classNames.push(this.params.containerModifierClass+"3d"),this.params.watchSlidesProgress=!0,this.originalParams.watchSlidesProgress=!0)},setTranslate:function(){"coverflow"===this.params.effect&&this.coverflowEffect.setTranslate()},setTransition:function(t){"coverflow"===this.params.effect&&this.coverflowEffect.setTransition(t)}}},{name:"thumbs",params:{thumbs:{swiper:null,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-container-thumbs"}},create:function(){tt.extend(this,{thumbs:{swiper:null,init:X.init.bind(this),update:X.update.bind(this),onThumbClick:X.onThumbClick.bind(this)}})},on:{beforeInit:function(){var t=this.params.thumbs;t&&t.swiper&&(this.thumbs.init(),this.thumbs.update(!0))},slideChange:function(){this.thumbs.swiper&&this.thumbs.update()},update:function(){this.thumbs.swiper&&this.thumbs.update()},resize:function(){this.thumbs.swiper&&this.thumbs.update()},observerUpdate:function(){this.thumbs.swiper&&this.thumbs.update()},setTransition:function(t){var e=this.thumbs.swiper;e&&e.setTransition(t)},beforeDestroy:function(){var t=this.thumbs.swiper;t&&this.thumbs.swiperCreated&&t&&t.destroy()}}}];return void 0===w.use&&(w.use=w.Class.use,w.installModule=w.Class.installModule),w.use(Z),w}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],e):e((t=t||self).jQuery)}(this,function(w){"use strict";w=w&&w.hasOwnProperty("default")?w.default:w;var i=(t.prototype.render=function(t){var o=w(this.markup);if(this.options&&this.options.contents&&o.html(this.options.contents),this.options&&this.options.className&&o.addClass(this.options.className),this.options&&this.options.data&&w.each(this.options.data,function(t,e){o.attr("data-"+t,e)}),this.options&&this.options.click&&o.on("click",this.options.click),this.children){var e=o.find(".note-children-container");this.children.forEach(function(t){t.render(e.length?e:o)})}return this.callback&&this.callback(o,this.options),this.options&&this.options.callback&&this.options.callback(o),t&&t.append(o),o},t);function t(t,e,o,n){this.markup=t,this.children=e,this.options=o,this.callback=n}var e=function(o,n){return function(){var t="object"==typeof arguments[1]?arguments[1]:arguments[0],e=Array.isArray(arguments[0])?arguments[0]:[];return t&&t.children&&(e=t.children),new i(o,e,t,n)}},p=(o.prototype.show=function(){var t=this.$node,e=t.offset(),o=this.$tooltip,n=this.options.title||t.attr("title")||t.data("title"),i=this.options.placement||t.data("placement");o.addClass(i),o.addClass("in"),o.find(".note-tooltip-content").text(n),o.appendTo(this.options.target);var r=t.outerWidth(),a=t.outerHeight(),s=o.outerWidth(),l=o.outerHeight();"bottom"===i?o.css({top:e.top+a,left:e.left+(r/2-s/2)}):"top"===i?o.css({top:e.top-l,left:e.left+(r/2-s/2)}):"left"===i?o.css({top:e.top+(a/2-l/2),left:e.left-s}):"right"===i&&o.css({top:e.top+(a/2-l/2),left:e.left+r})},o.prototype.hide=function(){this.$tooltip.removeClass("in"),this.$tooltip.remove()},o.prototype.toggle=function(){this.$tooltip.hasClass("in")?this.hide():this.show()},o);function o(e,t){if(this.$node=e,this.options=$.extend({},{title:"",target:t.container,trigger:"hover focus",placement:"bottom"},t),this.$tooltip=$(['<div class="note-tooltip in">','  <div class="note-tooltip-arrow"/>','  <div class="note-tooltip-content"/>',"</div>"].join("")),"manual"!==this.options.trigger){var o=this.show.bind(this),n=this.hide.bind(this),i=this.toggle.bind(this);this.options.trigger.split(" ").forEach(function(t){"hover"===t?(e.off("mouseenter mouseleave"),e.on("mouseenter",o).on("mouseleave",n)):"click"===t?e.on("click",i):"focus"===t&&e.on("focus",o).on("blur",n)})}}var n=(r.prototype.setEvent=function(){var e=this;this.$button.on("click",function(t){e.toggle(),t.stopImmediatePropagation()})},r.prototype.clear=function(){var t=$(".note-btn-group.open");t.find(".note-btn.active").removeClass("active"),t.removeClass("open")},r.prototype.show=function(){this.$button.addClass("active"),this.$button.parent().addClass("open");var t=this.$button.next(),e=t.offset(),o=t.outerWidth(),n=$(window).width(),i=parseFloat($(this.options.target).css("margin-right"));e.left+o>n-i?t.css("margin-left",n-i-(e.left+o)):t.css("margin-left","")},r.prototype.hide=function(){this.$button.removeClass("active"),this.$button.parent().removeClass("open")},r.prototype.toggle=function(){var t=this.$button.parent().hasClass("open");this.clear(),t?this.hide():this.show()},r);function r(t,e){this.$button=t,this.options=$.extend({},{target:e.container},e),this.setEvent()}$(document).on("click",function(t){$(t.target).closest(".note-btn-group").length||$(".note-btn-group.open").removeClass("open")}),$(document).on("click.note-dropdown-menu",function(t){$(t.target).closest(".note-dropdown-menu").parent().removeClass("open")});var a=(s.prototype.show=function(){"body"===this.options.target?(this.$backdrop.css("position","fixed"),this.$modal.css("position","fixed")):(this.$backdrop.css("position","absolute"),this.$modal.css("position","absolute")),this.$backdrop.appendTo(this.options.target).show(),this.$modal.appendTo(this.options.target).addClass("open").show(),this.$modal.trigger("note.modal.show"),this.$modal.off("click",".close").on("click",".close",this.hide.bind(this))},s.prototype.hide=function(){this.$modal.removeClass("open").hide(),this.$backdrop.hide(),this.$modal.trigger("note.modal.hide")},s);function s(t,e){this.options=$.extend({},{target:e.container||"body"},e),this.$modal=t,this.$backdrop=$('<div class="note-modal-backdrop" />')}var l=e('<div class="note-editor note-frame"/>'),c=e('<div class="note-toolbar" role="toolbar"/>'),d=e('<div class="note-editing-area"/>'),u=e('<textarea class="note-codable" role="textbox" aria-multiline="true"/>'),h=e('<div class="note-editable" contentEditable="true" role="textbox" aria-multiline="true"/>'),f=e(['<output class="note-status-output" role="status" aria-live="polite"/>','<div class="note-statusbar" role="resize">','  <div class="note-resizebar" role="seperator" aria-orientation="horizontal" aria-label="resize">','    <div class="note-icon-bar"/>','    <div class="note-icon-bar"/>','    <div class="note-icon-bar"/>',"  </div>","</div>"].join("")),m=e('<div class="note-editor"/>'),g=e(['<div class="note-editable" contentEditable="true" role="textbox" aria-multiline="true"/>','<output class="note-status-output" role="status" aria-live="polite"/>'].join("")),v=e('<div class="note-btn-group">'),b=e('<button type="button" class="note-btn" role="button" tabindex="-1">',function(t,e){e&&e.tooltip&&(t.attr({"aria-label":e.tooltip}),t.data("_lite_tooltip",new p(t,{title:e.tooltip,container:e.container})).on("click",function(t){$(t.currentTarget).data("_lite_tooltip").hide()})),e.contents&&t.html(e.contents),e&&e.data&&"dropdown"===e.data.toggle&&t.data("_lite_dropdown",new n(t,{container:e.container}))}),y=e('<div class="note-dropdown-menu" role="list">',function(t,i){var e=Array.isArray(i.items)?i.items.map(function(t){var e="string"==typeof t?t:t.value||"",o=i.template?i.template(t):t,n=$('<a class="note-dropdown-item" href="#" data-value="'+e+'" role="listitem" aria-label="'+e+'"></a>');return n.html(o).data("item",t),n}):i.items;t.html(e).attr({"aria-label":i.title}),t.on("click","> .note-dropdown-item",function(t){var e=$(this),o=e.data("item"),n=e.data("value");o.click?o.click(e):i.itemClick&&i.itemClick(t,o,n)})}),x=e('<div class="note-dropdown-menu note-check" role="list">',function(t,i){var e=Array.isArray(i.items)?i.items.map(function(t){var e="string"==typeof t?t:t.value||"",o=i.template?i.template(t):t,n=$('<a class="note-dropdown-item" href="#" data-value="'+e+'" role="listitem" aria-label="'+t+'"></a>');return n.html([E(i.checkClassName)," ",o]).data("item",t),n}):i.items;t.html(e).attr({"aria-label":i.title}),t.on("click","> .note-dropdown-item",function(t){var e=$(this),o=e.data("item"),n=e.data("value");o.click?o.click(e):i.itemClick&&i.itemClick(t,o,n)})}),C=e('<div class="note-color-palette"/>',function(t,e){for(var o=[],n=0,i=e.colors.length;n<i;n++){for(var r=e.eventName,a=e.colors[n],s=e.colorsName[n],l=[],c=0,d=a.length;c<d;c++){var u=a[c],h=s[c];l.push(['<button type="button" class="note-btn note-color-btn"','style="background-color:',u,'" ','data-event="',r,'" ','data-value="',u,'" ','title="',h,'" ','aria-label="',h,'" ','data-toggle="button" tabindex="-1"></button>'].join(""))}o.push('<div class="note-color-row">'+l.join("")+"</div>")}t.html(o.join("")),t.find(".note-color-btn").each(function(){$(this).data("_lite_tooltip",new p($(this),{container:e.container}))})}),k=e('<div class="note-modal" aria-hidden="false" tabindex="-1" role="dialog"/>',function(t,e){e.fade&&t.addClass("fade"),t.attr({"aria-label":e.title}),t.html(['  <div class="note-modal-content">',e.title?'    <div class="note-modal-header">      <button type="button" class="close" aria-label="Close" aria-hidden="true"><i class="note-icon-close"></i></button>      <h4 class="note-modal-title">'+e.title+"</h4>    </div>":"",'    <div class="note-modal-body">'+e.body+"</div>",e.footer?'    <div class="note-modal-footer">'+e.footer+"</div>":"","  </div>"].join("")),t.data("modal",new a(t,e))}),S=e(['<div class="note-popover bottom">','  <div class="note-popover-arrow"/>','  <div class="popover-content note-children-container"/>',"</div>"].join(""),function(t,e){var o=void 0!==e.direction?e.direction:"bottom";t.addClass(o).hide(),e.hideArrow&&t.find(".note-popover-arrow").hide()}),T=e('<div class="checkbox"></div>',function(t,e){t.html(["<label"+(e.id?' for="'+e.id+'"':"")+">",' <input role="checkbox" type="checkbox"'+(e.id?' id="'+e.id+'"':""),e.checked?" checked":"",' aria-checked="'+(e.checked?"true":"false")+'"/>',e.text?e.text:"","</label>"].join(""))}),E=function(t,e){return"<"+(e=e||"i")+' class="'+t+'"/>'},I={editor:l,toolbar:c,editingArea:d,codable:u,editable:h,statusbar:f,airEditor:m,airEditable:g,buttonGroup:v,button:b,dropdown:y,dropdownCheck:x,dropdownButton:function(t,e){return v([b({className:"dropdown-toggle",contents:t.title+" "+E("note-icon-caret"),tooltip:t.tooltip,data:{toggle:"dropdown"}}),y({className:t.className,items:t.items,template:t.template,itemClick:t.itemClick})],{callback:e}).render()},dropdownButtonContents:function(t,e){return t+" "+E(e.icons.caret,"span")},dropdownCheckButton:function(t,e){return v([b({className:"dropdown-toggle",contents:t.title+" "+E("note-icon-caret"),tooltip:t.tooltip,data:{toggle:"dropdown"}}),x({className:t.className,checkClassName:t.checkClassName,items:t.items,template:t.template,itemClick:t.itemClick})],{callback:e}).render()},paragraphDropdownButton:function(t){return v([b({className:"dropdown-toggle",contents:t.title+" "+E("note-icon-caret"),tooltip:t.tooltip,data:{toggle:"dropdown"}}),y([v({className:"note-align",children:t.items[0]}),v({className:"note-list",children:t.items[1]})])]).render()},tableDropdownButton:function(e){return v([b({className:"dropdown-toggle",contents:e.title+" "+E("note-icon-caret"),tooltip:e.tooltip,data:{toggle:"dropdown"}}),y({className:"note-table",items:['<div class="note-dimension-picker">','  <div class="note-dimension-picker-mousecatcher" data-event="insertTable" data-value="1x1"/>','  <div class="note-dimension-picker-highlighted"/>','  <div class="note-dimension-picker-unhighlighted"/>',"</div>",'<div class="note-dimension-display">1 x 1</div>'].join("")})],{callback:function(t){t.find(".note-dimension-picker-mousecatcher").css({width:e.col+"em",height:e.row+"em"}).mousedown(e.itemClick).mousemove(function(t){!function(t,e,o){var n,i=$(t.target.parentNode),r=i.next(),a=i.find(".note-dimension-picker-mousecatcher"),s=i.find(".note-dimension-picker-highlighted"),l=i.find(".note-dimension-picker-unhighlighted");if(void 0===t.offsetX){var c=$(t.target).offset();n={x:t.pageX-c.left,y:t.pageY-c.top}}else n={x:t.offsetX,y:t.offsetY};var d=Math.ceil(n.x/18)||1,u=Math.ceil(n.y/18)||1;s.css({width:d+"em",height:u+"em"}),a.data("value",d+"x"+u),3<d&&d<e&&l.css({width:d+1+"em"}),3<u&&u<o&&l.css({height:u+1+"em"}),r.html(d+" x "+u)}(t,e.col,e.row)})}}).render()},colorDropdownButton:function(c,d){return v({className:"note-color",children:[b({className:"note-current-color-button",contents:c.title,tooltip:c.lang.color.recent,click:c.currentClick,callback:function(t){var e=t.find(".note-recent-color");"foreColor"!==d&&(e.css("background-color","#FFFF00"),t.attr("data-backColor","#FFFF00"))}}),b({className:"dropdown-toggle",contents:E("note-icon-caret"),tooltip:c.lang.color.more,data:{toggle:"dropdown"}}),y({items:["<div>",'<div class="note-btn-group btn-background-color">','  <div class="note-palette-title">'+c.lang.color.background+"</div>","  <div>",'<button type="button" class="note-color-reset note-btn note-btn-block"  data-event="backColor" data-value="inherit">',c.lang.color.transparent,"    </button>","  </div>",'  <div class="note-holder" data-event="backColor"/>','  <div class="btn-sm">','    <input type="color" id="html5bcp" class="note-btn btn-default" value="#21104A" style="width:100%;" data-value="cp">','    <button type="button" class="note-color-reset btn" data-event="backColor" data-value="cpbackColor">',c.lang.color.cpSelect,"    </button>","  </div>","</div>",'<div class="note-btn-group btn-foreground-color">','  <div class="note-palette-title">'+c.lang.color.foreground+"</div>","  <div>",'<button type="button" class="note-color-reset note-btn note-btn-block"  data-event="removeFormat" data-value="foreColor">',c.lang.color.resetToDefault,"    </button>","  </div>",'  <div class="note-holder" data-event="foreColor"/>','  <div class="btn-sm">','    <input type="color" id="html5fcp" class="note-btn btn-default" value="#21104A" style="width:100%;" data-value="cp">','    <button type="button" class="note-color-reset btn" data-event="foreColor" data-value="cpforeColor">',c.lang.color.cpSelect,"    </button>","  </div>","</div>","</div>"].join(""),callback:function(t){t.find(".note-holder").each(function(){var t=$(this);t.append(C({colors:c.colors,eventName:t.data("event")}).render())}),"fore"===d?(t.find(".btn-background-color").hide(),t.css({"min-width":"210px"})):"back"===d&&(t.find(".btn-foreground-color").hide(),t.css({"min-width":"210px"}))},click:function(t){var e=$(t.target),o=e.data("event"),n=e.data("value"),i=document.getElementById("html5fcp").value,r=document.getElementById("html5bcp").value;if("cp"===n?t.stopPropagation():"cpbackColor"===n?n=r:"cpforeColor"===n&&(n=i),o&&n){var a="backColor"===o?"background-color":"color",s=e.closest(".note-color").find(".note-recent-color"),l=e.closest(".note-color").find(".note-current-color-button");s.css(a,n),l.attr("data-"+o,n),"fore"===d?c.itemClick("foreColor",n):"back"===d?c.itemClick("backColor",n):c.itemClick(o,n)}}})]}).render()},palette:C,dialog:k,videoDialog:function(t){var e='<div class="note-form-group"><label class="note-form-label">'+t.lang.video.url+' <small class="text-muted">'+t.lang.video.providers+'</small></label><input class="note-video-url note-input" type="text" /></div>',o=['<button type="button" href="#" class="note-btn note-btn-primary note-video-btn disabled" disabled>',t.lang.video.insert,"</button>"].join("");return k({title:t.lang.video.insert,fade:t.fade,body:e,footer:o}).render()},imageDialog:function(t){var e='<div class="note-form-group note-group-select-from-files"><label class="note-form-label">'+t.lang.image.selectFromFiles+'</label><input class="note-note-image-input note-input" type="file" name="files" accept="image/*" multiple="multiple" />'+t.imageLimitation+'</div><div class="note-form-group" style="overflow:auto;"><label class="note-form-label">'+t.lang.image.url+'</label><input class="note-image-url note-input" type="text" /></div>',o=['<button href="#" type="button" class="note-btn note-btn-primary note-btn-large note-image-btn disabled" disabled>',t.lang.image.insert,"</button>"].join("");return k({title:t.lang.image.insert,fade:t.fade,body:e,footer:o}).render()},linkDialog:function(t){var e='<div class="note-form-group"><label class="note-form-label">'+t.lang.link.textToDisplay+'</label><input class="note-link-text note-input" type="text" /></div><div class="note-form-group"><label class="note-form-label">'+t.lang.link.url+'</label><input class="note-link-url note-input" type="text" value="http://" /></div>'+(t.disableLinkTarget?"":'<div class="checkbox"><label><input type="checkbox" checked> '+t.lang.link.openInNewWindow+"</label></div>"),o=['<button href="#" type="button" class="note-btn note-btn-primary note-link-btn disabled" disabled>',t.lang.link.insert,"</button>"].join("");return k({className:"link-dialog",title:t.lang.link.insert,fade:t.fade,body:e,footer:o}).render()},popover:S,checkbox:T,icon:E,toggleBtn:function(t,e){t.toggleClass("disabled",!e),t.attr("disabled",!e)},toggleBtnActive:function(t,e){t.toggleClass("active",e)},check:function(t,e){t.find(".checked").removeClass("checked"),t.find('[data-value="'+e+'"]').addClass("checked")},onDialogShown:function(t,e){t.one("note.modal.show",e)},onDialogHidden:function(t,e){t.one("note.modal.hide",e)},showDialog:function(t){t.data("modal").show()},hideDialog:function(t){t.data("modal").hide()},getPopoverContent:function(t){return t.find(".note-popover-content")},getDialogBody:function(t){return t.find(".note-modal-body")},createLayout:function(t,e){var o=(e.airMode?I.airEditor([I.editingArea([I.airEditable()])]):I.editor([I.toolbar(),I.editingArea([I.codable(),I.editable()]),I.statusbar()])).render();return o.insertAfter(t),{note:t,editor:o,toolbar:o.find(".note-toolbar"),editingArea:o.find(".note-editing-area"),editable:o.find(".note-editable"),codable:o.find(".note-codable"),statusbar:o.find(".note-statusbar")}},removeLayout:function(t,e){t.html(e.editable.html()),e.editor.remove(),t.off("summernote"),t.show()}};w.summernote=w.summernote||{lang:{}},w.extend(w.summernote.lang,{"en-US":{font:{bold:"Bold",italic:"Italic",underline:"Underline",clear:"Remove Font Style",height:"Line Height",name:"Font Family",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript",size:"Font Size"},image:{image:"Picture",insert:"Insert Image",resizeFull:"Resize full",resizeHalf:"Resize half",resizeQuarter:"Resize quarter",resizeNone:"Original size",floatLeft:"Float Left",floatRight:"Float Right",floatNone:"Remove float",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"Drag image or text here",dropImage:"Drop image or Text",selectFromFiles:"Select from files",maximumFileSize:"Maximum file size",maximumFileSizeError:"Maximum file size exceeded.",url:"Image URL",remove:"Remove Image",original:"Original"},video:{video:"Video",videoLink:"Video Link",insert:"Insert Video",url:"Video URL",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion or Youku)"},link:{link:"Link",insert:"Insert Link",unlink:"Unlink",edit:"Edit",textToDisplay:"Text to display",url:"To what URL should this link go?",openInNewWindow:"Open in new window"},table:{table:"Table",addRowAbove:"Add row above",addRowBelow:"Add row below",addColLeft:"Add column left",addColRight:"Add column right",delRow:"Delete row",delCol:"Delete column",delTable:"Delete table"},hr:{insert:"Insert Horizontal Rule"},style:{style:"Style",p:"Normal",blockquote:"Quote",pre:"Code",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6"},lists:{unordered:"Unordered list",ordered:"Ordered list"},options:{help:"Help",fullscreen:"Full Screen",codeview:"Code View"},paragraph:{paragraph:"Paragraph",outdent:"Outdent",indent:"Indent",left:"Align left",center:"Align center",right:"Align right",justify:"Justify full"},color:{recent:"Recent Color",more:"More Color",background:"Background Color",foreground:"Foreground Color",transparent:"Transparent",setTransparent:"Set transparent",reset:"Reset",resetToDefault:"Reset to default",cpSelect:"Select"},shortcut:{shortcuts:"Keyboard shortcuts",close:"Close",textFormatting:"Text formatting",action:"Action",paragraphFormatting:"Paragraph formatting",documentStyle:"Document Style",extraKeys:"Extra keys"},help:{insertParagraph:"Insert Paragraph",undo:"Undoes the last command",redo:"Redoes the last command",tab:"Tab",untab:"Untab",bold:"Set a bold style",italic:"Set a italic style",underline:"Set a underline style",strikethrough:"Set a strikethrough style",removeFormat:"Clean a style",justifyLeft:"Set left align",justifyCenter:"Set center align",justifyRight:"Set right align",justifyFull:"Set full align",insertUnorderedList:"Toggle unordered list",insertOrderedList:"Toggle ordered list",outdent:"Outdent on current paragraph",indent:"Indent on current paragraph",formatPara:"Change current block's format as a paragraph(P tag)",formatH1:"Change current block's format as H1",formatH2:"Change current block's format as H2",formatH3:"Change current block's format as H3",formatH4:"Change current block's format as H4",formatH5:"Change current block's format as H5",formatH6:"Change current block's format as H6",insertHorizontalRule:"Insert horizontal rule","linkDialog.show":"Show Link Dialog"},history:{undo:"Undo",redo:"Redo"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"}}});var P="function"==typeof define&&define.amd;var N,L=navigator.userAgent,A=/MSIE|Trident/i.test(L);if(A){var M=/MSIE (\d+[.]\d+)/.exec(L);M&&(N=parseFloat(M[1])),(M=/Trident\/.*rv:([0-9]{1,}[.0-9]{0,})/.exec(L))&&(N=parseFloat(M[1]))}var R=/Edge\/\d+/.test(L),D=!!window.CodeMirror,F="ontouchstart"in window||0<navigator.MaxTouchPoints||0<navigator.msMaxTouchPoints,H=A||R?"DOMCharacterDataModified DOMSubtreeModified DOMNodeInserted":"input",z={isMac:-1<navigator.appVersion.indexOf("Mac"),isMSIE:A,isEdge:R,isFF:!R&&/firefox/i.test(L),isPhantom:/PhantomJS/i.test(L),isWebkit:!R&&/webkit/i.test(L),isChrome:!R&&/chrome/i.test(L),isSafari:!R&&/safari/i.test(L),browserVersion:N,jqueryVersion:parseFloat(w.fn.jquery),isSupportAmd:P,isSupportTouch:F,hasCodeMirror:D,isFontInstalled:function(t){var e="Comic Sans MS"===t?"Courier New":"Comic Sans MS",o="mmmmmmmmmmwwwww",n=document.createElement("canvas").getContext("2d");n.font="200px '"+e+"'";var i=n.measureText(o).width;return n.font="200px '"+t+"', '"+e+"'",i!==n.measureText(o).width},isW3CRangeSupport:!!document.createRange,inputEventName:H};var B=0;var O={eq:function(e){return function(t){return e===t}},eq2:function(t,e){return t===e},peq2:function(o){return function(t,e){return t[o]===e[o]}},ok:function(){return!0},fail:function(){return!1},self:function(t){return t},not:function(t){return function(){return!t.apply(t,arguments)}},and:function(e,o){return function(t){return e(t)&&o(t)}},invoke:function(t,e){return function(){return t[e].apply(t,arguments)}},uniqueId:function(t){var e=++B+"";return t?t+e:e},rect2bnd:function(t){var e=$(document);return{top:t.top+e.scrollTop(),left:t.left+e.scrollLeft(),width:t.right-t.left,height:t.bottom-t.top}},invertObject:function(t){var e={};for(var o in t)t.hasOwnProperty(o)&&(e[t[o]]=o);return e},namespaceToCamel:function(t,e){return(e=e||"")+t.split(".").map(function(t){return t.substring(0,1).toUpperCase()+t.substring(1)}).join("")},debounce:function(n,i,r){var a;return function(){var t=this,e=arguments,o=r&&!a;clearTimeout(a),a=setTimeout(function(){a=null,r||n.apply(t,e)},i),o&&n.apply(t,e)}},isValidUrl:function(t){return/[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/gi.test(t)}};function j(t){return t[0]}function q(t){return t[t.length-1]}function U(t){return t.slice(1)}function W(t,e){return!!(t&&t.length&&e)&&-1!==t.indexOf(e)}var V={head:j,last:q,initial:function(t){return t.slice(0,t.length-1)},tail:U,prev:function(t,e){if(t&&t.length&&e){var o=t.indexOf(e);return-1===o?null:t[o-1]}return null},next:function(t,e){if(t&&t.length&&e){var o=t.indexOf(e);return-1===o?null:t[o+1]}return null},find:function(t,e){for(var o=0,n=t.length;o<n;o++){var i=t[o];if(e(i))return i}},contains:W,all:function(t,e){for(var o=0,n=t.length;o<n;o++)if(!e(t[o]))return!1;return!0},sum:function(t,o){return o=o||O.self,t.reduce(function(t,e){return t+o(e)},0)},from:function(t){for(var e=[],o=t.length,n=-1;++n<o;)e[n]=t[n];return e},isEmpty:function(t){return!t||!t.length},clusterBy:function(t,n){return t.length?U(t).reduce(function(t,e){var o=q(t);return n(q(o),e)?o[o.length]=e:t[t.length]=[e],t},[[j(t)]]):[]},compact:function(t){for(var e=[],o=0,n=t.length;o<n;o++)t[o]&&e.push(t[o]);return e},unique:function(t){for(var e=[],o=0,n=t.length;o<n;o++)W(e,t[o])||e.push(t[o]);return e}},G=String.fromCharCode(160);function K(t){return t&&w(t).hasClass("note-editable")}function _(e){return e=e.toUpperCase(),function(t){return t&&t.nodeName.toUpperCase()===e}}function Y(t){return t&&3===t.nodeType}function X(t){return t&&/^BR|^IMG|^HR|^IFRAME|^BUTTON|^INPUT|^AUDIO|^VIDEO|^EMBED/.test(t.nodeName.toUpperCase())}function Z(t){return!K(t)&&(t&&/^DIV|^P|^LI|^H[1-7]/.test(t.nodeName.toUpperCase()))}var Q=_("PRE"),J=_("LI");var tt=_("TABLE"),et=_("DATA");function ot(t){return!(st(t)||nt(t)||it(t)||Z(t)||tt(t)||at(t)||et(t))}function nt(t){return t&&/^UL|^OL/.test(t.nodeName.toUpperCase())}var it=_("HR");function rt(t){return t&&/^TD|^TH/.test(t.nodeName.toUpperCase())}var at=_("BLOCKQUOTE");function st(t){return rt(t)||at(t)||K(t)}var lt=_("A");var ct=_("BODY");var dt=z.isMSIE&&z.browserVersion<11?"&nbsp;":"<br>";function ut(t){return Y(t)?t.nodeValue.length:t?t.childNodes.length:0}function ht(t){var e=ut(t);return 0===e||(!Y(t)&&1===e&&t.innerHTML===dt||!(!V.all(t.childNodes,Y)||""!==t.innerHTML))}function pt(t){X(t)||ut(t)||(t.innerHTML=dt)}function ft(t,e){for(;t;){if(e(t))return t;if(K(t))break;t=t.parentNode}return null}function mt(t,e){e=e||O.fail;var o=[];return ft(t,function(t){return K(t)||o.push(t),e(t)}),o}function gt(t,e){e=e||O.fail;for(var o=[];t&&!e(t);)o.push(t),t=t.nextSibling;return o}function vt(t,e){var o=e.nextSibling,n=e.parentNode;return o?n.insertBefore(t,o):n.appendChild(t),t}function bt(o,t){return w.each(t,function(t,e){o.appendChild(e)}),o}function yt(t){return 0===t.offset}function xt(t){return t.offset===ut(t.node)}function wt(t){return yt(t)||xt(t)}function Ct(t,e){for(;t&&t!==e;){if(0!==St(t))return!1;t=t.parentNode}return!0}function kt(t,e){if(!e)return!1;for(;t&&t!==e;){if(St(t)!==ut(t.parentNode)-1)return!1;t=t.parentNode}return!0}function St(t){for(var e=0;t=t.previousSibling;)e+=1;return e}function Tt(t){return!!(t&&t.childNodes&&t.childNodes.length)}function Et(t,e){var o,n;if(0===t.offset){if(K(t.node))return null;o=t.node.parentNode,n=St(t.node)}else n=Tt(t.node)?ut(o=t.node.childNodes[t.offset-1]):(o=t.node,e?0:t.offset-1);return{node:o,offset:n}}function $t(t,e){var o,n;if(ut(t.node)===t.offset){if(K(t.node))return null;o=t.node.parentNode,n=St(t.node)+1}else n=Tt(t.node)?(o=t.node.childNodes[t.offset],0):(o=t.node,e?ut(t.node):t.offset+1);return{node:o,offset:n}}function It(t,e){return t.node===e.node&&t.offset===e.offset}function Pt(t,e){var o=e&&e.isSkipPaddingBlankHTML,n=e&&e.isNotSplitEdgePoint,i=e&&e.isDiscardEmptySplits;if(i&&(o=!0),wt(t)&&(Y(t.node)||n)){if(yt(t))return t.node;if(xt(t))return t.node.nextSibling}if(Y(t.node))return t.node.splitText(t.offset);var r=t.node.childNodes[t.offset],a=vt(t.node.cloneNode(!1),t.node);return bt(a,gt(r)),o||(pt(t.node),pt(a)),i&&(ht(t.node)&&At(t.node),ht(a))?(At(a),t.node.nextSibling):a}function Nt(t,o,n){var e=mt(o.node,O.eq(t));return e.length?1===e.length?Pt(o,n):e.reduce(function(t,e){return t===o.node&&(t=Pt(o,n)),Pt({node:e,offset:t?St(t):ut(e)},n)}):null}function Lt(t){return document.createElement(t)}function At(t,e){if(t&&t.parentNode){if(t.removeNode)return t.removeNode(e);var o=t.parentNode;if(!e){for(var n=[],i=0,r=t.childNodes.length;i<r;i++)n.push(t.childNodes[i]);for(i=0,r=n.length;i<r;i++)o.insertBefore(n[i],t)}o.removeChild(t)}}var Mt=_("TEXTAREA");function Rt(t,e){var o=Mt(t[0])?t.val():t.html();return e?o.replace(/[\n\r]/g,""):o}var Dt={NBSP_CHAR:G,ZERO_WIDTH_NBSP_CHAR:"\ufeff",blank:dt,emptyPara:"<p>"+dt+"</p>",makePredByNodeName:_,isEditable:K,isControlSizing:function(t){return t&&w(t).hasClass("note-control-sizing")},isText:Y,isElement:function(t){return t&&1===t.nodeType},isVoid:X,isPara:Z,isPurePara:function(t){return Z(t)&&!J(t)},isHeading:function(t){return t&&/^H[1-7]/.test(t.nodeName.toUpperCase())},isInline:ot,isBlock:O.not(ot),isBodyInline:function(t){return ot(t)&&!ft(t,Z)},isBody:ct,isParaInline:function(t){return ot(t)&&!!ft(t,Z)},isPre:Q,isList:nt,isTable:tt,isData:et,isCell:rt,isBlockquote:at,isBodyContainer:st,isAnchor:lt,isDiv:_("DIV"),isLi:J,isBR:_("BR"),isSpan:_("SPAN"),isB:_("B"),isU:_("U"),isS:_("S"),isI:_("I"),isImg:_("IMG"),isTextarea:Mt,isEmpty:ht,isEmptyAnchor:O.and(lt,ht),isClosestSibling:function(t,e){return t.nextSibling===e||t.previousSibling===e},withClosestSiblings:function(t,e){e=e||O.ok;var o=[];return t.previousSibling&&e(t.previousSibling)&&o.push(t.previousSibling),o.push(t),t.nextSibling&&e(t.nextSibling)&&o.push(t.nextSibling),o},nodeLength:ut,isLeftEdgePoint:yt,isRightEdgePoint:xt,isEdgePoint:wt,isLeftEdgeOf:Ct,isRightEdgeOf:kt,isLeftEdgePointOf:function(t,e){return yt(t)&&Ct(t.node,e)},isRightEdgePointOf:function(t,e){return xt(t)&&kt(t.node,e)},prevPoint:Et,nextPoint:$t,isSamePoint:It,isVisiblePoint:function(t){if(Y(t.node)||!Tt(t.node)||ht(t.node))return!0;var e=t.node.childNodes[t.offset-1],o=t.node.childNodes[t.offset];return!(e&&!X(e)||o&&!X(o))},prevPointUntil:function(t,e){for(;t;){if(e(t))return t;t=Et(t)}return null},nextPointUntil:function(t,e){for(;t;){if(e(t))return t;t=$t(t)}return null},isCharPoint:function(t){if(!Y(t.node))return!1;var e=t.node.nodeValue.charAt(t.offset-1);return e&&" "!==e&&e!==G},walkPoint:function(t,e,o,n){for(var i=t;i&&(o(i),!It(i,e));){i=$t(i,n&&t.node!==i.node&&e.node!==i.node)}},ancestor:ft,singleChildAncestor:function(t,e){for(t=t.parentNode;t&&1===ut(t);){if(e(t))return t;if(K(t))break;t=t.parentNode}return null},listAncestor:mt,lastAncestor:function(t,e){var o=mt(t);return V.last(o.filter(e))},listNext:gt,listPrev:function(t,e){e=e||O.fail;for(var o=[];t&&!e(t);)o.push(t),t=t.previousSibling;return o},listDescendant:function(i,r){var a=[];return r=r||O.ok,function t(e){i!==e&&r(e)&&a.push(e);for(var o=0,n=e.childNodes.length;o<n;o++)t(e.childNodes[o])}(i),a},commonAncestor:function(t,e){for(var o=mt(t),n=e;n;n=n.parentNode)if(-1<o.indexOf(n))return n;return null},wrap:function(t,e){var o=t.parentNode,n=w("<"+e+">")[0];return o.insertBefore(n,t),n.appendChild(t),n},insertAfter:vt,appendChildNodes:bt,position:St,hasChildren:Tt,makeOffsetPath:function(t,e){return mt(e,O.eq(t)).map(St).reverse()},fromOffsetPath:function(t,e){for(var o=t,n=0,i=e.length;n<i;n++)o=o.childNodes.length<=e[n]?o.childNodes[o.childNodes.length-1]:o.childNodes[e[n]];return o},splitTree:Nt,splitPoint:function(t,e){var o,n,i=e?Z:st,r=mt(t.node,i),a=V.last(r)||t.node;n=i(a)?(o=r[r.length-2],a):(o=a).parentNode;var s=o&&Nt(o,t,{isSkipPaddingBlankHTML:e,isNotSplitEdgePoint:e});return s||n!==t.node||(s=t.node.childNodes[t.offset]),{rightNode:s,container:n}},create:Lt,createText:function(t){return document.createTextNode(t)},remove:At,removeWhile:function(t,e){for(;t&&!K(t)&&e(t);){var o=t.parentNode;At(t),t=o}},replace:function(t,e){if(t.nodeName.toUpperCase()===e.toUpperCase())return t;var o=Lt(e);return t.style.cssText&&(o.style.cssText=t.style.cssText),bt(o,V.from(t.childNodes)),vt(o,t),At(t),o},html:function(t,e){var o=Rt(t);if(e){o=(o=o.replace(/<(\/?)(\b(?!!)[^>\s]*)(.*?)(\s*\/?>)/g,function(t,e,o){o=o.toUpperCase();var n=/^DIV|^TD|^TH|^P|^LI|^H[1-7]/.test(o)&&!!e,i=/^BLOCKQUOTE|^TABLE|^TBODY|^TR|^HR|^UL|^OL/.test(o);return t+(n||i?"\n":"")})).trim()}return o},value:Rt,posFromPlaceholder:function(t){var e=w(t),o=e.offset(),n=e.outerHeight(!0);return{left:o.left,top:o.top+n}},attachEvents:function(e,o){Object.keys(o).forEach(function(t){e.on(t,o[t])})},detachEvents:function(e,o){Object.keys(o).forEach(function(t){e.off(t,o[t])})},isCustomStyleTag:function(t){return t&&!Y(t)&&V.contains(t.classList,"note-styletag")}},Ft=(Ht.prototype.initialize=function(){return this.layoutInfo=this.ui.createLayout(this.$note,this.options),this._initialize(),this.$note.hide(),this},Ht.prototype.destroy=function(){this._destroy(),this.$note.removeData("summernote"),this.ui.removeLayout(this.$note,this.layoutInfo)},Ht.prototype.reset=function(){var t=this.isDisabled();this.code(Dt.emptyPara),this._destroy(),this._initialize(),t&&this.disable()},Ht.prototype._initialize=function(){var e=this,o=w.extend({},this.options.buttons);Object.keys(o).forEach(function(t){e.memo("button."+t,o[t])});var n=w.extend({},this.options.modules,w.summernote.plugins||{});Object.keys(n).forEach(function(t){e.module(t,n[t],!0)}),Object.keys(this.modules).forEach(function(t){e.initializeModule(t)})},Ht.prototype._destroy=function(){var e=this;Object.keys(this.modules).reverse().forEach(function(t){e.removeModule(t)}),Object.keys(this.memos).forEach(function(t){e.removeMemo(t)}),this.triggerEvent("destroy",this)},Ht.prototype.code=function(t){var e=this.invoke("codeview.isActivated");if(void 0===t)return this.invoke("codeview.sync"),e?this.layoutInfo.codable.val():this.layoutInfo.editable.html();e?this.layoutInfo.codable.val(t):this.layoutInfo.editable.html(t),this.$note.val(t),this.triggerEvent("change",t,this.layoutInfo.editable)},Ht.prototype.isDisabled=function(){return"false"===this.layoutInfo.editable.attr("contenteditable")},Ht.prototype.enable=function(){this.layoutInfo.editable.attr("contenteditable",!0),this.invoke("toolbar.activate",!0),this.triggerEvent("disable",!1)},Ht.prototype.disable=function(){this.invoke("codeview.isActivated")&&this.invoke("codeview.deactivate"),this.layoutInfo.editable.attr("contenteditable",!1),this.invoke("toolbar.deactivate",!0),this.triggerEvent("disable",!0)},Ht.prototype.triggerEvent=function(){var t=V.head(arguments),e=V.tail(V.from(arguments)),o=this.options.callbacks[O.namespaceToCamel(t,"on")];o&&o.apply(this.$note[0],e),this.$note.trigger("summernote."+t,e)},Ht.prototype.initializeModule=function(t){var e=this.modules[t];e.shouldInitialize=e.shouldInitialize||O.ok,e.shouldInitialize()&&(e.initialize&&e.initialize(),e.events&&Dt.attachEvents(this.$note,e.events))},Ht.prototype.module=function(t,e,o){if(1===arguments.length)return this.modules[t];this.modules[t]=new e(this),o||this.initializeModule(t)},Ht.prototype.removeModule=function(t){var e=this.modules[t];e.shouldInitialize()&&(e.events&&Dt.detachEvents(this.$note,e.events),e.destroy&&e.destroy()),delete this.modules[t]},Ht.prototype.memo=function(t,e){if(1===arguments.length)return this.memos[t];this.memos[t]=e},Ht.prototype.removeMemo=function(t){this.memos[t]&&this.memos[t].destroy&&this.memos[t].destroy(),delete this.memos[t]},Ht.prototype.createInvokeHandlerAndUpdateState=function(e,o){var n=this;return function(t){n.createInvokeHandler(e,o)(t),n.invoke("buttons.updateCurrentStyle")}},Ht.prototype.createInvokeHandler=function(o,n){var i=this;return function(t){t.preventDefault();var e=w(t.target);i.invoke(o,n||e.closest("[data-value]").data("value"),e)}},Ht.prototype.invoke=function(){var t=V.head(arguments),e=V.tail(V.from(arguments)),o=t.split("."),n=1<o.length,i=n&&V.head(o),r=n?V.last(o):V.head(o),a=this.modules[i||"editor"];return!i&&this[r]?this[r].apply(this,e):a&&a[r]&&a.shouldInitialize()?a[r].apply(a,e):void 0},Ht);function Ht(t,e){this.ui=w.summernote.ui,this.$note=t,this.memos={},this.modules={},this.layoutInfo={},this.options=e,this.initialize()}function zt(t,e){var o,n,i=t.parentElement(),r=document.body.createTextRange(),a=V.from(i.childNodes);for(o=0;o<a.length;o++)if(!Dt.isText(a[o])){if(r.moveToElementText(a[o]),0<=r.compareEndPoints("StartToStart",t))break;n=a[o]}if(0!==o&&Dt.isText(a[o-1])){var s=document.body.createTextRange(),l=null;s.moveToElementText(n||i),s.collapse(!n),l=n?n.nextSibling:i.firstChild;var c=t.duplicate();c.setEndPoint("StartToStart",s);for(var d=c.text.replace(/[\r\n]/g,"").length;d>l.nodeValue.length&&l.nextSibling;)d-=l.nodeValue.length,l=l.nextSibling;l.nodeValue;e&&l.nextSibling&&Dt.isText(l.nextSibling)&&d===l.nodeValue.length&&(d-=l.nodeValue.length,l=l.nextSibling),i=l,o=d}return{cont:i,offset:o}}function Bt(t){var a=function(t,e){var o,n;if(Dt.isText(t)){var i=Dt.listPrev(t,O.not(Dt.isText)),r=V.last(i).previousSibling;o=r||t.parentNode,e+=V.sum(V.tail(i),Dt.nodeLength),n=!r}else{if(o=t.childNodes[e]||t,Dt.isText(o))return a(o,0);e=0,n=!1}return{node:o,collapseToStart:n,offset:e}},e=document.body.createTextRange(),o=a(t.node,t.offset);return e.moveToElementText(o.node),e.collapse(o.collapseToStart),e.moveStart("character",o.offset),e}w.fn.extend({summernote:function(){var t=w.type(V.head(arguments)),e="string"===t,o="object"===t,i=w.extend({},w.summernote.options,o?V.head(arguments):{});i.langInfo=w.extend(!0,{},w.summernote.lang["en-US"],w.summernote.lang[i.lang]),i.icons=w.extend(!0,{},w.summernote.options.icons,i.icons),i.tooltip="auto"===i.tooltip?!z.isSupportTouch:i.tooltip,this.each(function(t,e){var o=w(e);if(!o.data("summernote")){var n=new Ft(o,i);o.data("summernote",n),o.data("summernote").triggerEvent("init",n.layoutInfo)}});var n=this.first();if(n.length){var r=n.data("summernote");if(e)return r.invoke.apply(r,V.from(arguments));i.focus&&r.invoke("editor.focus")}return this}});var Ot=(jt.prototype.nativeRange=function(){if(z.isW3CRangeSupport){var t=document.createRange();return t.setStart(this.sc,this.sc.data&&this.so>this.sc.data.length?0:this.so),t.setEnd(this.ec,this.sc.data?Math.min(this.eo,this.sc.data.length):this.eo),t}var e=Bt({node:this.sc,offset:this.so});return e.setEndPoint("EndToEnd",Bt({node:this.ec,offset:this.eo})),e},jt.prototype.getPoints=function(){return{sc:this.sc,so:this.so,ec:this.ec,eo:this.eo}},jt.prototype.getStartPoint=function(){return{node:this.sc,offset:this.so}},jt.prototype.getEndPoint=function(){return{node:this.ec,offset:this.eo}},jt.prototype.select=function(){var t=this.nativeRange();if(z.isW3CRangeSupport){var e=document.getSelection();0<e.rangeCount&&e.removeAllRanges(),e.addRange(t)}else t.select();return this},jt.prototype.scrollIntoView=function(t){var e=w(t).height();return t.scrollTop+e<this.sc.offsetTop&&(t.scrollTop+=Math.abs(t.scrollTop+e-this.sc.offsetTop)),this},jt.prototype.normalize=function(){function t(t,e){if(Dt.isVisiblePoint(t)&&(!Dt.isEdgePoint(t)||Dt.isRightEdgePoint(t)&&!e||Dt.isLeftEdgePoint(t)&&e||Dt.isRightEdgePoint(t)&&e&&Dt.isVoid(t.node.nextSibling)||Dt.isLeftEdgePoint(t)&&!e&&Dt.isVoid(t.node.previousSibling)||Dt.isBlock(t.node)&&Dt.isEmpty(t.node)))return t;var o=Dt.ancestor(t.node,Dt.isBlock);if((Dt.isLeftEdgePointOf(t,o)||Dt.isVoid(Dt.prevPoint(t).node))&&!e||(Dt.isRightEdgePointOf(t,o)||Dt.isVoid(Dt.nextPoint(t).node))&&e){if(Dt.isVisiblePoint(t))return t;e=!e}return(e?Dt.nextPointUntil(Dt.nextPoint(t),Dt.isVisiblePoint):Dt.prevPointUntil(Dt.prevPoint(t),Dt.isVisiblePoint))||t}var e=t(this.getEndPoint(),!1),o=this.isCollapsed()?e:t(this.getStartPoint(),!0);return new jt(o.node,o.offset,e.node,e.offset)},jt.prototype.nodes=function(o,t){o=o||O.ok;var n=t&&t.includeAncestor,i=t&&t.fullyContains,e=this.getStartPoint(),r=this.getEndPoint(),a=[],s=[];return Dt.walkPoint(e,r,function(t){var e;Dt.isEditable(t.node)||(i?(Dt.isLeftEdgePoint(t)&&s.push(t.node),Dt.isRightEdgePoint(t)&&V.contains(s,t.node)&&(e=t.node)):e=n?Dt.ancestor(t.node,o):t.node,e&&o(e)&&a.push(e))},!0),V.unique(a)},jt.prototype.commonAncestor=function(){return Dt.commonAncestor(this.sc,this.ec)},jt.prototype.expand=function(t){var e=Dt.ancestor(this.sc,t),o=Dt.ancestor(this.ec,t);if(!e&&!o)return new jt(this.sc,this.so,this.ec,this.eo);var n=this.getPoints();return e&&(n.sc=e,n.so=0),o&&(n.ec=o,n.eo=Dt.nodeLength(o)),new jt(n.sc,n.so,n.ec,n.eo)},jt.prototype.collapse=function(t){return t?new jt(this.sc,this.so,this.sc,this.so):new jt(this.ec,this.eo,this.ec,this.eo)},jt.prototype.splitText=function(){var t=this.sc===this.ec,e=this.getPoints();return Dt.isText(this.ec)&&!Dt.isEdgePoint(this.getEndPoint())&&this.ec.splitText(this.eo),Dt.isText(this.sc)&&!Dt.isEdgePoint(this.getStartPoint())&&(e.sc=this.sc.splitText(this.so),e.so=0,t&&(e.ec=e.sc,e.eo=this.eo-this.so)),new jt(e.sc,e.so,e.ec,e.eo)},jt.prototype.deleteContents=function(){if(this.isCollapsed())return this;var t=this.splitText(),e=t.nodes(null,{fullyContains:!0}),n=Dt.prevPointUntil(t.getStartPoint(),function(t){return!V.contains(e,t.node)}),i=[];return w.each(e,function(t,e){var o=e.parentNode;n.node!==o&&1===Dt.nodeLength(o)&&i.push(o),Dt.remove(e,!1)}),w.each(i,function(t,e){Dt.remove(e,!1)}),new jt(n.node,n.offset,n.node,n.offset).normalize()},jt.prototype.makeIsOn=function(e){return function(){var t=Dt.ancestor(this.sc,e);return!!t&&t===Dt.ancestor(this.ec,e)}},jt.prototype.isLeftEdgeOf=function(t){if(!Dt.isLeftEdgePoint(this.getStartPoint()))return!1;var e=Dt.ancestor(this.sc,t);return e&&Dt.isLeftEdgeOf(this.sc,e)},jt.prototype.isCollapsed=function(){return this.sc===this.ec&&this.so===this.eo},jt.prototype.wrapBodyInlineWithPara=function(){if(Dt.isBodyContainer(this.sc)&&Dt.isEmpty(this.sc))return this.sc.innerHTML=Dt.emptyPara,new jt(this.sc.firstChild,0,this.sc.firstChild,0);var t,e=this.normalize();if(Dt.isParaInline(this.sc)||Dt.isPara(this.sc))return e;if(Dt.isInline(e.sc)){var o=Dt.listAncestor(e.sc,O.not(Dt.isInline));t=V.last(o),Dt.isInline(t)||(t=o[o.length-2]||e.sc.childNodes[e.so])}else t=e.sc.childNodes[0<e.so?e.so-1:0];var n=Dt.listPrev(t,Dt.isParaInline).reverse();if((n=n.concat(Dt.listNext(t.nextSibling,Dt.isParaInline))).length){var i=Dt.wrap(V.head(n),"p");Dt.appendChildNodes(i,V.tail(n))}return this.normalize()},jt.prototype.insertNode=function(t){var e=this.wrapBodyInlineWithPara().deleteContents(),o=Dt.splitPoint(e.getStartPoint(),Dt.isInline(t));return o.rightNode?o.rightNode.parentNode.insertBefore(t,o.rightNode):o.container.appendChild(t),t},jt.prototype.pasteHTML=function(t){var e=w("<div></div>").html(t)[0],o=V.from(e.childNodes),n=this.wrapBodyInlineWithPara().deleteContents();return 0<n.so&&(o=o.reverse()),o=o.map(function(t){return n.insertNode(t)}),0<n.so&&(o=o.reverse()),o},jt.prototype.toString=function(){var t=this.nativeRange();return z.isW3CRangeSupport?t.toString():t.text},jt.prototype.getWordRange=function(t){var e=this.getEndPoint();if(!Dt.isCharPoint(e))return this;var o=Dt.prevPointUntil(e,function(t){return!Dt.isCharPoint(t)});return t&&(e=Dt.nextPointUntil(e,function(t){return!Dt.isCharPoint(t)})),new jt(o.node,o.offset,e.node,e.offset)},jt.prototype.bookmark=function(t){return{s:{path:Dt.makeOffsetPath(t,this.sc),offset:this.so},e:{path:Dt.makeOffsetPath(t,this.ec),offset:this.eo}}},jt.prototype.paraBookmark=function(t){return{s:{path:V.tail(Dt.makeOffsetPath(V.head(t),this.sc)),offset:this.so},e:{path:V.tail(Dt.makeOffsetPath(V.last(t),this.ec)),offset:this.eo}}},jt.prototype.getClientRects=function(){return this.nativeRange().getClientRects()},jt);function jt(t,e,o,n){this.sc=t,this.so=e,this.ec=o,this.eo=n,this.isOnEditable=this.makeIsOn(Dt.isEditable),this.isOnList=this.makeIsOn(Dt.isList),this.isOnAnchor=this.makeIsOn(Dt.isAnchor),this.isOnCell=this.makeIsOn(Dt.isCell),this.isOnData=this.makeIsOn(Dt.isData)}var qt={create:function(t,e,o,n){if(4===arguments.length)return new Ot(t,e,o,n);if(2===arguments.length)return new Ot(o=t,n=e,o,n);var i=this.createFromSelection();return i||1!==arguments.length?i:(i=this.createFromNode(t)).collapse(Dt.emptyPara===t.innerHTML)},createFromSelection:function(){var t,e,o,n;if(z.isW3CRangeSupport){var i=document.getSelection();if(!i||0===i.rangeCount)return null;if(Dt.isBody(i.anchorNode))return null;var r=i.getRangeAt(0);t=r.startContainer,e=r.startOffset,o=r.endContainer,n=r.endOffset}else{var a=document.selection.createRange(),s=a.duplicate();s.collapse(!1);var l=a;l.collapse(!0);var c=zt(l,!0),d=zt(s,!1);Dt.isText(c.node)&&Dt.isLeftEdgePoint(c)&&Dt.isTextNode(d.node)&&Dt.isRightEdgePoint(d)&&d.node.nextSibling===c.node&&(c=d),t=c.cont,e=c.offset,o=d.cont,n=d.offset}return new Ot(t,e,o,n)},createFromNode:function(t){var e=t,o=0,n=t,i=Dt.nodeLength(n);return Dt.isVoid(e)&&(o=Dt.listPrev(e).length-1,e=e.parentNode),Dt.isBR(n)?(i=Dt.listPrev(n).length-1,n=n.parentNode):Dt.isVoid(n)&&(i=Dt.listPrev(n).length,n=n.parentNode),this.create(e,o,n,i)},createFromNodeBefore:function(t){return this.createFromNode(t).collapse(!0)},createFromNodeAfter:function(t){return this.createFromNode(t).collapse()},createFromBookmark:function(t,e){var o=Dt.fromOffsetPath(t,e.s.path),n=e.s.offset,i=Dt.fromOffsetPath(t,e.e.path),r=e.e.offset;return new Ot(o,n,i,r)},createFromParaBookmark:function(t,e){var o=t.s.offset,n=t.e.offset,i=Dt.fromOffsetPath(V.head(e),t.s.path),r=Dt.fromOffsetPath(V.last(e),t.e.path);return new Ot(i,o,r,n)}},Ut={BACKSPACE:8,TAB:9,ENTER:13,SPACE:32,DELETE:46,LEFT:37,UP:38,RIGHT:39,DOWN:40,NUM0:48,NUM1:49,NUM2:50,NUM3:51,NUM4:52,NUM5:53,NUM6:54,NUM7:55,NUM8:56,B:66,E:69,I:73,J:74,K:75,L:76,R:82,S:83,U:85,V:86,Y:89,Z:90,SLASH:191,LEFTBRACKET:219,BACKSLASH:220,RIGHTBRACKET:221},Wt={isEdit:function(t){return V.contains([Ut.BACKSPACE,Ut.TAB,Ut.ENTER,Ut.SPACE,Ut.DELETE],t)},isMove:function(t){return V.contains([Ut.LEFT,Ut.UP,Ut.RIGHT,Ut.DOWN],t)},nameFromCode:O.invertObject(Ut),code:Ut};var Vt=(Gt.prototype.makeSnapshot=function(){var t=qt.create(this.editable);return{contents:this.$editable.html(),bookmark:t&&t.isOnEditable()?t.bookmark(this.editable):{s:{path:[],offset:0},e:{path:[],offset:0}}}},Gt.prototype.applySnapshot=function(t){null!==t.contents&&this.$editable.html(t.contents),null!==t.bookmark&&qt.createFromBookmark(this.editable,t.bookmark).select()},Gt.prototype.rewind=function(){this.$editable.html()!==this.stack[this.stackOffset].contents&&this.recordUndo(),this.stackOffset=0,this.applySnapshot(this.stack[this.stackOffset])},Gt.prototype.commit=function(){this.stack=[],this.stackOffset=-1,this.recordUndo()},Gt.prototype.reset=function(){this.stack=[],this.stackOffset=-1,this.$editable.html(""),this.recordUndo()},Gt.prototype.undo=function(){this.$editable.html()!==this.stack[this.stackOffset].contents&&this.recordUndo(),0<this.stackOffset&&(this.stackOffset--,this.applySnapshot(this.stack[this.stackOffset]))},Gt.prototype.redo=function(){this.stack.length-1>this.stackOffset&&(this.stackOffset++,this.applySnapshot(this.stack[this.stackOffset]))},Gt.prototype.recordUndo=function(){this.stackOffset++,this.stack.length>this.stackOffset&&(this.stack=this.stack.slice(0,this.stackOffset)),this.stack.push(this.makeSnapshot())},Gt);function Gt(t){this.stack=[],this.stackOffset=-1,this.$editable=t,this.editable=t[0]}var Kt=(_t.prototype.jQueryCSS=function(o,t){if(z.jqueryVersion<1.9){var n={};return w.each(t,function(t,e){n[e]=o.css(e)}),n}return o.css(t)},_t.prototype.fromNode=function(t){var e=this.jQueryCSS(t,["font-family","font-size","text-align","list-style-type","line-height"])||{};return e["font-size"]=parseInt(e["font-size"],10),e},_t.prototype.stylePara=function(t,o){w.each(t.nodes(Dt.isPara,{includeAncestor:!0}),function(t,e){w(e).css(o)})},_t.prototype.styleNodes=function(t,e){t=t.splitText();var o=e&&e.nodeName||"SPAN",n=!(!e||!e.expandClosestSibling),i=!(!e||!e.onlyPartialContains);if(t.isCollapsed())return[t.insertNode(Dt.create(o))];var r=Dt.makePredByNodeName(o),a=t.nodes(Dt.isText,{fullyContains:!0}).map(function(t){return Dt.singleChildAncestor(t,r)||Dt.wrap(t,o)});if(n){if(i){var s=t.nodes();r=O.and(r,function(t){return V.contains(s,t)})}return a.map(function(t){var e=Dt.withClosestSiblings(t,r),o=V.head(e),n=V.tail(e);return w.each(n,function(t,e){Dt.appendChildNodes(o,e.childNodes),Dt.remove(e)}),V.head(e)})}return a},_t.prototype.current=function(t){var e=w(Dt.isElement(t.sc)?t.sc:t.sc.parentNode),o=this.fromNode(e);try{o=w.extend(o,{"font-bold":document.queryCommandState("bold")?"bold":"normal","font-italic":document.queryCommandState("italic")?"italic":"normal","font-underline":document.queryCommandState("underline")?"underline":"normal","font-subscript":document.queryCommandState("subscript")?"subscript":"normal","font-superscript":document.queryCommandState("superscript")?"superscript":"normal","font-strikethrough":document.queryCommandState("strikethrough")?"strikethrough":"normal","font-family":document.queryCommandValue("fontname")||o["font-family"]})}catch(t){}if(t.isOnList()){var n=-1<["circle","disc","disc-leading-zero","square"].indexOf(o["list-style-type"]);o["list-style"]=n?"unordered":"ordered"}else o["list-style"]="none";var i=Dt.ancestor(t.sc,Dt.isPara);if(i&&i.style["line-height"])o["line-height"]=i.style.lineHeight;else{var r=parseInt(o["line-height"],10)/parseInt(o["font-size"],10);o["line-height"]=r.toFixed(1)}return o.anchor=t.isOnAnchor()&&Dt.ancestor(t.sc,Dt.isAnchor),o.ancestors=Dt.listAncestor(t.sc,Dt.isEditable),o.range=t,o},_t);function _t(){}var Yt=(Xt.prototype.insertOrderedList=function(t){this.toggleList("OL",t)},Xt.prototype.insertUnorderedList=function(t){this.toggleList("UL",t)},Xt.prototype.indent=function(t){var i=this,e=qt.create(t).wrapBodyInlineWithPara(),o=e.nodes(Dt.isPara,{includeAncestor:!0}),n=V.clusterBy(o,O.peq2("parentNode"));w.each(n,function(t,e){var o=V.head(e);if(Dt.isLi(o)){var n=i.findList(o.previousSibling);n?e.map(function(t){return n.appendChild(t)}):(i.wrapList(e,o.parentNode.nodeName),e.map(function(t){return t.parentNode}).map(function(t){return i.appendToPrevious(t)}))}else w.each(e,function(t,e){w(e).css("marginLeft",function(t,e){return(parseInt(e,10)||0)+25})})}),e.select()},Xt.prototype.outdent=function(t){var n=this,e=qt.create(t).wrapBodyInlineWithPara(),o=e.nodes(Dt.isPara,{includeAncestor:!0}),i=V.clusterBy(o,O.peq2("parentNode"));w.each(i,function(t,e){var o=V.head(e);Dt.isLi(o)?n.releaseList([e]):w.each(e,function(t,e){w(e).css("marginLeft",function(t,e){return 25<(e=parseInt(e,10)||0)?e-25:""})})}),e.select()},Xt.prototype.toggleList=function(o,t){var n=this,e=qt.create(t).wrapBodyInlineWithPara(),i=e.nodes(Dt.isPara,{includeAncestor:!0}),r=e.paraBookmark(i),a=V.clusterBy(i,O.peq2("parentNode"));if(V.find(i,Dt.isPurePara)){var s=[];w.each(a,function(t,e){s=s.concat(n.wrapList(e,o))}),i=s}else{var l=e.nodes(Dt.isList,{includeAncestor:!0}).filter(function(t){return!w.nodeName(t,o)});l.length?w.each(l,function(t,e){Dt.replace(e,o)}):i=this.releaseList(a,!0)}qt.createFromParaBookmark(r,i).select()},Xt.prototype.wrapList=function(t,e){var o=V.head(t),n=V.last(t),i=Dt.isList(o.previousSibling)&&o.previousSibling,r=Dt.isList(n.nextSibling)&&n.nextSibling,a=i||Dt.insertAfter(Dt.create(e||"UL"),n);return t=t.map(function(t){return Dt.isPurePara(t)?Dt.replace(t,"LI"):t}),Dt.appendChildNodes(a,t),r&&(Dt.appendChildNodes(a,V.from(r.childNodes)),Dt.remove(r)),t},Xt.prototype.releaseList=function(t,c){var d=this,u=[];return w.each(t,function(t,e){var o=V.head(e),n=V.last(e),i=c?Dt.lastAncestor(o,Dt.isList):o.parentNode,r=i.parentNode;if("LI"===i.parentNode.nodeName)e.map(function(t){var e=d.findNextSiblings(t);r.nextSibling?r.parentNode.insertBefore(t,r.nextSibling):r.parentNode.appendChild(t),e.length&&(d.wrapList(e,i.nodeName),t.appendChild(e[0].parentNode))}),0===i.children.length&&r.removeChild(i),0===r.childNodes.length&&r.parentNode.removeChild(r);else{var a=1<i.childNodes.length?Dt.splitTree(i,{node:n.parentNode,offset:Dt.position(n)+1},{isSkipPaddingBlankHTML:!0}):null,s=Dt.splitTree(i,{node:o.parentNode,offset:Dt.position(o)},{isSkipPaddingBlankHTML:!0});e=c?Dt.listDescendant(s,Dt.isLi):V.from(s.childNodes).filter(Dt.isLi),!c&&Dt.isList(i.parentNode)||(e=e.map(function(t){return Dt.replace(t,"P")})),w.each(V.from(e).reverse(),function(t,e){Dt.insertAfter(e,i)});var l=V.compact([i,s,a]);w.each(l,function(t,e){var o=[e].concat(Dt.listDescendant(e,Dt.isList));w.each(o.reverse(),function(t,e){Dt.nodeLength(e)||Dt.remove(e,!0)})})}u=u.concat(e)}),u},Xt.prototype.appendToPrevious=function(t){return t.previousSibling?Dt.appendChildNodes(t.previousSibling,[t]):this.wrapList([t],"LI")},Xt.prototype.findList=function(t){return t?V.find(t.children,function(t){return-1<["OL","UL"].indexOf(t.nodeName)}):null},Xt.prototype.findNextSiblings=function(t){for(var e=[];t.nextSibling;)e.push(t.nextSibling),t=t.nextSibling;return e},Xt);function Xt(){}var Zt=(Qt.prototype.insertTab=function(t,e){var o=Dt.createText(new Array(e+1).join(Dt.NBSP_CHAR));(t=t.deleteContents()).insertNode(o,!0),(t=qt.create(o,e)).select()},Qt.prototype.insertParagraph=function(t,e){e=(e=(e=e||qt.create(t)).deleteContents()).wrapBodyInlineWithPara();var o,n=Dt.ancestor(e.sc,Dt.isPara);if(n){if(Dt.isEmpty(n)&&Dt.isLi(n))return void this.bullet.toggleList(n.parentNode.nodeName);var i=null;if(1===this.options.blockquoteBreakingLevel?i=Dt.ancestor(n,Dt.isBlockquote):2===this.options.blockquoteBreakingLevel&&(i=Dt.lastAncestor(n,Dt.isBlockquote)),i){o=w(Dt.emptyPara)[0],Dt.isRightEdgePoint(e.getStartPoint())&&Dt.isBR(e.sc.nextSibling)&&w(e.sc.nextSibling).remove();var r=Dt.splitTree(i,e.getStartPoint(),{isDiscardEmptySplits:!0});r?r.parentNode.insertBefore(o,r):Dt.insertAfter(o,i)}else{o=Dt.splitTree(n,e.getStartPoint());var a=Dt.listDescendant(n,Dt.isEmptyAnchor);a=a.concat(Dt.listDescendant(o,Dt.isEmptyAnchor)),w.each(a,function(t,e){Dt.remove(e)}),(Dt.isHeading(o)||Dt.isPre(o)||Dt.isCustomStyleTag(o))&&Dt.isEmpty(o)&&(o=Dt.replace(o,"p"))}}else{var s=e.sc.childNodes[e.so];o=w(Dt.emptyPara)[0],s?e.sc.insertBefore(o,s):e.sc.appendChild(o)}qt.create(o,0).normalize().select().scrollIntoView(t)},Qt);function Qt(t){this.bullet=new Yt,this.options=t.options}var Jt=function(t,h,p,i){var f={colPos:0,rowPos:0},m=[],g=[];function v(t,e,o,n,i,r,a){var s={baseRow:o,baseCell:n,isRowSpan:i,isColSpan:r,isVirtual:a};m[t]||(m[t]=[]),m[t][e]=s}function b(t,e){if(!m[t])return e;if(!m[t][e])return e;for(var o=e;m[t][o];)if(o++,!m[t][o])return o}function r(t,e){var o=b(t.rowIndex,e.cellIndex),n=1<e.colSpan,i=1<e.rowSpan,r=t.rowIndex===f.rowPos&&e.cellIndex===f.colPos;v(t.rowIndex,o,t,e,i,n,!1);var a=e.attributes.rowSpan?parseInt(e.attributes.rowSpan.value,10):0;if(1<a)for(var s=1;s<a;s++){var l=t.rowIndex+s;y(l,o,e,r),v(l,o,t,e,!0,n,!0)}var c=e.attributes.colSpan?parseInt(e.attributes.colSpan.value,10):0;if(1<c)for(var d=1;d<c;d++){var u=b(t.rowIndex,o+d);y(t.rowIndex,u,e,r),v(t.rowIndex,u,t,e,i,!0,!0)}}function y(t,e,o,n){t===f.rowPos&&f.colPos>=o.cellIndex&&o.cellIndex<=e&&!n&&f.colPos++}function x(t){switch(h){case Jt.where.Column:if(t.isColSpan)return Jt.resultAction.SubtractSpanCount;break;case Jt.where.Row:if(!t.isVirtual&&t.isRowSpan)return Jt.resultAction.AddCell;if(t.isRowSpan)return Jt.resultAction.SubtractSpanCount}return Jt.resultAction.RemoveCell}function w(t){switch(h){case Jt.where.Column:if(t.isColSpan)return Jt.resultAction.SumSpanCount;if(t.isRowSpan&&t.isVirtual)return Jt.resultAction.Ignore;break;case Jt.where.Row:if(t.isRowSpan)return Jt.resultAction.SumSpanCount;if(t.isColSpan&&t.isVirtual)return Jt.resultAction.Ignore}return Jt.resultAction.AddCell}this.getActionList=function(){for(var t,e,o,n=h===Jt.where.Row?f.rowPos:-1,i=h===Jt.where.Column?f.colPos:-1,r=0,a=!0;a;){var s=0<=n?n:r,l=0<=i?i:r,c=m[s];if(!c)return a=!1,g;var d=c[l];if(!d)return a=!1,g;var u=Jt.resultAction.Ignore;switch(p){case Jt.requestAction.Add:u=w(d);break;case Jt.requestAction.Delete:u=x(d)}g.push((t=u,e=s,o=l,{baseCell:d.baseCell,action:t,virtualTable:{rowIndex:e,cellIndex:o}})),r++}return g},t&&t.tagName&&("td"===t.tagName.toLowerCase()||"th"===t.tagName.toLowerCase())?(f.colPos=t.cellIndex,t.parentElement&&t.parentElement.tagName&&"tr"===t.parentElement.tagName.toLowerCase()?f.rowPos=t.parentElement.rowIndex:console.error("Impossible to identify start Row point.",t)):console.error("Impossible to identify start Cell point.",t),function(){for(var t=i.rows,e=0;e<t.length;e++)for(var o=t[e].cells,n=0;n<o.length;n++)r(t[e],o[n])}()};Jt.where={Row:0,Column:1},Jt.requestAction={Add:0,Delete:1},Jt.resultAction={Ignore:0,SubtractSpanCount:1,RemoveCell:2,AddCell:3,SumSpanCount:4};var te=(ee.prototype.tab=function(t,e){var o=Dt.ancestor(t.commonAncestor(),Dt.isCell),n=Dt.ancestor(o,Dt.isTable),i=Dt.listDescendant(n,Dt.isCell),r=V[e?"prev":"next"](i,o);r&&qt.create(r,0).select()},ee.prototype.addRow=function(t,e){for(var o=Dt.ancestor(t.commonAncestor(),Dt.isCell),n=w(o).closest("tr"),i=this.recoverAttributes(n),r=w("<tr"+i+"></tr>"),a=new Jt(o,Jt.where.Row,Jt.requestAction.Add,w(n).closest("table")[0]).getActionList(),s=0;s<a.length;s++){var l=a[s],c=this.recoverAttributes(l.baseCell);switch(l.action){case Jt.resultAction.AddCell:r.append("<td"+c+">"+Dt.blank+"</td>");break;case Jt.resultAction.SumSpanCount:if("top"===e&&(l.baseCell.parent?l.baseCell.closest("tr").rowIndex:0)<=n[0].rowIndex){var d=w("<div></div>").append(w("<td"+c+">"+Dt.blank+"</td>").removeAttr("rowspan")).html();r.append(d);break}var u=parseInt(l.baseCell.rowSpan,10);u++,l.baseCell.setAttribute("rowSpan",u)}}if("top"===e)n.before(r);else{if(1<o.rowSpan){var h=n[0].rowIndex+(o.rowSpan-2);return void w(w(n).parent().find("tr")[h]).after(w(r))}n.after(r)}},ee.prototype.addCol=function(t,e){var o=Dt.ancestor(t.commonAncestor(),Dt.isCell),n=w(o).closest("tr");w(n).siblings().push(n);for(var i=new Jt(o,Jt.where.Column,Jt.requestAction.Add,w(n).closest("table")[0]).getActionList(),r=0;r<i.length;r++){var a=i[r],s=this.recoverAttributes(a.baseCell);switch(a.action){case Jt.resultAction.AddCell:"right"===e?w(a.baseCell).after("<td"+s+">"+Dt.blank+"</td>"):w(a.baseCell).before("<td"+s+">"+Dt.blank+"</td>");break;case Jt.resultAction.SumSpanCount:if("right"===e){var l=parseInt(a.baseCell.colSpan,10);l++,a.baseCell.setAttribute("colSpan",l)}else w(a.baseCell).before("<td"+s+">"+Dt.blank+"</td>")}}},ee.prototype.recoverAttributes=function(t){var e="";if(!t)return e;for(var o=t.attributes||[],n=0;n<o.length;n++)"id"!==o[n].name.toLowerCase()&&o[n].specified&&(e+=" "+o[n].name+"='"+o[n].value+"'");return e},ee.prototype.deleteRow=function(t){for(var e=Dt.ancestor(t.commonAncestor(),Dt.isCell),o=w(e).closest("tr"),n=o.children("td, th").index(w(e)),i=o[0].rowIndex,r=new Jt(e,Jt.where.Row,Jt.requestAction.Delete,w(o).closest("table")[0]).getActionList(),a=0;a<r.length;a++)if(r[a]){var s=r[a].baseCell,l=r[a].virtualTable,c=s.rowSpan&&1<s.rowSpan,d=c?parseInt(s.rowSpan,10):0;switch(r[a].action){case Jt.resultAction.Ignore:continue;case Jt.resultAction.AddCell:var u=o.next("tr")[0];if(!u)continue;var h=o[0].cells[n];c&&(2<d?(d--,u.insertBefore(h,u.cells[n]),u.cells[n].setAttribute("rowSpan",d),u.cells[n].innerHTML=""):2===d&&(u.insertBefore(h,u.cells[n]),u.cells[n].removeAttribute("rowSpan"),u.cells[n].innerHTML=""));continue;case Jt.resultAction.SubtractSpanCount:c&&(2<d?(d--,s.setAttribute("rowSpan",d),l.rowIndex!==i&&s.cellIndex===n&&(s.innerHTML="")):2===d&&(s.removeAttribute("rowSpan"),l.rowIndex!==i&&s.cellIndex===n&&(s.innerHTML="")));continue;case Jt.resultAction.RemoveCell:continue}}o.remove()},ee.prototype.deleteCol=function(t){for(var e=Dt.ancestor(t.commonAncestor(),Dt.isCell),o=w(e).closest("tr"),n=o.children("td, th").index(w(e)),i=new Jt(e,Jt.where.Column,Jt.requestAction.Delete,w(o).closest("table")[0]).getActionList(),r=0;r<i.length;r++)if(i[r])switch(i[r].action){case Jt.resultAction.Ignore:continue;case Jt.resultAction.SubtractSpanCount:var a=i[r].baseCell;if(a.colSpan&&1<a.colSpan){var s=a.colSpan?parseInt(a.colSpan,10):0;2<s?(s--,a.setAttribute("colSpan",s),a.cellIndex===n&&(a.innerHTML="")):2===s&&(a.removeAttribute("colSpan"),a.cellIndex===n&&(a.innerHTML=""))}continue;case Jt.resultAction.RemoveCell:Dt.remove(i[r].baseCell,!0);continue}},ee.prototype.createTable=function(t,e,o){for(var n,i=[],r=0;r<t;r++)i.push("<td>"+Dt.blank+"</td>");n=i.join("");for(var a,s=[],l=0;l<e;l++)s.push("<tr>"+n+"</tr>");a=s.join("");var c=w("<table>"+a+"</table>");return o&&o.tableClassName&&c.addClass(o.tableClassName),c[0]},ee.prototype.deleteTable=function(t){var e=Dt.ancestor(t.commonAncestor(),Dt.isCell);w(e).closest("table").remove()},ee);function ee(){}var oe=(ne.prototype.initialize=function(){var e=this;this.$editable.on("keydown",function(t){if(t.keyCode===Wt.code.ENTER&&e.context.triggerEvent("enter",t),e.context.triggerEvent("keydown",t),t.isDefaultPrevented()||(e.options.shortcuts?e.handleKeyMap(t):e.preventDefaultEditableShortCuts(t)),e.isLimited(1,t))return!1}).on("keyup",function(t){e.setLastRange(),e.context.triggerEvent("keyup",t)}).on("focus",function(t){e.setLastRange(),e.context.triggerEvent("focus",t)}).on("blur",function(t){e.context.triggerEvent("blur",t)}).on("mousedown",function(t){e.context.triggerEvent("mousedown",t)}).on("mouseup",function(t){e.setLastRange(),e.context.triggerEvent("mouseup",t)}).on("scroll",function(t){e.context.triggerEvent("scroll",t)}).on("paste",function(t){e.setLastRange(),e.context.triggerEvent("paste",t)}),this.$editable.attr("spellcheck",this.options.spellCheck),this.$editable.html(Dt.html(this.$note)||Dt.emptyPara),this.$editable.on(z.inputEventName,O.debounce(function(){e.context.triggerEvent("change",e.$editable.html(),e.$editable)},10)),this.$editor.on("focusin",function(t){e.context.triggerEvent("focusin",t)}).on("focusout",function(t){e.context.triggerEvent("focusout",t)}),this.options.airMode||(this.options.width&&this.$editor.outerWidth(this.options.width),this.options.height&&this.$editable.outerHeight(this.options.height),this.options.maxHeight&&this.$editable.css("max-height",this.options.maxHeight),this.options.minHeight&&this.$editable.css("min-height",this.options.minHeight)),this.history.recordUndo(),this.setLastRange()},ne.prototype.destroy=function(){this.$editable.off()},ne.prototype.handleKeyMap=function(t){var e=this.options.keyMap[z.isMac?"mac":"pc"],o=[];t.metaKey&&o.push("CMD"),t.ctrlKey&&!t.altKey&&o.push("CTRL"),t.shiftKey&&o.push("SHIFT");var n=Wt.nameFromCode[t.keyCode];n&&o.push(n);var i=e[o.join("+")];i?!1!==this.context.invoke(i)&&t.preventDefault():Wt.isEdit(t.keyCode)&&this.afterCommand()},ne.prototype.preventDefaultEditableShortCuts=function(t){(t.ctrlKey||t.metaKey)&&V.contains([66,73,85],t.keyCode)&&t.preventDefault()},ne.prototype.isLimited=function(t,e){return t=t||0,(void 0===e||!(Wt.isMove(e.keyCode)||e.ctrlKey||e.metaKey||V.contains([Wt.code.BACKSPACE,Wt.code.DELETE],e.keyCode)))&&0<this.options.maxTextLength&&this.$editable.text().length+t>=this.options.maxTextLength},ne.prototype.createRange=function(){return this.focus(),this.setLastRange(),this.getLastRange()},ne.prototype.setLastRange=function(){this.lastRange=qt.create(this.editable)},ne.prototype.getLastRange=function(){return this.lastRange||this.setLastRange(),this.lastRange},ne.prototype.saveRange=function(t){t&&this.getLastRange().collapse().select()},ne.prototype.restoreRange=function(){this.lastRange&&(this.lastRange.select(),this.focus())},ne.prototype.saveTarget=function(t){this.$editable.data("target",t)},ne.prototype.clearTarget=function(){this.$editable.removeData("target")},ne.prototype.restoreTarget=function(){return this.$editable.data("target")},ne.prototype.currentStyle=function(){var t=qt.create();return(t=t&&t.normalize())?this.style.current(t):this.style.fromNode(this.$editable)},ne.prototype.styleFromNode=function(t){return this.style.fromNode(t)},ne.prototype.undo=function(){this.context.triggerEvent("before.command",this.$editable.html()),this.history.undo(),this.context.triggerEvent("change",this.$editable.html(),this.$editable)},ne.prototype.commit=function(){this.context.triggerEvent("before.command",this.$editable.html()),this.history.commit(),this.context.triggerEvent("change",this.$editable.html(),this.$editable)},ne.prototype.redo=function(){this.context.triggerEvent("before.command",this.$editable.html()),this.history.redo(),this.context.triggerEvent("change",this.$editable.html(),this.$editable)},ne.prototype.beforeCommand=function(){this.context.triggerEvent("before.command",this.$editable.html()),this.focus()},ne.prototype.afterCommand=function(t){this.normalizeContent(),this.history.recordUndo(),t||this.context.triggerEvent("change",this.$editable.html(),this.$editable)},ne.prototype.tab=function(){var t=this.getLastRange();if(t.isCollapsed()&&t.isOnCell())this.table.tab(t);else{if(0===this.options.tabSize)return!1;this.isLimited(this.options.tabSize)||(this.beforeCommand(),this.typing.insertTab(t,this.options.tabSize),this.afterCommand())}},ne.prototype.untab=function(){var t=this.getLastRange();if(t.isCollapsed()&&t.isOnCell())this.table.tab(t,!0);else if(0===this.options.tabSize)return!1},ne.prototype.wrapCommand=function(t){return function(){this.beforeCommand(),t.apply(this,arguments),this.afterCommand()}},ne.prototype.insertImage=function(t,e){var o=this;return function(o){return w.Deferred(function(t){var e=w("<img>");e.one("load",function(){e.off("error abort"),t.resolve(e)}).one("error abort",function(){e.off("load").detach(),t.reject(e)}).css({display:"none"}).appendTo(document.body).attr("src",o)}).promise()}(t).then(function(t){o.beforeCommand(),"function"==typeof e?e(t):("string"==typeof e&&t.attr("data-filename",e),t.css("width",Math.min(o.$editable.width(),t.width()))),t.show(),qt.create(o.editable).insertNode(t[0]),qt.createFromNodeAfter(t[0]).select(),o.setLastRange(),o.afterCommand()}).fail(function(t){o.context.triggerEvent("image.upload.error",t)})},ne.prototype.insertImagesAsDataURL=function(t){var n=this;w.each(t,function(t,e){var o=e.name;n.options.maximumImageFileSize&&n.options.maximumImageFileSize<e.size?n.context.triggerEvent("image.upload.error",n.lang.image.maximumFileSizeError):function(t){return w.Deferred(function(o){w.extend(new FileReader,{onload:function(t){var e=t.target.result;o.resolve(e)},onerror:function(t){o.reject(t)}}).readAsDataURL(t)}).promise()}(e).then(function(t){return n.insertImage(t,o)}).fail(function(){n.context.triggerEvent("image.upload.error")})})},ne.prototype.insertImagesOrCallback=function(t){this.options.callbacks.onImageUpload?this.context.triggerEvent("image.upload",t):this.insertImagesAsDataURL(t)},ne.prototype.getSelectedText=function(){var t=this.getLastRange();return t.isOnAnchor()&&(t=qt.createFromNode(Dt.ancestor(t.sc,Dt.isAnchor))),t.toString()},ne.prototype.onFormatBlock=function(t,e){if(document.execCommand("FormatBlock",!1,z.isMSIE?"<"+t+">":t),e&&e.length&&(e[0].tagName.toUpperCase()!==t.toUpperCase()&&(e=e.find(t)),e&&e.length)){var o=e[0].className||"";if(o){var n=this.createRange();w([n.sc,n.ec]).closest(t).addClass(o)}}},ne.prototype.formatPara=function(){this.formatBlock("P")},ne.prototype.fontStyling=function(t,e){var o=this.getLastRange();if(o){var n=this.style.styleNodes(o);if(w(n).css(t,e),o.isCollapsed()){var i=V.head(n);i&&!Dt.nodeLength(i)&&(i.innerHTML=Dt.ZERO_WIDTH_NBSP_CHAR,qt.createFromNodeAfter(i.firstChild).select(),this.setLastRange(),this.$editable.data("bogus",i))}}},ne.prototype.unlink=function(){var t=this.getLastRange();if(t.isOnAnchor()){var e=Dt.ancestor(t.sc,Dt.isAnchor);(t=qt.createFromNode(e)).select(),this.setLastRange(),this.beforeCommand(),document.execCommand("unlink"),this.afterCommand()}},ne.prototype.getLinkInfo=function(){var t=this.getLastRange().expand(Dt.isAnchor),e=w(V.head(t.nodes(Dt.isAnchor))),o={range:t,text:t.toString(),url:e.length?e.attr("href"):""};return e.length&&(o.isNewWindow="_blank"===e.attr("target")),o},ne.prototype.addRow=function(t){var e=this.getLastRange(this.$editable);e.isCollapsed()&&e.isOnCell()&&(this.beforeCommand(),this.table.addRow(e,t),this.afterCommand())},ne.prototype.addCol=function(t){var e=this.getLastRange(this.$editable);e.isCollapsed()&&e.isOnCell()&&(this.beforeCommand(),this.table.addCol(e,t),this.afterCommand())},ne.prototype.deleteRow=function(){var t=this.getLastRange(this.$editable);t.isCollapsed()&&t.isOnCell()&&(this.beforeCommand(),this.table.deleteRow(t),this.afterCommand())},ne.prototype.deleteCol=function(){var t=this.getLastRange(this.$editable);t.isCollapsed()&&t.isOnCell()&&(this.beforeCommand(),this.table.deleteCol(t),this.afterCommand())},ne.prototype.deleteTable=function(){var t=this.getLastRange(this.$editable);t.isCollapsed()&&t.isOnCell()&&(this.beforeCommand(),this.table.deleteTable(t),this.afterCommand())},ne.prototype.resizeTo=function(t,e,o){var n;if(o){var i=t.y/t.x,r=e.data("ratio");n={width:i<r?t.x:t.y/r,height:i<r?t.x*r:t.y}}else n={width:t.x,height:t.y};e.css(n)},ne.prototype.hasFocus=function(){return this.$editable.is(":focus")},ne.prototype.focus=function(){this.hasFocus()||this.$editable.focus()},ne.prototype.isEmpty=function(){return Dt.isEmpty(this.$editable[0])||Dt.emptyPara===this.$editable.html()},ne.prototype.empty=function(){this.context.invoke("code",Dt.emptyPara)},ne.prototype.normalizeContent=function(){this.$editable[0].normalize()},ne);function ne(t){var u=this;this.context=t,this.$note=t.layoutInfo.note,this.$editor=t.layoutInfo.editor,this.$editable=t.layoutInfo.editable,this.options=t.options,this.lang=this.options.langInfo,this.editable=this.$editable[0],this.lastRange=null,this.style=new Kt,this.table=new te,this.typing=new Zt(t),this.bullet=new Yt,this.history=new Vt(this.$editable),this.context.memo("help.undo",this.lang.help.undo),this.context.memo("help.redo",this.lang.help.redo),this.context.memo("help.tab",this.lang.help.tab),this.context.memo("help.untab",this.lang.help.untab),this.context.memo("help.insertParagraph",this.lang.help.insertParagraph),this.context.memo("help.insertOrderedList",this.lang.help.insertOrderedList),this.context.memo("help.insertUnorderedList",this.lang.help.insertUnorderedList),this.context.memo("help.indent",this.lang.help.indent),this.context.memo("help.outdent",this.lang.help.outdent),this.context.memo("help.formatPara",this.lang.help.formatPara),this.context.memo("help.insertHorizontalRule",this.lang.help.insertHorizontalRule),this.context.memo("help.fontName",this.lang.help.fontName);for(var e=["bold","italic","underline","strikethrough","superscript","subscript","justifyLeft","justifyCenter","justifyRight","justifyFull","formatBlock","removeFormat","backColor"],o=0,n=e.length;o<n;o++)this[e[o]]=function(e){return function(t){u.beforeCommand(),document.execCommand(e,!1,t),u.afterCommand(!0)}}(e[o]),this.context.memo("help."+e[o],this.lang.help[e[o]]);this.fontName=this.wrapCommand(function(t){return u.fontStyling("font-family","'"+t+"'")}),this.fontSize=this.wrapCommand(function(t){return u.fontStyling("font-size",t+"px")});for(o=1;o<=6;o++)this["formatH"+o]=function(t){return function(){u.formatBlock("H"+t)}}(o),this.context.memo("help.formatH"+o,this.lang.help["formatH"+o]);this.insertParagraph=this.wrapCommand(function(){u.typing.insertParagraph(u.editable)}),this.insertOrderedList=this.wrapCommand(function(){u.bullet.insertOrderedList(u.editable)}),this.insertUnorderedList=this.wrapCommand(function(){u.bullet.insertUnorderedList(u.editable)}),this.indent=this.wrapCommand(function(){u.bullet.indent(u.editable)}),this.outdent=this.wrapCommand(function(){u.bullet.outdent(u.editable)}),this.insertNode=this.wrapCommand(function(t){u.isLimited(w(t).text().length)||(u.getLastRange().insertNode(t),qt.createFromNodeAfter(t).select(),u.setLastRange())}),this.insertText=this.wrapCommand(function(t){if(!u.isLimited(t.length)){var e=u.getLastRange().insertNode(Dt.createText(t));qt.create(e,Dt.nodeLength(e)).select(),u.setLastRange()}}),this.pasteHTML=this.wrapCommand(function(t){if(!u.isLimited(t.length)){t=u.context.invoke("codeview.purify",t);var e=u.getLastRange().pasteHTML(t);qt.createFromNodeAfter(V.last(e)).select(),u.setLastRange()}}),this.formatBlock=this.wrapCommand(function(t,e){var o=u.options.callbacks.onApplyCustomStyle;o?o.call(u,e,u.context,u.onFormatBlock):u.onFormatBlock(t,e)}),this.insertHorizontalRule=this.wrapCommand(function(){var t=u.getLastRange().insertNode(Dt.create("HR"));t.nextSibling&&(qt.create(t.nextSibling,0).normalize().select(),u.setLastRange())}),this.lineHeight=this.wrapCommand(function(t){u.style.stylePara(u.getLastRange(),{lineHeight:t})}),this.createLink=this.wrapCommand(function(t){var o=t.url,e=t.text,n=t.isNewWindow,i=t.range||u.getLastRange(),r=e.length-i.toString().length;if(!(0<r&&u.isLimited(r))){var a=i.toString()!==e;"string"==typeof o&&(o=o.trim()),o=u.options.onCreateLink?u.options.onCreateLink(o):/^([A-Za-z][A-Za-z0-9+-.]*\:|#|\/)/.test(o)?o:"http://"+o;var s=[];if(a){var l=(i=i.deleteContents()).insertNode(w("<A>"+e+"</A>")[0]);s.push(l)}else s=u.style.styleNodes(i,{nodeName:"A",expandClosestSibling:!0,onlyPartialContains:!0});w.each(s,function(t,e){w(e).attr("href",o),n?w(e).attr("target","_blank"):w(e).removeAttr("target")});var c=qt.createFromNodeBefore(V.head(s)).getStartPoint(),d=qt.createFromNodeAfter(V.last(s)).getEndPoint();qt.create(c.node,c.offset,d.node,d.offset).select(),u.setLastRange()}}),this.color=this.wrapCommand(function(t){var e=t.foreColor,o=t.backColor;e&&document.execCommand("foreColor",!1,e),o&&document.execCommand("backColor",!1,o)}),this.foreColor=this.wrapCommand(function(t){document.execCommand("styleWithCSS",!1,!0),document.execCommand("foreColor",!1,t)}),this.insertTable=this.wrapCommand(function(t){var e=t.split("x");u.getLastRange().deleteContents().insertNode(u.table.createTable(e[0],e[1],u.options))}),this.removeMedia=this.wrapCommand(function(){var t=w(u.restoreTarget()).parent();t.parent("figure").length?t.parent("figure").remove():t=w(u.restoreTarget()).detach(),u.context.triggerEvent("media.delete",t,u.$editable)}),this.floatMe=this.wrapCommand(function(t){var e=w(u.restoreTarget());e.toggleClass("note-float-left","left"===t),e.toggleClass("note-float-right","right"===t),e.css("float","none"===t?"":t)}),this.resize=this.wrapCommand(function(t){var e=w(u.restoreTarget());0===(t=parseFloat(t))?e.css("width",""):e.css({width:100*t+"%",height:""})})}var ie=(re.prototype.initialize=function(){this.$editable.on("paste",this.pasteByEvent.bind(this))},re.prototype.pasteByEvent=function(t){var e=t.originalEvent.clipboardData;if(e&&e.items&&e.items.length){var o=1<e.items.length?e.items[1]:V.head(e.items);"file"===o.kind&&-1!==o.type.indexOf("image/")&&this.context.invoke("editor.insertImagesOrCallback",[o.getAsFile()]),this.context.invoke("editor.afterCommand")}},re);function re(t){this.context=t,this.$editable=t.layoutInfo.editable}var ae,se=(le.prototype.initialize=function(){this.options.disableDragAndDrop?(this.documentEventHandlers.onDrop=function(t){t.preventDefault()},this.$eventListener=this.$dropzone,this.$eventListener.on("drop",this.documentEventHandlers.onDrop)):this.attachDragAndDropEvent()},le.prototype.attachDragAndDropEvent=function(){var i=this,n=w(),r=this.$dropzone.find(".note-dropzone-message");this.documentEventHandlers.onDragenter=function(t){var e=i.context.invoke("codeview.isActivated"),o=0<i.$editor.width()&&0<i.$editor.height();e||n.length||!o||(i.$editor.addClass("dragover"),i.$dropzone.width(i.$editor.width()),i.$dropzone.height(i.$editor.height()),r.text(i.lang.image.dragImageHere)),n=n.add(t.target)},this.documentEventHandlers.onDragleave=function(t){(n=n.not(t.target)).length||i.$editor.removeClass("dragover")},this.documentEventHandlers.onDrop=function(){n=w(),i.$editor.removeClass("dragover")},this.$eventListener.on("dragenter",this.documentEventHandlers.onDragenter).on("dragleave",this.documentEventHandlers.onDragleave).on("drop",this.documentEventHandlers.onDrop),this.$dropzone.on("dragenter",function(){i.$dropzone.addClass("hover"),r.text(i.lang.image.dropImage)}).on("dragleave",function(){i.$dropzone.removeClass("hover"),r.text(i.lang.image.dragImageHere)}),this.$dropzone.on("drop",function(t){var n=t.originalEvent.dataTransfer;t.preventDefault(),n&&n.files&&n.files.length?(i.$editable.focus(),i.context.invoke("editor.insertImagesOrCallback",n.files)):w.each(n.types,function(t,e){var o=n.getData(e);-1<e.toLowerCase().indexOf("text")?i.context.invoke("editor.pasteHTML",o):w(o).each(function(t,e){i.context.invoke("editor.insertNode",e)})})}).on("dragover",!1)},le.prototype.destroy=function(){var e=this;Object.keys(this.documentEventHandlers).forEach(function(t){e.$eventListener.off(t.substr(2).toLowerCase(),e.documentEventHandlers[t])}),this.documentEventHandlers={}},le);function le(t){this.context=t,this.$eventListener=w(document),this.$editor=t.layoutInfo.editor,this.$editable=t.layoutInfo.editable,this.options=t.options,this.lang=this.options.langInfo,this.documentEventHandlers={},this.$dropzone=w(['<div class="note-dropzone">','  <div class="note-dropzone-message"/>',"</div>"].join("")).prependTo(this.$editor)}z.hasCodeMirror&&(ae=window.CodeMirror);var ce=(de.prototype.sync=function(){this.isActivated()&&z.hasCodeMirror&&this.$codable.data("cmEditor").save()},de.prototype.isActivated=function(){return this.$editor.hasClass("codeview")},de.prototype.toggle=function(){this.isActivated()?this.deactivate():this.activate(),this.context.triggerEvent("codeview.toggled")},de.prototype.purify=function(t){if(this.options.codeviewFilter&&(t=t.replace(this.options.codeviewFilterRegex,""),this.options.codeviewIframeFilter)){var i=this.options.codeviewIframeWhitelistSrc.concat(this.options.codeviewIframeWhitelistSrcBase);t=t.replace(/(<iframe.*?>.*?(?:<\/iframe>)?)/gi,function(t){if(/<.+src(?==?('|"|\s)?)[\s\S]+src(?=('|"|\s)?)[^>]*?>/i.test(t))return"";for(var e=0,o=i;e<o.length;e++){var n=o[e];if(new RegExp('src="(https?:)?//'+n.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")+'/(.+)"').test(t))return t}return""})}return t},de.prototype.activate=function(){var e=this;if(this.$codable.val(Dt.html(this.$editable,this.options.prettifyHtml)),this.$codable.height(this.$editable.height()),this.context.invoke("toolbar.updateCodeview",!0),this.$editor.addClass("codeview"),this.$codable.focus(),z.hasCodeMirror){var o=ae.fromTextArea(this.$codable[0],this.options.codemirror);if(this.options.codemirror.tern){var n=new ae.TernServer(this.options.codemirror.tern);o.ternServer=n,o.on("cursorActivity",function(t){n.updateArgHints(t)})}o.on("blur",function(t){e.context.triggerEvent("blur.codeview",o.getValue(),t)}),o.on("change",function(t){e.context.triggerEvent("change.codeview",o.getValue(),o)}),o.setSize(null,this.$editable.outerHeight()),this.$codable.data("cmEditor",o)}else this.$codable.on("blur",function(t){e.context.triggerEvent("blur.codeview",e.$codable.val(),t)}),this.$codable.on("input",function(t){e.context.triggerEvent("change.codeview",e.$codable.val(),e.$codable)})},de.prototype.deactivate=function(){if(z.hasCodeMirror){var t=this.$codable.data("cmEditor");this.$codable.val(t.getValue()),t.toTextArea()}var e=this.purify(Dt.value(this.$codable,this.options.prettifyHtml)||Dt.emptyPara),o=this.$editable.html()!==e;this.$editable.html(e),this.$editable.height(this.options.height?this.$codable.height():"auto"),this.$editor.removeClass("codeview"),o&&this.context.triggerEvent("change",this.$editable.html(),this.$editable),this.$editable.focus(),this.context.invoke("toolbar.updateCodeview",!1)},de.prototype.destroy=function(){this.isActivated()&&this.deactivate()},de);function de(t){this.context=t,this.$editor=t.layoutInfo.editor,this.$editable=t.layoutInfo.editable,this.$codable=t.layoutInfo.codable,this.options=t.options}var ue=(he.prototype.initialize=function(){var n=this;this.options.airMode||this.options.disableResizeEditor?this.destroy():this.$statusbar.on("mousedown",function(t){function e(t){var e=t.clientY-(24+o);e=0<n.options.minheight?Math.max(e,n.options.minheight):e,e=0<n.options.maxHeight?Math.min(e,n.options.maxHeight):e,n.$editable.height(e)}t.preventDefault(),t.stopPropagation();var o=n.$editable.offset().top-n.$document.scrollTop();n.$document.on("mousemove",e).one("mouseup",function(){n.$document.off("mousemove",e)})})},he.prototype.destroy=function(){this.$statusbar.off(),this.$statusbar.addClass("locked")},he);function he(t){this.$document=w(document),this.$statusbar=t.layoutInfo.statusbar,this.$editable=t.layoutInfo.editable,this.options=t.options}var pe=(fe.prototype.resizeTo=function(t){this.$editable.css("height",t.h),this.$codable.css("height",t.h),this.$codable.data("cmeditor")&&this.$codable.data("cmeditor").setsize(null,t.h)},fe.prototype.toggle=function(){this.$editor.toggleClass("fullscreen"),this.isFullscreen()?(this.$editable.data("orgHeight",this.$editable.css("height")),this.$editable.data("orgMaxHeight",this.$editable.css("maxHeight")),this.$editable.css("maxHeight",""),this.$window.on("resize",this.onResize).trigger("resize"),this.$scrollbar.css("overflow","hidden")):(this.$window.off("resize",this.onResize),this.resizeTo({h:this.$editable.data("orgHeight")}),this.$editable.css("maxHeight",this.$editable.css("orgMaxHeight")),this.$scrollbar.css("overflow","visible")),this.context.invoke("toolbar.updateFullscreen",this.isFullscreen())},fe.prototype.isFullscreen=function(){return this.$editor.hasClass("fullscreen")},fe);function fe(t){var e=this;this.context=t,this.$editor=t.layoutInfo.editor,this.$toolbar=t.layoutInfo.toolbar,this.$editable=t.layoutInfo.editable,this.$codable=t.layoutInfo.codable,this.$window=w(window),this.$scrollbar=w("html, body"),this.onResize=function(){e.resizeTo({h:e.$window.height()-e.$toolbar.outerHeight()})}}var me=(ge.prototype.initialize=function(){var r=this;this.$handle=w(['<div class="note-handle">','<div class="note-control-selection">','<div class="note-control-selection-bg"></div>','<div class="note-control-holder note-control-nw"></div>','<div class="note-control-holder note-control-ne"></div>','<div class="note-control-holder note-control-sw"></div>','<div class="',this.options.disableResizeImage?"note-control-holder":"note-control-sizing",' note-control-se"></div>',this.options.disableResizeImage?"":'<div class="note-control-selection-info"></div>',"</div>","</div>"].join("")).prependTo(this.$editingArea),this.$handle.on("mousedown",function(t){if(Dt.isControlSizing(t.target)){t.preventDefault(),t.stopPropagation();var e=r.$handle.find(".note-control-selection").data("target"),o=e.offset(),n=r.$document.scrollTop(),i=function(t){r.context.invoke("editor.resizeTo",{x:t.clientX-o.left,y:t.clientY-(o.top-n)},e,!t.shiftKey),r.update(e[0])};r.$document.on("mousemove",i).one("mouseup",function(t){t.preventDefault(),r.$document.off("mousemove",i),r.context.invoke("editor.afterCommand")}),e.data("ratio")||e.data("ratio",e.height()/e.width())}}),this.$handle.on("wheel",function(t){t.preventDefault(),r.update()})},ge.prototype.destroy=function(){this.$handle.remove()},ge.prototype.update=function(t,e){if(this.context.isDisabled())return!1;var o=Dt.isImg(t),n=this.$handle.find(".note-control-selection");if(this.context.invoke("imagePopover.update",t,e),o){var i=w(t),r=i.position(),a={left:r.left+parseInt(i.css("marginLeft"),10),top:r.top+parseInt(i.css("marginTop"),10)},s={w:i.outerWidth(!1),h:i.outerHeight(!1)};n.css({display:"block",left:a.left,top:a.top,width:s.w,height:s.h}).data("target",i);var l=new Image;l.src=i.attr("src");var c=s.w+"x"+s.h+" ("+this.lang.image.original+": "+l.width+"x"+l.height+")";n.find(".note-control-selection-info").text(c),this.context.invoke("editor.saveTarget",t)}else this.hide();return o},ge.prototype.hide=function(){this.context.invoke("editor.clearTarget"),this.$handle.children().hide()},ge);function ge(t){var o=this;this.context=t,this.$document=w(document),this.$editingArea=t.layoutInfo.editingArea,this.options=t.options,this.lang=this.options.langInfo,this.events={"summernote.mousedown":function(t,e){o.update(e.target,e)&&e.preventDefault()},"summernote.keyup summernote.scroll summernote.change summernote.dialog.shown":function(){o.update()},"summernote.disable":function(){o.hide()},"summernote.codeview.toggled":function(){o.update()}}}var ve=/^([A-Za-z][A-Za-z0-9+-.]*\:[\/]{2}|mailto:[A-Z0-9._%+-]+@)?(www\.)?(.+)$/i,be=(ye.prototype.initialize=function(){this.lastWordRange=null},ye.prototype.destroy=function(){this.lastWordRange=null},ye.prototype.replace=function(){if(this.lastWordRange){var t=this.lastWordRange.toString(),e=t.match(ve);if(e&&(e[1]||e[2])){var o=e[1]?t:"http://"+t,n=w("<a />").html(t).attr("href",o)[0];this.context.options.linkTargetBlank&&w(n).attr("target","_blank"),this.lastWordRange.insertNode(n),this.lastWordRange=null,this.context.invoke("editor.focus")}}},ye.prototype.handleKeydown=function(t){if(V.contains([Wt.code.ENTER,Wt.code.SPACE],t.keyCode)){var e=this.context.invoke("editor.createRange").getWordRange();this.lastWordRange=e}},ye.prototype.handleKeyup=function(t){V.contains([Wt.code.ENTER,Wt.code.SPACE],t.keyCode)&&this.replace()},ye);function ye(t){var o=this;this.context=t,this.events={"summernote.keyup":function(t,e){e.isDefaultPrevented()||o.handleKeyup(e)},"summernote.keydown":function(t,e){o.handleKeydown(e)}}}var xe=(we.prototype.shouldInitialize=function(){return Dt.isTextarea(this.$note[0])},we);function we(t){var e=this;this.$note=t.layoutInfo.note,this.events={"summernote.change":function(){e.$note.val(t.invoke("code"))}}}var Ce=(ke.prototype.shouldInitialize=function(){return!!this.options.match},ke.prototype.initialize=function(){this.lastWord=null},ke.prototype.destroy=function(){this.lastWord=null},ke.prototype.replace=function(){if(this.lastWord){var o=this,t=this.lastWord.toString();this.options.match(t,function(t){if(t){var e="";if("string"==typeof t?e=Dt.createText(t):t instanceof jQuery?e=t[0]:t instanceof Node&&(e=t),!e)return;o.lastWord.insertNode(e),o.lastWord=null,o.context.invoke("editor.focus")}})}},ke.prototype.handleKeydown=function(t){if(this.previousKeydownCode&&V.contains(this.keys,this.previousKeydownCode))this.previousKeydownCode=t.keyCode;else{if(V.contains(this.keys,t.keyCode)){var e=this.context.invoke("editor.createRange").getWordRange();this.lastWord=e}this.previousKeydownCode=t.keyCode}},ke.prototype.handleKeyup=function(t){V.contains(this.keys,t.keyCode)&&this.replace()},ke);function ke(t){var o=this;this.context=t,this.options=t.options.replace||{},this.keys=[Wt.code.ENTER,Wt.code.SPACE,Wt.code.PERIOD,Wt.code.COMMA,Wt.code.SEMICOLON,Wt.code.SLASH],this.previousKeydownCode=null,this.events={"summernote.keyup":function(t,e){e.isDefaultPrevented()||o.handleKeyup(e)},"summernote.keydown":function(t,e){o.handleKeydown(e)}}}var Se=(Te.prototype.shouldInitialize=function(){return!!this.options.placeholder},Te.prototype.initialize=function(){var t=this;this.$placeholder=w('<div class="note-placeholder">'),this.$placeholder.on("click",function(){t.context.invoke("focus")}).html(this.options.placeholder).prependTo(this.$editingArea),this.update()},Te.prototype.destroy=function(){this.$placeholder.remove()},Te.prototype.update=function(){var t=!this.context.invoke("codeview.isActivated")&&this.context.invoke("editor.isEmpty");this.$placeholder.toggle(t)},Te);function Te(t){var e=this;this.context=t,this.$editingArea=t.layoutInfo.editingArea,this.options=t.options,this.events={"summernote.init summernote.change":function(){e.update()},"summernote.codeview.toggled":function(){e.update()}}}var Ee=($e.prototype.representShortcut=function(t){var e=this.invertedKeyMap[t];return this.options.shortcuts&&e?(z.isMac&&(e=e.replace("CMD","â").replace("SHIFT","â§"))," ("+(e=e.replace("BACKSLASH","\\").replace("SLASH","/").replace("LEFTBRACKET","[").replace("RIGHTBRACKET","]"))+")"):""},$e.prototype.button=function(t){return!this.options.tooltip&&t.tooltip&&delete t.tooltip,t.container=this.options.container,this.ui.button(t)},$e.prototype.initialize=function(){this.addToolbarButtons(),this.addImagePopoverButtons(),this.addLinkPopoverButtons(),this.addTablePopoverButtons(),this.fontInstalledMap={}},$e.prototype.destroy=function(){delete this.fontInstalledMap},$e.prototype.isFontInstalled=function(t){return this.fontInstalledMap.hasOwnProperty(t)||(this.fontInstalledMap[t]=z.isFontInstalled(t)||V.contains(this.options.fontNamesIgnoreCheck,t)),this.fontInstalledMap[t]},$e.prototype.isFontDeservedToAdd=function(t){return""!==(t=t.toLowerCase())&&this.isFontInstalled(t)&&-1===["sans-serif","serif","monospace","cursive","fantasy"].indexOf(t)},$e.prototype.colorPalette=function(h,t,o,n){var p=this;return this.ui.buttonGroup({className:"note-color "+h,children:[this.button({className:"note-current-color-button",contents:this.ui.icon(this.options.icons.font+" note-recent-color"),tooltip:t,click:function(t){var e=w(t.currentTarget);o&&n?p.context.invoke("editor.color",{backColor:e.attr("data-backColor"),foreColor:e.attr("data-foreColor")}):o?p.context.invoke("editor.color",{backColor:e.attr("data-backColor")}):n&&p.context.invoke("editor.color",{foreColor:e.attr("data-foreColor")})},callback:function(t){var e=t.find(".note-recent-color");o&&(e.css("background-color",p.options.colorButton.backColor),t.attr("data-backColor",p.options.colorButton.backColor)),n?(e.css("color",p.options.colorButton.foreColor),t.attr("data-foreColor",p.options.colorButton.foreColor)):e.css("color","transparent")}}),this.button({className:"dropdown-toggle",contents:this.ui.dropdownButtonContents("",this.options),tooltip:this.lang.color.more,data:{toggle:"dropdown"}}),this.ui.dropdown({items:(o?['<div class="note-palette">','  <div class="note-palette-title">'+this.lang.color.background+"</div>","  <div>",'    <button type="button" class="note-color-reset btn btn-light" data-event="backColor" data-value="inherit">',this.lang.color.transparent,"    </button>","  </div>",'  <div class="note-holder" data-event="backColor"/>',"  <div>",'    <button type="button" class="note-color-select btn" data-event="openPalette" data-value="backColorPicker">',this.lang.color.cpSelect,"    </button>",'    <input type="color" id="backColorPicker" class="note-btn note-color-select-btn" value="'+this.options.colorButton.backColor+'" data-event="backColorPalette">',"  </div>",'  <div class="note-holder-custom" id="backColorPalette" data-event="backColor"/>',"</div>"].join(""):"")+(n?['<div class="note-palette">','  <div class="note-palette-title">'+this.lang.color.foreground+"</div>","  <div>",'    <button type="button" class="note-color-reset btn btn-light" data-event="removeFormat" data-value="foreColor">',this.lang.color.resetToDefault,"    </button>","  </div>",'  <div class="note-holder" data-event="foreColor"/>',"  <div>",'    <button type="button" class="note-color-select btn" data-event="openPalette" data-value="foreColorPicker">',this.lang.color.cpSelect,"    </button>",'    <input type="color" id="foreColorPicker" class="note-btn note-color-select-btn" value="'+this.options.colorButton.foreColor+'" data-event="foreColorPalette">','  <div class="note-holder-custom" id="foreColorPalette" data-event="foreColor"/>',"</div>"].join(""):""),callback:function(o){o.find(".note-holder").each(function(t,e){var o=w(e);o.append(p.ui.palette({colors:p.options.colors,colorsName:p.options.colorsName,eventName:o.data("event"),container:p.options.container,tooltip:p.options.tooltip}).render())});var n=[["#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF"]];o.find(".note-holder-custom").each(function(t,e){var o=w(e);o.append(p.ui.palette({colors:n,colorsName:n,eventName:o.data("event"),container:p.options.container,tooltip:p.options.tooltip}).render())}),o.find("input[type=color]").each(function(t,e){w(e).change(function(){var t=o.find("#"+w(this).data("event")).find(".note-color-btn").first(),e=this.value.toUpperCase();t.css("background-color",e).attr("aria-label",e).attr("data-value",e).attr("data-original-title",e),t.click()})})},click:function(t){t.stopPropagation();var e=w("."+h),o=w(t.target),n=o.data("event"),i=o.attr("data-value");if("openPalette"===n){var r=e.find("#"+i),a=w(e.find("#"+r.data("event")).find(".note-color-row")[0]),s=a.find(".note-color-btn").last().detach(),l=r.val();s.css("background-color",l).attr("aria-label",l).attr("data-value",l).attr("data-original-title",l),a.prepend(s),r.click()}else if(V.contains(["backColor","foreColor"],n)){var c="backColor"===n?"background-color":"color",d=o.closest(".note-color").find(".note-recent-color"),u=o.closest(".note-color").find(".note-current-color-button");d.css(c,i),u.attr("data-"+n,i),p.context.invoke("editor."+n,i)}}})]}).render()},$e.prototype.addToolbarButtons=function(){var n=this;this.context.memo("button.style",function(){return n.ui.buttonGroup([n.button({className:"dropdown-toggle",contents:n.ui.dropdownButtonContents(n.ui.icon(n.options.icons.magic),n.options),tooltip:n.lang.style.style,data:{toggle:"dropdown"}}),n.ui.dropdown({className:"dropdown-style",items:n.options.styleTags,title:n.lang.style.style,template:function(t){"string"==typeof t&&(t={tag:t,title:n.lang.style.hasOwnProperty(t)?n.lang.style[t]:t});var e=t.tag,o=t.title;return"<"+e+(t.style?' style="'+t.style+'" ':"")+(t.className?' class="'+t.className+'"':"")+">"+o+"</"+e+">"},click:n.context.createInvokeHandler("editor.formatBlock")})]).render()});for(var t=function(t,e){var o=i.options.styleTags[t];i.context.memo("button.style."+o,function(){return n.button({className:"note-btn-style-"+o,contents:'<div data-value="'+o+'">'+o.toUpperCase()+"</div>",tooltip:n.lang.style[o],click:n.context.createInvokeHandler("editor.formatBlock")}).render()})},i=this,e=0,o=this.options.styleTags.length;e<o;e++)t(e);this.context.memo("button.bold",function(){return n.button({className:"note-btn-bold",contents:n.ui.icon(n.options.icons.bold),tooltip:n.lang.font.bold+n.representShortcut("bold"),click:n.context.createInvokeHandlerAndUpdateState("editor.bold")}).render()}),this.context.memo("button.italic",function(){return n.button({className:"note-btn-italic",contents:n.ui.icon(n.options.icons.italic),tooltip:n.lang.font.italic+n.representShortcut("italic"),click:n.context.createInvokeHandlerAndUpdateState("editor.italic")}).render()}),this.context.memo("button.underline",function(){return n.button({className:"note-btn-underline",contents:n.ui.icon(n.options.icons.underline),tooltip:n.lang.font.underline+n.representShortcut("underline"),click:n.context.createInvokeHandlerAndUpdateState("editor.underline")}).render()}),this.context.memo("button.clear",function(){return n.button({contents:n.ui.icon(n.options.icons.eraser),tooltip:n.lang.font.clear+n.representShortcut("removeFormat"),click:n.context.createInvokeHandler("editor.removeFormat")}).render()}),this.context.memo("button.strikethrough",function(){return n.button({className:"note-btn-strikethrough",contents:n.ui.icon(n.options.icons.strikethrough),tooltip:n.lang.font.strikethrough+n.representShortcut("strikethrough"),click:n.context.createInvokeHandlerAndUpdateState("editor.strikethrough")}).render()}),this.context.memo("button.superscript",function(){return n.button({className:"note-btn-superscript",contents:n.ui.icon(n.options.icons.superscript),tooltip:n.lang.font.superscript,click:n.context.createInvokeHandlerAndUpdateState("editor.superscript")}).render()}),this.context.memo("button.subscript",function(){return n.button({className:"note-btn-subscript",contents:n.ui.icon(n.options.icons.subscript),tooltip:n.lang.font.subscript,click:n.context.createInvokeHandlerAndUpdateState("editor.subscript")}).render()}),this.context.memo("button.fontname",function(){var t=n.context.invoke("editor.currentStyle");return w.each(t["font-family"].split(","),function(t,e){e=e.trim().replace(/['"]+/g,""),n.isFontDeservedToAdd(e)&&-1===n.options.fontNames.indexOf(e)&&n.options.fontNames.push(e)}),n.ui.buttonGroup([n.button({className:"dropdown-toggle",contents:n.ui.dropdownButtonContents('<span class="note-current-fontname"/>',n.options),tooltip:n.lang.font.name,data:{toggle:"dropdown"}}),n.ui.dropdownCheck({className:"dropdown-fontname",checkClassName:n.options.icons.menuCheck,items:n.options.fontNames.filter(n.isFontInstalled.bind(n)),title:n.lang.font.name,template:function(t){return"<span style=\"font-family: '"+t+"'\">"+t+"</span>"},click:n.context.createInvokeHandlerAndUpdateState("editor.fontName")})]).render()}),this.context.memo("button.fontsize",function(){return n.ui.buttonGroup([n.button({className:"dropdown-toggle",contents:n.ui.dropdownButtonContents('<span class="note-current-fontsize"/>',n.options),tooltip:n.lang.font.size,data:{toggle:"dropdown"}}),n.ui.dropdownCheck({className:"dropdown-fontsize",checkClassName:n.options.icons.menuCheck,items:n.options.fontSizes,title:n.lang.font.size,click:n.context.createInvokeHandlerAndUpdateState("editor.fontSize")})]).render()}),this.context.memo("button.color",function(){return n.colorPalette("note-color-all",n.lang.color.recent,!0,!0)}),this.context.memo("button.forecolor",function(){return n.colorPalette("note-color-fore",n.lang.color.foreground,!1,!0)}),this.context.memo("button.backcolor",function(){return n.colorPalette("note-color-back",n.lang.color.background,!0,!1)}),this.context.memo("button.ul",function(){return n.button({contents:n.ui.icon(n.options.icons.unorderedlist),tooltip:n.lang.lists.unordered+n.representShortcut("insertUnorderedList"),click:n.context.createInvokeHandler("editor.insertUnorderedList")}).render()}),this.context.memo("button.ol",function(){return n.button({contents:n.ui.icon(n.options.icons.orderedlist),tooltip:n.lang.lists.ordered+n.representShortcut("insertOrderedList"),click:n.context.createInvokeHandler("editor.insertOrderedList")}).render()});var r=this.button({contents:this.ui.icon(this.options.icons.alignLeft),tooltip:this.lang.paragraph.left+this.representShortcut("justifyLeft"),click:this.context.createInvokeHandler("editor.justifyLeft")}),a=this.button({contents:this.ui.icon(this.options.icons.alignCenter),tooltip:this.lang.paragraph.center+this.representShortcut("justifyCenter"),click:this.context.createInvokeHandler("editor.justifyCenter")}),s=this.button({contents:this.ui.icon(this.options.icons.alignRight),tooltip:this.lang.paragraph.right+this.representShortcut("justifyRight"),click:this.context.createInvokeHandler("editor.justifyRight")}),l=this.button({contents:this.ui.icon(this.options.icons.alignJustify),tooltip:this.lang.paragraph.justify+this.representShortcut("justifyFull"),click:this.context.createInvokeHandler("editor.justifyFull")}),c=this.button({contents:this.ui.icon(this.options.icons.outdent),tooltip:this.lang.paragraph.outdent+this.representShortcut("outdent"),click:this.context.createInvokeHandler("editor.outdent")}),d=this.button({contents:this.ui.icon(this.options.icons.indent),tooltip:this.lang.paragraph.indent+this.representShortcut("indent"),click:this.context.createInvokeHandler("editor.indent")});this.context.memo("button.justifyLeft",O.invoke(r,"render")),this.context.memo("button.justifyCenter",O.invoke(a,"render")),this.context.memo("button.justifyRight",O.invoke(s,"render")),this.context.memo("button.justifyFull",O.invoke(l,"render")),this.context.memo("button.outdent",O.invoke(c,"render")),this.context.memo("button.indent",O.invoke(d,"render")),this.context.memo("button.paragraph",function(){return n.ui.buttonGroup([n.button({className:"dropdown-toggle",contents:n.ui.dropdownButtonContents(n.ui.icon(n.options.icons.alignLeft),n.options),tooltip:n.lang.paragraph.paragraph,data:{toggle:"dropdown"}}),n.ui.dropdown([n.ui.buttonGroup({className:"note-align",children:[r,a,s,l]}),n.ui.buttonGroup({className:"note-list",children:[c,d]})])]).render()}),this.context.memo("button.height",function(){return n.ui.buttonGroup([n.button({className:"dropdown-toggle",contents:n.ui.dropdownButtonContents(n.ui.icon(n.options.icons.textHeight),n.options),tooltip:n.lang.font.height,data:{toggle:"dropdown"}}),n.ui.dropdownCheck({items:n.options.lineHeights,checkClassName:n.options.icons.menuCheck,className:"dropdown-line-height",title:n.lang.font.height,click:n.context.createInvokeHandler("editor.lineHeight")})]).render()}),this.context.memo("button.table",function(){return n.ui.buttonGroup([n.button({className:"dropdown-toggle",contents:n.ui.dropdownButtonContents(n.ui.icon(n.options.icons.table),n.options),tooltip:n.lang.table.table,data:{toggle:"dropdown"}}),n.ui.dropdown({title:n.lang.table.table,className:"note-table",items:['<div class="note-dimension-picker">','  <div class="note-dimension-picker-mousecatcher" data-event="insertTable" data-value="1x1"/>','  <div class="note-dimension-picker-highlighted"/>','  <div class="note-dimension-picker-unhighlighted"/>',"</div>",'<div class="note-dimension-display">1 x 1</div>'].join("")})],{callback:function(t){t.find(".note-dimension-picker-mousecatcher").css({width:n.options.insertTableMaxSize.col+"em",height:n.options.insertTableMaxSize.row+"em"}).mousedown(n.context.createInvokeHandler("editor.insertTable")).on("mousemove",n.tableMoveHandler.bind(n))}}).render()}),this.context.memo("button.link",function(){return n.button({contents:n.ui.icon(n.options.icons.link),tooltip:n.lang.link.link+n.representShortcut("linkDialog.show"),click:n.context.createInvokeHandler("linkDialog.show")}).render()}),this.context.memo("button.picture",function(){return n.button({contents:n.ui.icon(n.options.icons.picture),tooltip:n.lang.image.image,click:n.context.createInvokeHandler("imageDialog.show")}).render()}),this.context.memo("button.video",function(){return n.button({contents:n.ui.icon(n.options.icons.video),tooltip:n.lang.video.video,click:n.context.createInvokeHandler("videoDialog.show")}).render()}),this.context.memo("button.hr",function(){return n.button({contents:n.ui.icon(n.options.icons.minus),tooltip:n.lang.hr.insert+n.representShortcut("insertHorizontalRule"),click:n.context.createInvokeHandler("editor.insertHorizontalRule")}).render()}),this.context.memo("button.fullscreen",function(){return n.button({className:"btn-fullscreen",contents:n.ui.icon(n.options.icons.arrowsAlt),tooltip:n.lang.options.fullscreen,click:n.context.createInvokeHandler("fullscreen.toggle")}).render()}),this.context.memo("button.codeview",function(){return n.button({className:"btn-codeview",contents:n.ui.icon(n.options.icons.code),tooltip:n.lang.options.codeview,click:n.context.createInvokeHandler("codeview.toggle")}).render()}),this.context.memo("button.redo",function(){return n.button({contents:n.ui.icon(n.options.icons.redo),tooltip:n.lang.history.redo+n.representShortcut("redo"),click:n.context.createInvokeHandler("editor.redo")}).render()}),this.context.memo("button.undo",function(){return n.button({contents:n.ui.icon(n.options.icons.undo),tooltip:n.lang.history.undo+n.representShortcut("undo"),click:n.context.createInvokeHandler("editor.undo")}).render()}),this.context.memo("button.help",function(){return n.button({contents:n.ui.icon(n.options.icons.question),tooltip:n.lang.options.help,click:n.context.createInvokeHandler("helpDialog.show")}).render()})},$e.prototype.addImagePopoverButtons=function(){var t=this;this.context.memo("button.resizeFull",function(){return t.button({contents:'<span class="note-fontsize-10">100%</span>',tooltip:t.lang.image.resizeFull,click:t.context.createInvokeHandler("editor.resize","1")}).render()}),this.context.memo("button.resizeHalf",function(){return t.button({contents:'<span class="note-fontsize-10">50%</span>',tooltip:t.lang.image.resizeHalf,click:t.context.createInvokeHandler("editor.resize","0.5")}).render()}),this.context.memo("button.resizeQuarter",function(){return t.button({contents:'<span class="note-fontsize-10">25%</span>',tooltip:t.lang.image.resizeQuarter,click:t.context.createInvokeHandler("editor.resize","0.25")}).render()}),this.context.memo("button.resizeNone",function(){return t.button({contents:t.ui.icon(t.options.icons.rollback),tooltip:t.lang.image.resizeNone,click:t.context.createInvokeHandler("editor.resize","0")}).render()}),this.context.memo("button.floatLeft",function(){return t.button({contents:t.ui.icon(t.options.icons.floatLeft),tooltip:t.lang.image.floatLeft,click:t.context.createInvokeHandler("editor.floatMe","left")}).render()}),this.context.memo("button.floatRight",function(){return t.button({contents:t.ui.icon(t.options.icons.floatRight),tooltip:t.lang.image.floatRight,click:t.context.createInvokeHandler("editor.floatMe","right")}).render()}),this.context.memo("button.floatNone",function(){return t.button({contents:t.ui.icon(t.options.icons.rollback),tooltip:t.lang.image.floatNone,click:t.context.createInvokeHandler("editor.floatMe","none")}).render()}),this.context.memo("button.removeMedia",function(){return t.button({contents:t.ui.icon(t.options.icons.trash),tooltip:t.lang.image.remove,click:t.context.createInvokeHandler("editor.removeMedia")}).render()})},$e.prototype.addLinkPopoverButtons=function(){var t=this;this.context.memo("button.linkDialogShow",function(){return t.button({contents:t.ui.icon(t.options.icons.link),tooltip:t.lang.link.edit,click:t.context.createInvokeHandler("linkDialog.show")}).render()}),this.context.memo("button.unlink",function(){return t.button({contents:t.ui.icon(t.options.icons.unlink),tooltip:t.lang.link.unlink,click:t.context.createInvokeHandler("editor.unlink")}).render()})},$e.prototype.addTablePopoverButtons=function(){var t=this;this.context.memo("button.addRowUp",function(){return t.button({className:"btn-md",contents:t.ui.icon(t.options.icons.rowAbove),tooltip:t.lang.table.addRowAbove,click:t.context.createInvokeHandler("editor.addRow","top")}).render()}),this.context.memo("button.addRowDown",function(){return t.button({className:"btn-md",contents:t.ui.icon(t.options.icons.rowBelow),tooltip:t.lang.table.addRowBelow,click:t.context.createInvokeHandler("editor.addRow","bottom")}).render()}),this.context.memo("button.addColLeft",function(){return t.button({className:"btn-md",contents:t.ui.icon(t.options.icons.colBefore),tooltip:t.lang.table.addColLeft,click:t.context.createInvokeHandler("editor.addCol","left")}).render()}),this.context.memo("button.addColRight",function(){return t.button({className:"btn-md",contents:t.ui.icon(t.options.icons.colAfter),tooltip:t.lang.table.addColRight,click:t.context.createInvokeHandler("editor.addCol","right")}).render()}),this.context.memo("button.deleteRow",function(){return t.button({className:"btn-md",contents:t.ui.icon(t.options.icons.rowRemove),tooltip:t.lang.table.delRow,click:t.context.createInvokeHandler("editor.deleteRow")}).render()}),this.context.memo("button.deleteCol",function(){return t.button({className:"btn-md",contents:t.ui.icon(t.options.icons.colRemove),tooltip:t.lang.table.delCol,click:t.context.createInvokeHandler("editor.deleteCol")}).render()}),this.context.memo("button.deleteTable",function(){return t.button({className:"btn-md",contents:t.ui.icon(t.options.icons.trash),tooltip:t.lang.table.delTable,click:t.context.createInvokeHandler("editor.deleteTable")}).render()})},$e.prototype.build=function(t,e){for(var o=0,n=e.length;o<n;o++){for(var i=e[o],r=Array.isArray(i)?i[0]:i,a=Array.isArray(i)?1===i.length?[i[0]]:i[1]:[i],s=this.ui.buttonGroup({className:"note-"+r}).render(),l=0,c=a.length;l<c;l++){var d=this.context.memo("button."+a[l]);d&&s.append("function"==typeof d?d():d)}s.appendTo(t)}},$e.prototype.updateCurrentStyle=function(t){var n=this,e=t||this.$toolbar,o=this.context.invoke("editor.currentStyle");if(this.updateBtnStates(e,{".note-btn-bold":function(){return"bold"===o["font-bold"]},".note-btn-italic":function(){return"italic"===o["font-italic"]},".note-btn-underline":function(){return"underline"===o["font-underline"]},".note-btn-subscript":function(){return"subscript"===o["font-subscript"]},".note-btn-superscript":function(){return"superscript"===o["font-superscript"]},".note-btn-strikethrough":function(){return"strikethrough"===o["font-strikethrough"]}}),o["font-family"]){var i=o["font-family"].split(",").map(function(t){return t.replace(/[\'\"]/g,"").replace(/\s+$/,"").replace(/^\s+/,"")}),r=V.find(i,this.isFontInstalled.bind(this));e.find(".dropdown-fontname a").each(function(t,e){var o=w(e),n=o.data("value")+""==r+"";o.toggleClass("checked",n)}),e.find(".note-current-fontname").text(r).css("font-family",r)}if(o["font-size"]){var a=o["font-size"];e.find(".dropdown-fontsize a").each(function(t,e){var o=w(e),n=o.data("value")+""==a+"";o.toggleClass("checked",n)}),e.find(".note-current-fontsize").text(a)}if(o["line-height"]){var s=o["line-height"];e.find(".dropdown-line-height li a").each(function(t,e){var o=w(e).data("value")+""==s+"";n.className=o?"checked":""})}},$e.prototype.updateBtnStates=function(o,t){var n=this;w.each(t,function(t,e){n.ui.toggleBtnActive(o.find(t),e())})},$e.prototype.tableMoveHandler=function(t){var e,o=w(t.target.parentNode),n=o.next(),i=o.find(".note-dimension-picker-mousecatcher"),r=o.find(".note-dimension-picker-highlighted"),a=o.find(".note-dimension-picker-unhighlighted");if(void 0===t.offsetX){var s=w(t.target).offset();e={x:t.pageX-s.left,y:t.pageY-s.top}}else e={x:t.offsetX,y:t.offsetY};var l=Math.ceil(e.x/18)||1,c=Math.ceil(e.y/18)||1;r.css({width:l+"em",height:c+"em"}),i.data("value",l+"x"+c),3<l&&l<this.options.insertTableMaxSize.col&&a.css({width:l+1+"em"}),3<c&&c<this.options.insertTableMaxSize.row&&a.css({height:c+1+"em"}),n.html(l+" x "+c)},$e);function $e(t){this.ui=w.summernote.ui,this.context=t,this.$toolbar=t.layoutInfo.toolbar,this.options=t.options,this.lang=this.options.langInfo,this.invertedKeyMap=O.invertObject(this.options.keyMap[z.isMac?"mac":"pc"])}var Ie=(Pe.prototype.shouldInitialize=function(){return!this.options.airMode},Pe.prototype.initialize=function(){var t=this;this.options.toolbar=this.options.toolbar||[],this.options.toolbar.length?this.context.invoke("buttons.build",this.$toolbar,this.options.toolbar):this.$toolbar.hide(),this.options.toolbarContainer&&this.$toolbar.appendTo(this.options.toolbarContainer),this.changeContainer(!1),this.$note.on("summernote.keyup summernote.mouseup summernote.change",function(){t.context.invoke("buttons.updateCurrentStyle")}),this.context.invoke("buttons.updateCurrentStyle"),this.options.followingToolbar&&this.$window.on("scroll resize",this.followScroll)},Pe.prototype.destroy=function(){this.$toolbar.children().remove(),this.options.followingToolbar&&this.$window.off("scroll resize",this.followScroll)},Pe.prototype.followScroll=function(){if(this.$editor.hasClass("fullscreen"))return!1;var t=this.$editor.outerHeight(),e=this.$editor.width(),o=this.$toolbar.height(),n=this.$statusbar.height(),i=0;this.options.otherStaticBar&&(i=w(this.options.otherStaticBar).outerHeight());var r=this.$document.scrollTop(),a=this.$editor.offset().top,s=a-i,l=a+t-i-o-n;!this.isFollowing&&s<r&&r<l-o?(this.isFollowing=!0,this.$toolbar.css({position:"fixed",top:i,width:e}),this.$editable.css({marginTop:this.$toolbar.height()+5})):this.isFollowing&&(r<s||l<r)&&(this.isFollowing=!1,this.$toolbar.css({position:"relative",top:0,width:"100%"}),this.$editable.css({marginTop:""}))},Pe.prototype.changeContainer=function(t){t?this.$toolbar.prependTo(this.$editor):this.options.toolbarContainer&&this.$toolbar.appendTo(this.options.toolbarContainer),this.followScroll()},Pe.prototype.updateFullscreen=function(t){this.ui.toggleBtnActive(this.$toolbar.find(".btn-fullscreen"),t),this.changeContainer(t)},Pe.prototype.updateCodeview=function(t){this.ui.toggleBtnActive(this.$toolbar.find(".btn-codeview"),t),t?this.deactivate():this.activate()},Pe.prototype.activate=function(t){var e=this.$toolbar.find("button");t||(e=e.not(".btn-codeview")),this.ui.toggleBtn(e,!0)},Pe.prototype.deactivate=function(t){var e=this.$toolbar.find("button");t||(e=e.not(".btn-codeview")),this.ui.toggleBtn(e,!1)},Pe);function Pe(t){this.context=t,this.$window=w(window),this.$document=w(document),this.ui=w.summernote.ui,this.$note=t.layoutInfo.note,this.$editor=t.layoutInfo.editor,this.$toolbar=t.layoutInfo.toolbar,this.$editable=t.layoutInfo.editable,this.$statusbar=t.layoutInfo.statusbar,this.options=t.options,this.isFollowing=!1,this.followScroll=this.followScroll.bind(this)}var Ne=(Le.prototype.initialize=function(){var t=this.options.dialogsInBody?this.$body:this.$editor,e=['<div class="form-group note-form-group">','<label class="note-form-label">'+this.lang.link.textToDisplay+"</label>",'<input class="note-link-text form-control note-form-control note-input" type="text" />',"</div>",'<div class="form-group note-form-group">','<label class="note-form-label">'+this.lang.link.url+"</label>",'<input class="note-link-url form-control note-form-control note-input" type="text" value="http://" />',"</div>",this.options.disableLinkTarget?"":w("<div/>").append(this.ui.checkbox({className:"sn-checkbox-open-in-new-window",text:this.lang.link.openInNewWindow,checked:!0}).render()).html()].join(""),o='<input type="button" href="#" class="btn btn-primary note-btn note-btn-primary note-link-btn" value="'+this.lang.link.insert+'" disabled>';this.$dialog=this.ui.dialog({className:"link-dialog",title:this.lang.link.insert,fade:this.options.dialogsFade,body:e,footer:o}).render().appendTo(t)},Le.prototype.destroy=function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()},Le.prototype.bindEnterKey=function(t,e){t.on("keypress",function(t){t.keyCode===Wt.code.ENTER&&(t.preventDefault(),e.trigger("click"))})},Le.prototype.toggleLinkBtn=function(t,e,o){this.ui.toggleBtn(t,e.val()&&o.val())},Le.prototype.showLinkDialog=function(a){var s=this;return w.Deferred(function(e){var o=s.$dialog.find(".note-link-text"),n=s.$dialog.find(".note-link-url"),i=s.$dialog.find(".note-link-btn"),r=s.$dialog.find(".sn-checkbox-open-in-new-window input[type=checkbox]");s.ui.onDialogShown(s.$dialog,function(){s.context.triggerEvent("dialog.shown"),!a.url&&O.isValidUrl(a.text)&&(a.url=a.text),o.on("input paste propertychange",function(){a.text=o.val(),s.toggleLinkBtn(i,o,n)}).val(a.text),n.on("input paste propertychange",function(){a.text||o.val(n.val()),s.toggleLinkBtn(i,o,n)}).val(a.url),z.isSupportTouch||n.trigger("focus"),s.toggleLinkBtn(i,o,n),s.bindEnterKey(n,i),s.bindEnterKey(o,i);var t=void 0!==a.isNewWindow?a.isNewWindow:s.context.options.linkTargetBlank;r.prop("checked",t),i.one("click",function(t){t.preventDefault(),e.resolve({range:a.range,url:n.val(),text:o.val(),isNewWindow:r.is(":checked")}),s.ui.hideDialog(s.$dialog)})}),s.ui.onDialogHidden(s.$dialog,function(){o.off(),n.off(),i.off(),"pending"===e.state()&&e.reject()}),s.ui.showDialog(s.$dialog)}).promise()},Le.prototype.show=function(){var e=this,t=this.context.invoke("editor.getLinkInfo");this.context.invoke("editor.saveRange"),this.showLinkDialog(t).then(function(t){e.context.invoke("editor.restoreRange"),e.context.invoke("editor.createLink",t)}).fail(function(){e.context.invoke("editor.restoreRange")})},Le);function Le(t){this.context=t,this.ui=w.summernote.ui,this.$body=w(document.body),this.$editor=t.layoutInfo.editor,this.options=t.options,this.lang=this.options.langInfo,t.memo("help.linkDialog.show",this.options.langInfo.help["linkDialog.show"])}var Ae=(Me.prototype.shouldInitialize=function(){return!V.isEmpty(this.options.popover.link)},Me.prototype.initialize=function(){this.$popover=this.ui.popover({className:"note-link-popover",callback:function(t){t.find(".popover-content,.note-popover-content").prepend('<span><a target="_blank"></a>&nbsp;</span>')}}).render().appendTo(this.options.container);var t=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",t,this.options.popover.link)},Me.prototype.destroy=function(){this.$popover.remove()},Me.prototype.update=function(){if(this.context.invoke("editor.hasFocus")){var t=this.context.invoke("editor.getLastRange");if(t.isCollapsed()&&t.isOnAnchor()){var e=Dt.ancestor(t.sc,Dt.isAnchor),o=w(e).attr("href");this.$popover.find("a").attr("href",o).html(o);var n=Dt.posFromPlaceholder(e);this.$popover.css({display:"block",left:n.left,top:n.top})}else this.hide()}else this.hide()},Me.prototype.hide=function(){this.$popover.hide()},Me);function Me(t){var e=this;this.context=t,this.ui=w.summernote.ui,this.options=t.options,this.events={"summernote.keyup summernote.mouseup summernote.change summernote.scroll":function(){e.update()},"summernote.disable summernote.dialog.shown":function(){e.hide()}}}var Re=(De.prototype.initialize=function(){var t=this.options.dialogsInBody?this.$body:this.$editor,e="";if(this.options.maximumImageFileSize){var o=Math.floor(Math.log(this.options.maximumImageFileSize)/Math.log(1024)),n=1*(this.options.maximumImageFileSize/Math.pow(1024,o)).toFixed(2)+" "+" KMGTP"[o]+"B";e="<small>"+this.lang.image.maximumFileSize+" : "+n+"</small>"}var i=['<div class="form-group note-form-group note-group-select-from-files">','<label class="note-form-label">'+this.lang.image.selectFromFiles+"</label>",'<input class="note-image-input form-control-file note-form-control note-input" ',' type="file" name="files" accept="image/*" multiple="multiple" />',e,"</div>",'<div class="form-group note-group-image-url" style="overflow:auto;">','<label class="note-form-label">'+this.lang.image.url+"</label>",'<input class="note-image-url form-control note-form-control note-input ',' col-md-12" type="text" />',"</div>"].join(""),r='<input type="button" href="#" class="btn btn-primary note-btn note-btn-primary note-image-btn" value="'+this.lang.image.insert+'" disabled>';this.$dialog=this.ui.dialog({title:this.lang.image.insert,fade:this.options.dialogsFade,body:i,footer:r}).render().appendTo(t)},De.prototype.destroy=function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()},De.prototype.bindEnterKey=function(t,e){t.on("keypress",function(t){t.keyCode===Wt.code.ENTER&&(t.preventDefault(),e.trigger("click"))})},De.prototype.show=function(){var e=this;this.context.invoke("editor.saveRange"),this.showImageDialog().then(function(t){e.ui.hideDialog(e.$dialog),e.context.invoke("editor.restoreRange"),"string"==typeof t?e.options.callbacks.onImageLinkInsert?e.context.triggerEvent("image.link.insert",t):e.context.invoke("editor.insertImage",t):e.context.invoke("editor.insertImagesOrCallback",t)}).fail(function(){e.context.invoke("editor.restoreRange")})},De.prototype.showImageDialog=function(){var i=this;return w.Deferred(function(e){var t=i.$dialog.find(".note-image-input"),o=i.$dialog.find(".note-image-url"),n=i.$dialog.find(".note-image-btn");i.ui.onDialogShown(i.$dialog,function(){i.context.triggerEvent("dialog.shown"),t.replaceWith(t.clone().on("change",function(t){e.resolve(t.target.files||t.target.value)}).val("")),o.on("input paste propertychange",function(){i.ui.toggleBtn(n,o.val())}).val(""),z.isSupportTouch||o.trigger("focus"),n.click(function(t){t.preventDefault(),e.resolve(o.val())}),i.bindEnterKey(o,n)}),i.ui.onDialogHidden(i.$dialog,function(){t.off(),o.off(),n.off(),"pending"===e.state()&&e.reject()}),i.ui.showDialog(i.$dialog)})},De);function De(t){this.context=t,this.ui=w.summernote.ui,this.$body=w(document.body),this.$editor=t.layoutInfo.editor,this.options=t.options,this.lang=this.options.langInfo}var Fe=(He.prototype.shouldInitialize=function(){return!V.isEmpty(this.options.popover.image)},He.prototype.initialize=function(){this.$popover=this.ui.popover({className:"note-image-popover"}).render().appendTo(this.options.container);var t=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",t,this.options.popover.image)},He.prototype.destroy=function(){this.$popover.remove()},He.prototype.update=function(t,e){if(Dt.isImg(t)){var o=Dt.posFromPlaceholder(t),n=Dt.posFromPlaceholder(this.editable);this.$popover.css({display:"block",left:this.options.popatmouse?e.pageX-20:o.left,top:this.options.popatmouse?e.pageY:Math.min(o.top,n.top)})}else this.hide()},He.prototype.hide=function(){this.$popover.hide()},He);function He(t){var e=this;this.context=t,this.ui=w.summernote.ui,this.editable=t.layoutInfo.editable[0],this.options=t.options,this.events={"summernote.disable":function(){e.hide()}}}var ze=(Be.prototype.shouldInitialize=function(){return!V.isEmpty(this.options.popover.table)},Be.prototype.initialize=function(){this.$popover=this.ui.popover({className:"note-table-popover"}).render().appendTo(this.options.container);var t=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",t,this.options.popover.table),z.isFF&&document.execCommand("enableInlineTableEditing",!1,!1)},Be.prototype.destroy=function(){this.$popover.remove()},Be.prototype.update=function(t){if(this.context.isDisabled())return!1;var e=Dt.isCell(t);if(e){var o=Dt.posFromPlaceholder(t);this.$popover.css({display:"block",left:o.left,top:o.top})}else this.hide();return e},Be.prototype.hide=function(){this.$popover.hide()},Be);function Be(t){var o=this;this.context=t,this.ui=w.summernote.ui,this.options=t.options,this.events={"summernote.mousedown":function(t,e){o.update(e.target)},"summernote.keyup summernote.scroll summernote.change":function(){o.update()},"summernote.disable":function(){o.hide()}}}var Oe=(je.prototype.initialize=function(){var t=this.options.dialogsInBody?this.$body:this.$editor,e=['<div class="form-group note-form-group row-fluid">','<label class="note-form-label">'+this.lang.video.url+' <small class="text-muted">'+this.lang.video.providers+"</small></label>",'<input class="note-video-url form-control note-form-control note-input" type="text" />',"</div>"].join(""),o='<input type="button" href="#" class="btn btn-primary note-btn note-btn-primary note-video-btn" value="'+this.lang.video.insert+'" disabled>';this.$dialog=this.ui.dialog({title:this.lang.video.insert,fade:this.options.dialogsFade,body:e,footer:o}).render().appendTo(t)},je.prototype.destroy=function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()},je.prototype.bindEnterKey=function(t,e){t.on("keypress",function(t){t.keyCode===Wt.code.ENTER&&(t.preventDefault(),e.trigger("click"))})},je.prototype.createVideoNode=function(t){var e,o=t.match(/\/\/(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))([\w|-]{11})(?:(?:[\?&]t=)(\S+))?$/),n=t.match(/(?:www\.|\/\/)instagram\.com\/p\/(.[a-zA-Z0-9_-]*)/),i=t.match(/\/\/vine\.co\/v\/([a-zA-Z0-9]+)/),r=t.match(/\/\/(player\.)?vimeo\.com\/([a-z]*\/)*(\d+)[?]?.*/),a=t.match(/.+dailymotion.com\/(video|hub)\/([^_]+)[^#]*(#video=([^_&]+))?/),s=t.match(/\/\/v\.youku\.com\/v_show\/id_(\w+)=*\.html/),l=t.match(/\/\/v\.qq\.com.*?vid=(.+)/),c=t.match(/\/\/v\.qq\.com\/x?\/?(page|cover).*?\/([^\/]+)\.html\??.*/),d=t.match(/^.+.(mp4|m4v)$/),u=t.match(/^.+.(ogg|ogv)$/),h=t.match(/^.+.(webm)$/),p=t.match(/(?:www\.|\/\/)facebook\.com\/([^\/]+)\/videos\/([0-9]+)/);if(o&&11===o[1].length){var f=o[1],m=0;if(void 0!==o[2]){var g=o[2].match(/^(?:(\d+)h)?(?:(\d+)m)?(?:(\d+)s)?$/);if(g)for(var v=[3600,60,1],b=0,y=v.length;b<y;b++)m+=void 0!==g[b+1]?v[b]*parseInt(g[b+1],10):0}e=w("<iframe>").attr("frameborder",0).attr("src","//www.youtube.com/embed/"+f+(0<m?"?start="+m:"")).attr("width","640").attr("height","360")}else if(n&&n[0].length)e=w("<iframe>").attr("frameborder",0).attr("src","https://instagram.com/p/"+n[1]+"/embed/").attr("width","612").attr("height","710").attr("scrolling","no").attr("allowtransparency","true");else if(i&&i[0].length)e=w("<iframe>").attr("frameborder",0).attr("src",i[0]+"/embed/simple").attr("width","600").attr("height","600").attr("class","vine-embed");else if(r&&r[3].length)e=w("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("src","//player.vimeo.com/video/"+r[3]).attr("width","640").attr("height","360");else if(a&&a[2].length)e=w("<iframe>").attr("frameborder",0).attr("src","//www.dailymotion.com/embed/video/"+a[2]).attr("width","640").attr("height","360");else if(s&&s[1].length)e=w("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("height","498").attr("width","510").attr("src","//player.youku.com/embed/"+s[1]);else if(l&&l[1].length||c&&c[2].length){var x=l&&l[1].length?l[1]:c[2];e=w("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("height","310").attr("width","500").attr("src","http://v.qq.com/iframe/player.html?vid="+x+"&amp;auto=0")}else if(d||u||h)e=w("<video controls>").attr("src",t).attr("width","640").attr("height","360");else{if(!p||!p[0].length)return!1;e=w("<iframe>").attr("frameborder",0).attr("src","https://www.facebook.com/plugins/video.php?href="+encodeURIComponent(p[0])+"&show_text=0&width=560").attr("width","560").attr("height","301").attr("scrolling","no").attr("allowtransparency","true")}return e.addClass("note-video-clip"),e[0]},je.prototype.show=function(){var o=this,t=this.context.invoke("editor.getSelectedText");this.context.invoke("editor.saveRange"),this.showVideoDialog(t).then(function(t){o.ui.hideDialog(o.$dialog),o.context.invoke("editor.restoreRange");var e=o.createVideoNode(t);e&&o.context.invoke("editor.insertNode",e)}).fail(function(){o.context.invoke("editor.restoreRange")})},je.prototype.showVideoDialog=function(t){var n=this;return w.Deferred(function(e){var o=n.$dialog.find(".note-video-url"),t=n.$dialog.find(".note-video-btn");n.ui.onDialogShown(n.$dialog,function(){n.context.triggerEvent("dialog.shown"),o.on("input paste propertychange",function(){n.ui.toggleBtn(t,o.val())}),z.isSupportTouch||o.trigger("focus"),t.click(function(t){t.preventDefault(),e.resolve(o.val())}),n.bindEnterKey(o,t)}),n.ui.onDialogHidden(n.$dialog,function(){o.off(),t.off(),"pending"===e.state()&&e.reject()}),n.ui.showDialog(n.$dialog)})},je);function je(t){this.context=t,this.ui=w.summernote.ui,this.$body=w(document.body),this.$editor=t.layoutInfo.editor,this.options=t.options,this.lang=this.options.langInfo}var qe=(Ue.prototype.initialize=function(){var t=this.options.dialogsInBody?this.$body:this.$editor,e=['<p class="text-center">','<a href="http://summernote.org/" target="_blank">Summernote 0.8.12</a> Â· ','<a href="https://github.com/summernote/summernote" target="_blank">Project</a> Â· ','<a href="https://github.com/summernote/summernote/issues" target="_blank">Issues</a>',"</p>"].join("");this.$dialog=this.ui.dialog({title:this.lang.options.help,fade:this.options.dialogsFade,body:this.createShortcutList(),footer:e,callback:function(t){t.find(".modal-body,.note-modal-body").css({"max-height":300,overflow:"scroll"})}}).render().appendTo(t)},Ue.prototype.destroy=function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()},Ue.prototype.createShortcutList=function(){var n=this,i=this.options.keyMap[z.isMac?"mac":"pc"];return Object.keys(i).map(function(t){var e=i[t],o=w('<div><div class="help-list-item"/></div>');return o.append(w("<label><kbd>"+t+"</kdb></label>").css({width:180,"margin-right":10})).append(w("<span/>").html(n.context.memo("help."+e)||e)),o.html()}).join("")},Ue.prototype.showHelpDialog=function(){var e=this;return w.Deferred(function(t){e.ui.onDialogShown(e.$dialog,function(){e.context.triggerEvent("dialog.shown"),t.resolve()}),e.ui.showDialog(e.$dialog)}).promise()},Ue.prototype.show=function(){var t=this;this.context.invoke("editor.saveRange"),this.showHelpDialog().then(function(){t.context.invoke("editor.restoreRange")})},Ue);function Ue(t){this.context=t,this.ui=w.summernote.ui,this.$body=w(document.body),this.$editor=t.layoutInfo.editor,this.options=t.options,this.lang=this.options.langInfo}var We=(Ve.prototype.shouldInitialize=function(){return this.options.airMode&&!V.isEmpty(this.options.popover.air)},Ve.prototype.initialize=function(){this.$popover=this.ui.popover({className:"note-air-popover"}).render().appendTo(this.options.container);var t=this.$popover.find(".popover-content");this.context.invoke("buttons.build",t,this.options.popover.air)},Ve.prototype.destroy=function(){this.$popover.remove()},Ve.prototype.update=function(){var t=this.context.invoke("editor.currentStyle");if(t.range&&!t.range.isCollapsed()){var e=V.last(t.range.getClientRects());if(e){var o=O.rect2bnd(e);this.$popover.css({display:"block",left:Math.max(o.left+o.width/2,0)-20,top:o.top+o.height}),this.context.invoke("buttons.updateCurrentStyle",this.$popover)}}else this.hide()},Ve.prototype.hide=function(){this.$popover.hide()},Ve);function Ve(t){var o=this;this.context=t,this.ui=w.summernote.ui,this.options=t.options,this.events={"summernote.keyup summernote.mouseup summernote.scroll":function(){o.update()},"summernote.disable summernote.change summernote.dialog.shown":function(){o.hide()},"summernote.focusout":function(t,e){z.isFF||e.relatedTarget&&Dt.ancestor(e.relatedTarget,O.eq(o.$popover[0]))||o.hide()}}}var Ge=(Ke.prototype.shouldInitialize=function(){return 0<this.hints.length},Ke.prototype.initialize=function(){var e=this;this.lastWordRange=null,this.$popover=this.ui.popover({className:"note-hint-popover",hideArrow:!0,direction:""}).render().appendTo(this.options.container),this.$popover.hide(),this.$content=this.$popover.find(".popover-content,.note-popover-content"),this.$content.on("click",".note-hint-item",function(t){e.$content.find(".active").removeClass("active"),w(t.currentTarget).addClass("active"),e.replace()})},Ke.prototype.destroy=function(){this.$popover.remove()},Ke.prototype.selectItem=function(t){this.$content.find(".active").removeClass("active"),t.addClass("active"),this.$content[0].scrollTop=t[0].offsetTop-this.$content.innerHeight()/2},Ke.prototype.moveDown=function(){var t=this.$content.find(".note-hint-item.active"),e=t.next();if(e.length)this.selectItem(e);else{var o=t.parent().next();o.length||(o=this.$content.find(".note-hint-group").first()),this.selectItem(o.find(".note-hint-item").first())}},Ke.prototype.moveUp=function(){var t=this.$content.find(".note-hint-item.active"),e=t.prev();if(e.length)this.selectItem(e);else{var o=t.parent().prev();o.length||(o=this.$content.find(".note-hint-group").last()),this.selectItem(o.find(".note-hint-item").last())}},Ke.prototype.replace=function(){var t=this.$content.find(".note-hint-item.active");if(t.length){var e=this.nodeFromItem(t);this.lastWordRange.insertNode(e),qt.createFromNode(e).collapse().select(),this.lastWordRange=null,this.hide(),this.context.triggerEvent("change",this.$editable.html(),this.$editable[0]),this.context.invoke("editor.focus")}},Ke.prototype.nodeFromItem=function(t){var e=this.hints[t.data("index")],o=t.data("item"),n=e.content?e.content(o):o;return"string"==typeof n&&(n=Dt.createText(n)),n},Ke.prototype.createItemTemplates=function(n,t){var i=this.hints[n];return t.map(function(t,e){var o=w('<div class="note-hint-item"/>');return o.append(i.template?i.template(t):t+""),o.data({index:n,item:t}),o})},Ke.prototype.handleKeydown=function(t){this.$popover.is(":visible")&&(t.keyCode===Wt.code.ENTER?(t.preventDefault(),this.replace()):t.keyCode===Wt.code.UP?(t.preventDefault(),this.moveUp()):t.keyCode===Wt.code.DOWN&&(t.preventDefault(),this.moveDown()))},Ke.prototype.searchKeyword=function(t,e,o){var n=this.hints[t];if(n&&n.match.test(e)&&n.search){var i=n.match.exec(e);n.search(i[1],o)}else o()},Ke.prototype.createGroup=function(e,t){var o=this,n=w('<div class="note-hint-group note-hint-group-'+e+'"/>');return this.searchKeyword(e,t,function(t){(t=t||[]).length&&(n.html(o.createItemTemplates(e,t)),o.show())}),n},Ke.prototype.handleKeyup=function(t){var o=this;if(!V.contains([Wt.code.ENTER,Wt.code.UP,Wt.code.DOWN],t.keyCode)){var e=this.context.invoke("editor.getLastRange").getWordRange(),n=e.toString();if(this.hints.length&&n){this.$content.empty();var i=O.rect2bnd(V.last(e.getClientRects()));i&&(this.$popover.hide(),this.lastWordRange=e,this.hints.forEach(function(t,e){t.match.test(n)&&o.createGroup(e,n).appendTo(o.$content)}),this.$content.find(".note-hint-item:first").addClass("active"),"top"===this.direction?this.$popover.css({left:i.left,top:i.top-this.$popover.outerHeight()-5}):this.$popover.css({left:i.left,top:i.top+i.height+5}))}else this.hide()}},Ke.prototype.show=function(){this.$popover.show()},Ke.prototype.hide=function(){this.$popover.hide()},Ke);function Ke(t){var o=this;this.context=t,this.ui=w.summernote.ui,this.$editable=t.layoutInfo.editable,this.options=t.options,this.hint=this.options.hint||[],this.direction=this.options.hintDirection||"bottom",this.hints=Array.isArray(this.hint)?this.hint:[this.hint],this.events={"summernote.keyup":function(t,e){e.isDefaultPrevented()||o.handleKeyup(e)},"summernote.keydown":function(t,e){o.handleKeydown(e)},"summernote.disable summernote.dialog.shown":function(){o.hide()}}}w.summernote=w.extend(w.summernote,{version:"0.8.12",plugins:{},dom:Dt,range:qt,options:{langInfo:w.summernote.lang["en-US"],modules:{editor:oe,clipboard:ie,dropzone:se,codeview:ce,statusbar:ue,fullscreen:pe,handle:me,hintPopover:Ge,autoLink:be,autoSync:xe,autoReplace:Ce,placeholder:Se,buttons:Ee,toolbar:Ie,linkDialog:Ne,linkPopover:Ae,imageDialog:Re,imagePopover:Fe,tablePopover:ze,videoDialog:Oe,helpDialog:qe,airPopover:We},buttons:{},lang:"en-US",followingToolbar:!1,otherStaticBar:"",toolbar:[["style",["style"]],["font",["bold","underline","clear"]],["fontname",["fontname"]],["color",["color"]],["para",["ul","ol","paragraph"]],["table",["table"]],["insert",["link","picture","video"]],["view",["fullscreen","codeview","help"]]],popatmouse:!0,popover:{image:[["resize",["resizeFull","resizeHalf","resizeQuarter","resizeNone"]],["float",["floatLeft","floatRight","floatNone"]],["remove",["removeMedia"]]],link:[["link",["linkDialogShow","unlink"]]],table:[["add",["addRowDown","addRowUp","addColLeft","addColRight"]],["delete",["deleteRow","deleteCol","deleteTable"]]],air:[["color",["color"]],["font",["bold","underline","clear"]],["para",["ul","paragraph"]],["table",["table"]],["insert",["link","picture"]]]},airMode:!1,width:null,height:null,linkTargetBlank:!0,focus:!1,tabSize:4,styleWithSpan:!0,shortcuts:!0,textareaAutoSync:!0,hintDirection:"bottom",tooltip:"auto",container:"body",maxTextLength:0,blockquoteBreakingLevel:2,spellCheck:!0,styleTags:["p","blockquote","pre","h1","h2","h3","h4","h5","h6"],fontNames:["Arial","Arial Black","Comic Sans MS","Courier New","Helvetica Neue","Helvetica","Impact","Lucida Grande","Tahoma","Times New Roman","Verdana"],fontNamesIgnoreCheck:[],fontSizes:["8","9","10","11","12","14","18","24","36"],colors:[["#000000","#424242","#636363","#9C9C94","#CEC6CE","#EFEFEF","#F7F7F7","#FFFFFF"],["#FF0000","#FF9C00","#FFFF00","#00FF00","#00FFFF","#0000FF","#9C00FF","#FF00FF"],["#F7C6CE","#FFE7CE","#FFEFC6","#D6EFD6","#CEDEE7","#CEE7F7","#D6D6E7","#E7D6DE"],["#E79C9C","#FFC69C","#FFE79C","#B5D6A5","#A5C6CE","#9CC6EF","#B5A5D6","#D6A5BD"],["#E76363","#F7AD6B","#FFD663","#94BD7B","#73A5AD","#6BADDE","#8C7BC6","#C67BA5"],["#CE0000","#E79439","#EFC631","#6BA54A","#4A7B8C","#3984C6","#634AA5","#A54A7B"],["#9C0000","#B56308","#BD9400","#397B21","#104A5A","#085294","#311873","#731842"],["#630000","#7B3900","#846300","#295218","#083139","#003163","#21104A","#4A1031"]],colorsName:[["Black","Tundora","Dove Gray","Star Dust","Pale Slate","Gallery","Alabaster","White"],["Red","Orange Peel","Yellow","Green","Cyan","Blue","Electric Violet","Magenta"],["Azalea","Karry","Egg White","Zanah","Botticelli","Tropical Blue","Mischka","Twilight"],["Tonys Pink","Peach Orange","Cream Brulee","Sprout","Casper","Perano","Cold Purple","Careys Pink"],["Mandy","Rajah","Dandelion","Olivine","Gulf Stream","Viking","Blue Marguerite","Puce"],["Guardsman Red","Fire Bush","Golden Dream","Chelsea Cucumber","Smalt Blue","Boston Blue","Butterfly Bush","Cadillac"],["Sangria","Mai Tai","Buddha Gold","Forest Green","Eden","Venice Blue","Meteorite","Claret"],["Rosewood","Cinnamon","Olive","Parsley","Tiber","Midnight Blue","Valentino","Loulou"]],colorButton:{foreColor:"#000000",backColor:"#FFFF00"},lineHeights:["1.0","1.2","1.4","1.5","1.6","1.8","2.0","3.0"],tableClassName:"table table-bordered",insertTableMaxSize:{col:10,row:10},dialogsInBody:!1,dialogsFade:!1,maximumImageFileSize:null,callbacks:{onBeforeCommand:null,onBlur:null,onBlurCodeview:null,onChange:null,onChangeCodeview:null,onDialogShown:null,onEnter:null,onFocus:null,onImageLinkInsert:null,onImageUpload:null,onImageUploadError:null,onInit:null,onKeydown:null,onKeyup:null,onMousedown:null,onMouseup:null,onPaste:null,onScroll:null},codemirror:{mode:"text/html",htmlMode:!0,lineNumbers:!0},codeviewFilter:!1,codeviewFilterRegex:/<\/*(?:applet|b(?:ase|gsound|link)|embed|frame(?:set)?|ilayer|l(?:ayer|ink)|meta|object|s(?:cript|tyle)|t(?:itle|extarea)|xml)[^>]*?>/gi,codeviewIframeFilter:!0,codeviewIframeWhitelistSrc:[],codeviewIframeWhitelistSrcBase:["www.youtube.com","www.youtube-nocookie.com","www.facebook.com","vine.co","instagram.com","player.vimeo.com","www.dailymotion.com","player.youku.com","v.qq.com"],keyMap:{pc:{ENTER:"insertParagraph","CTRL+Z":"undo","CTRL+Y":"redo",TAB:"tab","SHIFT+TAB":"untab","CTRL+B":"bold","CTRL+I":"italic","CTRL+U":"underline","CTRL+SHIFT+S":"strikethrough","CTRL+BACKSLASH":"removeFormat","CTRL+SHIFT+L":"justifyLeft","CTRL+SHIFT+E":"justifyCenter","CTRL+SHIFT+R":"justifyRight","CTRL+SHIFT+J":"justifyFull","CTRL+SHIFT+NUM7":"insertUnorderedList","CTRL+SHIFT+NUM8":"insertOrderedList","CTRL+LEFTBRACKET":"outdent","CTRL+RIGHTBRACKET":"indent","CTRL+NUM0":"formatPara","CTRL+NUM1":"formatH1","CTRL+NUM2":"formatH2","CTRL+NUM3":"formatH3","CTRL+NUM4":"formatH4","CTRL+NUM5":"formatH5","CTRL+NUM6":"formatH6","CTRL+ENTER":"insertHorizontalRule","CTRL+K":"linkDialog.show"},mac:{ENTER:"insertParagraph","CMD+Z":"undo","CMD+SHIFT+Z":"redo",TAB:"tab","SHIFT+TAB":"untab","CMD+B":"bold","CMD+I":"italic","CMD+U":"underline","CMD+SHIFT+S":"strikethrough","CMD+BACKSLASH":"removeFormat","CMD+SHIFT+L":"justifyLeft","CMD+SHIFT+E":"justifyCenter","CMD+SHIFT+R":"justifyRight","CMD+SHIFT+J":"justifyFull","CMD+SHIFT+NUM7":"insertUnorderedList","CMD+SHIFT+NUM8":"insertOrderedList","CMD+LEFTBRACKET":"outdent","CMD+RIGHTBRACKET":"indent","CMD+NUM0":"formatPara","CMD+NUM1":"formatH1","CMD+NUM2":"formatH2","CMD+NUM3":"formatH3","CMD+NUM4":"formatH4","CMD+NUM5":"formatH5","CMD+NUM6":"formatH6","CMD+ENTER":"insertHorizontalRule","CMD+K":"linkDialog.show"}},icons:{align:"note-icon-align",alignCenter:"note-icon-align-center",alignJustify:"note-icon-align-justify",alignLeft:"note-icon-align-left",alignRight:"note-icon-align-right",rowBelow:"note-icon-row-below",colBefore:"note-icon-col-before",colAfter:"note-icon-col-after",rowAbove:"note-icon-row-above",rowRemove:"note-icon-row-remove",colRemove:"note-icon-col-remove",indent:"note-icon-align-indent",outdent:"note-icon-align-outdent",arrowsAlt:"note-icon-arrows-alt",bold:"note-icon-bold",caret:"note-icon-caret",circle:"note-icon-circle",close:"note-icon-close",code:"note-icon-code",eraser:"note-icon-eraser",floatLeft:"note-icon-float-left",floatRight:"note-icon-float-right",font:"note-icon-font",frame:"note-icon-frame",italic:"note-icon-italic",link:"note-icon-link",unlink:"note-icon-chain-broken",magic:"note-icon-magic",menuCheck:"note-icon-menu-check",minus:"note-icon-minus",orderedlist:"note-icon-orderedlist",pencil:"note-icon-pencil",picture:"note-icon-picture",question:"note-icon-question",redo:"note-icon-redo",rollback:"note-icon-rollback",square:"note-icon-square",strikethrough:"note-icon-strikethrough",subscript:"note-icon-subscript",superscript:"note-icon-superscript",table:"note-icon-table",textHeight:"note-icon-text-height",trash:"note-icon-trash",underline:"note-icon-underline",undo:"note-icon-undo",unorderedlist:"note-icon-unorderedlist",video:"note-icon-video"}}}),w.summernote=w.extend(w.summernote,{ui:I})}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],e):e((t=t||self).jQuery)}(this,function(w){"use strict";w=w&&w.hasOwnProperty("default")?w.default:w;var i=(t.prototype.render=function(t){var o=w(this.markup);if(this.options&&this.options.contents&&o.html(this.options.contents),this.options&&this.options.className&&o.addClass(this.options.className),this.options&&this.options.data&&w.each(this.options.data,function(t,e){o.attr("data-"+t,e)}),this.options&&this.options.click&&o.on("click",this.options.click),this.children){var e=o.find(".note-children-container");this.children.forEach(function(t){t.render(e.length?e:o)})}return this.callback&&this.callback(o,this.options),this.options&&this.options.callback&&this.options.callback(o),t&&t.append(o),o},t);function t(t,e,o,n){this.markup=t,this.children=e,this.options=o,this.callback=n}var o=function(o,n){return function(){var t="object"==typeof arguments[1]?arguments[1]:arguments[0],e=Array.isArray(arguments[0])?arguments[0]:[];return t&&t.children&&(e=t.children),new i(o,e,t,n)}},e=o('<div class="note-editor note-frame panel panel-default"/>'),n=o('<div class="note-toolbar panel-heading" role="toolbar"></div></div>'),r=o('<div class="note-editing-area"/>'),a=o('<textarea class="note-codable" role="textbox" aria-multiline="true"/>'),s=o('<div class="note-editable" contentEditable="true" role="textbox" aria-multiline="true"/>'),l=o(['<output class="note-status-output" aria-live="polite"/>','<div class="note-statusbar" role="status">','  <div class="note-resizebar" role="seperator" aria-orientation="horizontal" aria-label="Resize">','    <div class="note-icon-bar"/>','    <div class="note-icon-bar"/>','    <div class="note-icon-bar"/>',"  </div>","</div>"].join("")),c=o('<div class="note-editor"/>'),d=o(['<div class="note-editable" contentEditable="true" role="textbox" aria-multiline="true"/>','<output class="note-status-output" aria-live="polite"/>'].join("")),u=o('<div class="note-btn-group btn-group">'),h=o('<ul class="dropdown-menu" role="list">',function(t,i){var e=Array.isArray(i.items)?i.items.map(function(t){var e="string"==typeof t?t:t.value||"",o=i.template?i.template(t):t,n="object"==typeof t?t.option:void 0;return'<li role="listitem" aria-label="'+e+'"><a href="#" '+('data-value="'+e+'"')+(void 0!==n?' data-option="'+n+'"':"")+">"+o+"</a></li>"}).join(""):i.items;t.html(e).attr({"aria-label":i.title})}),p=o('<ul class="dropdown-menu note-check" role="list">',function(t,n){var e=Array.isArray(n.items)?n.items.map(function(t){var e="string"==typeof t?t:t.value||"",o=n.template?n.template(t):t;return'<li role="listitem" aria-label="'+t+'"><a href="#" data-value="'+e+'">'+b(n.checkClassName)+" "+o+"</a></li>"}).join(""):n.items;t.html(e).attr({"aria-label":n.title})}),f=o('<div class="note-color-palette"/>',function(t,e){for(var o=[],n=0,i=e.colors.length;n<i;n++){for(var r=e.eventName,a=e.colors[n],s=e.colorsName[n],l=[],c=0,d=a.length;c<d;c++){var u=a[c],h=s[c];l.push(['<button type="button" class="note-color-btn"','style="background-color:',u,'" ','data-event="',r,'" ','data-value="',u,'" ','title="',h,'" ','aria-label="',h,'" ','data-toggle="button" tabindex="-1"></button>'].join(""))}o.push('<div class="note-color-row">'+l.join("")+"</div>")}t.html(o.join("")),e.tooltip&&t.find(".note-color-btn").tooltip({container:e.container,trigger:"hover",placement:"bottom"})}),m=o('<div class="modal" aria-hidden="false" tabindex="-1" role="dialog"/>',function(t,e){e.fade&&t.addClass("fade"),t.attr({"aria-label":e.title}),t.html(['<div class="modal-dialog">','  <div class="modal-content">',e.title?'    <div class="modal-header">      <button type="button" class="close" data-dismiss="modal" aria-label="Close" aria-hidden="true">&times;</button>      <h4 class="modal-title">'+e.title+"</h4>    </div>":"",'    <div class="modal-body">'+e.body+"</div>",e.footer?'    <div class="modal-footer">'+e.footer+"</div>":"","  </div>","</div>"].join(""))}),g=o(['<div class="note-popover popover in">','  <div class="arrow"/>','  <div class="popover-content note-children-container"/>',"</div>"].join(""),function(t,e){var o=void 0!==e.direction?e.direction:"bottom";t.addClass(o),e.hideArrow&&t.find(".arrow").hide()}),v=o('<div class="checkbox"></div>',function(t,e){t.html(["<label"+(e.id?' for="'+e.id+'"':"")+">",' <input role="checkbox" type="checkbox"'+(e.id?' id="'+e.id+'"':""),e.checked?" checked":"",' aria-checked="'+(e.checked?"true":"false")+'"/>',e.text?e.text:"","</label>"].join(""))}),b=function(t,e){return"<"+(e=e||"i")+' class="'+t+'"/>'},y={editor:e,toolbar:n,editingArea:r,codable:a,editable:s,statusbar:l,airEditor:c,airEditable:d,buttonGroup:u,dropdown:h,dropdownButtonContents:function(t,e){return t+" "+b(e.icons.caret,"span")},dropdownCheck:p,palette:f,dialog:m,popover:g,checkbox:v,icon:b,options:{},button:function(t,e){return o('<button type="button" class="note-btn btn btn-default btn-sm" role="button" tabindex="-1">',function(t,e){e&&e.tooltip&&t.attr({title:e.tooltip,"aria-label":e.tooltip}).tooltip({container:void 0!==e.container?e.container:"body",trigger:"hover",placement:"bottom"}).on("click",function(t){w(t.currentTarget).tooltip("hide")})})(t,e)},toggleBtn:function(t,e){t.toggleClass("disabled",!e),t.attr("disabled",!e)},toggleBtnActive:function(t,e){t.toggleClass("active",e)},onDialogShown:function(t,e){t.one("shown.bs.modal",e)},onDialogHidden:function(t,e){t.one("hidden.bs.modal",e)},showDialog:function(t){t.modal("show")},hideDialog:function(t){t.modal("hide")},createLayout:function(t,e){var o=(e.airMode?y.airEditor([y.editingArea([y.airEditable()])]):y.editor([y.toolbar(),y.editingArea([y.codable(),y.editable()]),y.statusbar()])).render();return o.insertAfter(t),{note:t,editor:o,toolbar:o.find(".note-toolbar"),editingArea:o.find(".note-editing-area"),editable:o.find(".note-editable"),codable:o.find(".note-codable"),statusbar:o.find(".note-statusbar")}},removeLayout:function(t,e){t.html(e.editable.html()),e.editor.remove(),t.show()}};w.summernote=w.summernote||{lang:{}},w.extend(w.summernote.lang,{"en-US":{font:{bold:"Bold",italic:"Italic",underline:"Underline",clear:"Remove Font Style",height:"Line Height",name:"Font Family",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript",size:"Font Size"},image:{image:"Picture",insert:"Insert Image",resizeFull:"Resize full",resizeHalf:"Resize half",resizeQuarter:"Resize quarter",resizeNone:"Original size",floatLeft:"Float Left",floatRight:"Float Right",floatNone:"Remove float",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"Drag image or text here",dropImage:"Drop image or Text",selectFromFiles:"Select from files",maximumFileSize:"Maximum file size",maximumFileSizeError:"Maximum file size exceeded.",url:"Image URL",remove:"Remove Image",original:"Original"},video:{video:"Video",videoLink:"Video Link",insert:"Insert Video",url:"Video URL",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion or Youku)"},link:{link:"Link",insert:"Insert Link",unlink:"Unlink",edit:"Edit",textToDisplay:"Text to display",url:"To what URL should this link go?",openInNewWindow:"Open in new window"},table:{table:"Table",addRowAbove:"Add row above",addRowBelow:"Add row below",addColLeft:"Add column left",addColRight:"Add column right",delRow:"Delete row",delCol:"Delete column",delTable:"Delete table"},hr:{insert:"Insert Horizontal Rule"},style:{style:"Style",p:"Normal",blockquote:"Quote",pre:"Code",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6"},lists:{unordered:"Unordered list",ordered:"Ordered list"},options:{help:"Help",fullscreen:"Full Screen",codeview:"Code View"},paragraph:{paragraph:"Paragraph",outdent:"Outdent",indent:"Indent",left:"Align left",center:"Align center",right:"Align right",justify:"Justify full"},color:{recent:"Recent Color",more:"More Color",background:"Background Color",foreground:"Foreground Color",transparent:"Transparent",setTransparent:"Set transparent",reset:"Reset",resetToDefault:"Reset to default",cpSelect:"Select"},shortcut:{shortcuts:"Keyboard shortcuts",close:"Close",textFormatting:"Text formatting",action:"Action",paragraphFormatting:"Paragraph formatting",documentStyle:"Document Style",extraKeys:"Extra keys"},help:{insertParagraph:"Insert Paragraph",undo:"Undoes the last command",redo:"Redoes the last command",tab:"Tab",untab:"Untab",bold:"Set a bold style",italic:"Set a italic style",underline:"Set a underline style",strikethrough:"Set a strikethrough style",removeFormat:"Clean a style",justifyLeft:"Set left align",justifyCenter:"Set center align",justifyRight:"Set right align",justifyFull:"Set full align",insertUnorderedList:"Toggle unordered list",insertOrderedList:"Toggle ordered list",outdent:"Outdent on current paragraph",indent:"Indent on current paragraph",formatPara:"Change current block's format as a paragraph(P tag)",formatH1:"Change current block's format as H1",formatH2:"Change current block's format as H2",formatH3:"Change current block's format as H3",formatH4:"Change current block's format as H4",formatH5:"Change current block's format as H5",formatH6:"Change current block's format as H6",insertHorizontalRule:"Insert horizontal rule","linkDialog.show":"Show Link Dialog"},history:{undo:"Undo",redo:"Redo"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"}}});var x="function"==typeof define&&define.amd;var C,k=navigator.userAgent,S=/MSIE|Trident/i.test(k);if(S){var T=/MSIE (\d+[.]\d+)/.exec(k);T&&(C=parseFloat(T[1])),(T=/Trident\/.*rv:([0-9]{1,}[.0-9]{0,})/.exec(k))&&(C=parseFloat(T[1]))}var E=/Edge\/\d+/.test(k),I=!!window.CodeMirror,P="ontouchstart"in window||0<navigator.MaxTouchPoints||0<navigator.msMaxTouchPoints,N=S||E?"DOMCharacterDataModified DOMSubtreeModified DOMNodeInserted":"input",L={isMac:-1<navigator.appVersion.indexOf("Mac"),isMSIE:S,isEdge:E,isFF:!E&&/firefox/i.test(k),isPhantom:/PhantomJS/i.test(k),isWebkit:!E&&/webkit/i.test(k),isChrome:!E&&/chrome/i.test(k),isSafari:!E&&/safari/i.test(k),browserVersion:C,jqueryVersion:parseFloat(w.fn.jquery),isSupportAmd:x,isSupportTouch:P,hasCodeMirror:I,isFontInstalled:function(t){var e="Comic Sans MS"===t?"Courier New":"Comic Sans MS",o="mmmmmmmmmmwwwww",n=document.createElement("canvas").getContext("2d");n.font="200px '"+e+"'";var i=n.measureText(o).width;return n.font="200px '"+t+"', '"+e+"'",i!==n.measureText(o).width},isW3CRangeSupport:!!document.createRange,inputEventName:N};var A=0;var M={eq:function(e){return function(t){return e===t}},eq2:function(t,e){return t===e},peq2:function(o){return function(t,e){return t[o]===e[o]}},ok:function(){return!0},fail:function(){return!1},self:function(t){return t},not:function(t){return function(){return!t.apply(t,arguments)}},and:function(e,o){return function(t){return e(t)&&o(t)}},invoke:function(t,e){return function(){return t[e].apply(t,arguments)}},uniqueId:function(t){var e=++A+"";return t?t+e:e},rect2bnd:function(t){var e=$(document);return{top:t.top+e.scrollTop(),left:t.left+e.scrollLeft(),width:t.right-t.left,height:t.bottom-t.top}},invertObject:function(t){var e={};for(var o in t)t.hasOwnProperty(o)&&(e[t[o]]=o);return e},namespaceToCamel:function(t,e){return(e=e||"")+t.split(".").map(function(t){return t.substring(0,1).toUpperCase()+t.substring(1)}).join("")},debounce:function(n,i,r){var a;return function(){var t=this,e=arguments,o=r&&!a;clearTimeout(a),a=setTimeout(function(){a=null,r||n.apply(t,e)},i),o&&n.apply(t,e)}},isValidUrl:function(t){return/[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/gi.test(t)}};function R(t){return t[0]}function D(t){return t[t.length-1]}function F(t){return t.slice(1)}function H(t,e){return!!(t&&t.length&&e)&&-1!==t.indexOf(e)}var z={head:R,last:D,initial:function(t){return t.slice(0,t.length-1)},tail:F,prev:function(t,e){if(t&&t.length&&e){var o=t.indexOf(e);return-1===o?null:t[o-1]}return null},next:function(t,e){if(t&&t.length&&e){var o=t.indexOf(e);return-1===o?null:t[o+1]}return null},find:function(t,e){for(var o=0,n=t.length;o<n;o++){var i=t[o];if(e(i))return i}},contains:H,all:function(t,e){for(var o=0,n=t.length;o<n;o++)if(!e(t[o]))return!1;return!0},sum:function(t,o){return o=o||M.self,t.reduce(function(t,e){return t+o(e)},0)},from:function(t){for(var e=[],o=t.length,n=-1;++n<o;)e[n]=t[n];return e},isEmpty:function(t){return!t||!t.length},clusterBy:function(t,n){return t.length?F(t).reduce(function(t,e){var o=D(t);return n(D(o),e)?o[o.length]=e:t[t.length]=[e],t},[[R(t)]]):[]},compact:function(t){for(var e=[],o=0,n=t.length;o<n;o++)t[o]&&e.push(t[o]);return e},unique:function(t){for(var e=[],o=0,n=t.length;o<n;o++)H(e,t[o])||e.push(t[o]);return e}},B=String.fromCharCode(160);function O(t){return t&&w(t).hasClass("note-editable")}function j(e){return e=e.toUpperCase(),function(t){return t&&t.nodeName.toUpperCase()===e}}function q(t){return t&&3===t.nodeType}function U(t){return t&&/^BR|^IMG|^HR|^IFRAME|^BUTTON|^INPUT|^AUDIO|^VIDEO|^EMBED/.test(t.nodeName.toUpperCase())}function W(t){return!O(t)&&(t&&/^DIV|^P|^LI|^H[1-7]/.test(t.nodeName.toUpperCase()))}var V=j("PRE"),G=j("LI");var K=j("TABLE"),_=j("DATA");function Y(t){return!(tt(t)||X(t)||Z(t)||W(t)||K(t)||J(t)||_(t))}function X(t){return t&&/^UL|^OL/.test(t.nodeName.toUpperCase())}var Z=j("HR");function Q(t){return t&&/^TD|^TH/.test(t.nodeName.toUpperCase())}var J=j("BLOCKQUOTE");function tt(t){return Q(t)||J(t)||O(t)}var et=j("A");var ot=j("BODY");var nt=L.isMSIE&&L.browserVersion<11?"&nbsp;":"<br>";function it(t){return q(t)?t.nodeValue.length:t?t.childNodes.length:0}function rt(t){var e=it(t);return 0===e||(!q(t)&&1===e&&t.innerHTML===nt||!(!z.all(t.childNodes,q)||""!==t.innerHTML))}function at(t){U(t)||it(t)||(t.innerHTML=nt)}function st(t,e){for(;t;){if(e(t))return t;if(O(t))break;t=t.parentNode}return null}function lt(t,e){e=e||M.fail;var o=[];return st(t,function(t){return O(t)||o.push(t),e(t)}),o}function ct(t,e){e=e||M.fail;for(var o=[];t&&!e(t);)o.push(t),t=t.nextSibling;return o}function dt(t,e){var o=e.nextSibling,n=e.parentNode;return o?n.insertBefore(t,o):n.appendChild(t),t}function ut(o,t){return w.each(t,function(t,e){o.appendChild(e)}),o}function ht(t){return 0===t.offset}function pt(t){return t.offset===it(t.node)}function ft(t){return ht(t)||pt(t)}function mt(t,e){for(;t&&t!==e;){if(0!==vt(t))return!1;t=t.parentNode}return!0}function gt(t,e){if(!e)return!1;for(;t&&t!==e;){if(vt(t)!==it(t.parentNode)-1)return!1;t=t.parentNode}return!0}function vt(t){for(var e=0;t=t.previousSibling;)e+=1;return e}function bt(t){return!!(t&&t.childNodes&&t.childNodes.length)}function yt(t,e){var o,n;if(0===t.offset){if(O(t.node))return null;o=t.node.parentNode,n=vt(t.node)}else n=bt(t.node)?it(o=t.node.childNodes[t.offset-1]):(o=t.node,e?0:t.offset-1);return{node:o,offset:n}}function xt(t,e){var o,n;if(it(t.node)===t.offset){if(O(t.node))return null;o=t.node.parentNode,n=vt(t.node)+1}else n=bt(t.node)?(o=t.node.childNodes[t.offset],0):(o=t.node,e?it(t.node):t.offset+1);return{node:o,offset:n}}function wt(t,e){return t.node===e.node&&t.offset===e.offset}function Ct(t,e){var o=e&&e.isSkipPaddingBlankHTML,n=e&&e.isNotSplitEdgePoint,i=e&&e.isDiscardEmptySplits;if(i&&(o=!0),ft(t)&&(q(t.node)||n)){if(ht(t))return t.node;if(pt(t))return t.node.nextSibling}if(q(t.node))return t.node.splitText(t.offset);var r=t.node.childNodes[t.offset],a=dt(t.node.cloneNode(!1),t.node);return ut(a,ct(r)),o||(at(t.node),at(a)),i&&(rt(t.node)&&Tt(t.node),rt(a))?(Tt(a),t.node.nextSibling):a}function kt(t,o,n){var e=lt(o.node,M.eq(t));return e.length?1===e.length?Ct(o,n):e.reduce(function(t,e){return t===o.node&&(t=Ct(o,n)),Ct({node:e,offset:t?vt(t):it(e)},n)}):null}function St(t){return document.createElement(t)}function Tt(t,e){if(t&&t.parentNode){if(t.removeNode)return t.removeNode(e);var o=t.parentNode;if(!e){for(var n=[],i=0,r=t.childNodes.length;i<r;i++)n.push(t.childNodes[i]);for(i=0,r=n.length;i<r;i++)o.insertBefore(n[i],t)}o.removeChild(t)}}var Et=j("TEXTAREA");function $t(t,e){var o=Et(t[0])?t.val():t.html();return e?o.replace(/[\n\r]/g,""):o}var It={NBSP_CHAR:B,ZERO_WIDTH_NBSP_CHAR:"\ufeff",blank:nt,emptyPara:"<p>"+nt+"</p>",makePredByNodeName:j,isEditable:O,isControlSizing:function(t){return t&&w(t).hasClass("note-control-sizing")},isText:q,isElement:function(t){return t&&1===t.nodeType},isVoid:U,isPara:W,isPurePara:function(t){return W(t)&&!G(t)},isHeading:function(t){return t&&/^H[1-7]/.test(t.nodeName.toUpperCase())},isInline:Y,isBlock:M.not(Y),isBodyInline:function(t){return Y(t)&&!st(t,W)},isBody:ot,isParaInline:function(t){return Y(t)&&!!st(t,W)},isPre:V,isList:X,isTable:K,isData:_,isCell:Q,isBlockquote:J,isBodyContainer:tt,isAnchor:et,isDiv:j("DIV"),isLi:G,isBR:j("BR"),isSpan:j("SPAN"),isB:j("B"),isU:j("U"),isS:j("S"),isI:j("I"),isImg:j("IMG"),isTextarea:Et,isEmpty:rt,isEmptyAnchor:M.and(et,rt),isClosestSibling:function(t,e){return t.nextSibling===e||t.previousSibling===e},withClosestSiblings:function(t,e){e=e||M.ok;var o=[];return t.previousSibling&&e(t.previousSibling)&&o.push(t.previousSibling),o.push(t),t.nextSibling&&e(t.nextSibling)&&o.push(t.nextSibling),o},nodeLength:it,isLeftEdgePoint:ht,isRightEdgePoint:pt,isEdgePoint:ft,isLeftEdgeOf:mt,isRightEdgeOf:gt,isLeftEdgePointOf:function(t,e){return ht(t)&&mt(t.node,e)},isRightEdgePointOf:function(t,e){return pt(t)&&gt(t.node,e)},prevPoint:yt,nextPoint:xt,isSamePoint:wt,isVisiblePoint:function(t){if(q(t.node)||!bt(t.node)||rt(t.node))return!0;var e=t.node.childNodes[t.offset-1],o=t.node.childNodes[t.offset];return!(e&&!U(e)||o&&!U(o))},prevPointUntil:function(t,e){for(;t;){if(e(t))return t;t=yt(t)}return null},nextPointUntil:function(t,e){for(;t;){if(e(t))return t;t=xt(t)}return null},isCharPoint:function(t){if(!q(t.node))return!1;var e=t.node.nodeValue.charAt(t.offset-1);return e&&" "!==e&&e!==B},walkPoint:function(t,e,o,n){for(var i=t;i&&(o(i),!wt(i,e));){i=xt(i,n&&t.node!==i.node&&e.node!==i.node)}},ancestor:st,singleChildAncestor:function(t,e){for(t=t.parentNode;t&&1===it(t);){if(e(t))return t;if(O(t))break;t=t.parentNode}return null},listAncestor:lt,lastAncestor:function(t,e){var o=lt(t);return z.last(o.filter(e))},listNext:ct,listPrev:function(t,e){e=e||M.fail;for(var o=[];t&&!e(t);)o.push(t),t=t.previousSibling;return o},listDescendant:function(i,r){var a=[];return r=r||M.ok,function t(e){i!==e&&r(e)&&a.push(e);for(var o=0,n=e.childNodes.length;o<n;o++)t(e.childNodes[o])}(i),a},commonAncestor:function(t,e){for(var o=lt(t),n=e;n;n=n.parentNode)if(-1<o.indexOf(n))return n;return null},wrap:function(t,e){var o=t.parentNode,n=w("<"+e+">")[0];return o.insertBefore(n,t),n.appendChild(t),n},insertAfter:dt,appendChildNodes:ut,position:vt,hasChildren:bt,makeOffsetPath:function(t,e){return lt(e,M.eq(t)).map(vt).reverse()},fromOffsetPath:function(t,e){for(var o=t,n=0,i=e.length;n<i;n++)o=o.childNodes.length<=e[n]?o.childNodes[o.childNodes.length-1]:o.childNodes[e[n]];return o},splitTree:kt,splitPoint:function(t,e){var o,n,i=e?W:tt,r=lt(t.node,i),a=z.last(r)||t.node;n=i(a)?(o=r[r.length-2],a):(o=a).parentNode;var s=o&&kt(o,t,{isSkipPaddingBlankHTML:e,isNotSplitEdgePoint:e});return s||n!==t.node||(s=t.node.childNodes[t.offset]),{rightNode:s,container:n}},create:St,createText:function(t){return document.createTextNode(t)},remove:Tt,removeWhile:function(t,e){for(;t&&!O(t)&&e(t);){var o=t.parentNode;Tt(t),t=o}},replace:function(t,e){if(t.nodeName.toUpperCase()===e.toUpperCase())return t;var o=St(e);return t.style.cssText&&(o.style.cssText=t.style.cssText),ut(o,z.from(t.childNodes)),dt(o,t),Tt(t),o},html:function(t,e){var o=$t(t);if(e){o=(o=o.replace(/<(\/?)(\b(?!!)[^>\s]*)(.*?)(\s*\/?>)/g,function(t,e,o){o=o.toUpperCase();var n=/^DIV|^TD|^TH|^P|^LI|^H[1-7]/.test(o)&&!!e,i=/^BLOCKQUOTE|^TABLE|^TBODY|^TR|^HR|^UL|^OL/.test(o);return t+(n||i?"\n":"")})).trim()}return o},value:$t,posFromPlaceholder:function(t){var e=w(t),o=e.offset(),n=e.outerHeight(!0);return{left:o.left,top:o.top+n}},attachEvents:function(e,o){Object.keys(o).forEach(function(t){e.on(t,o[t])})},detachEvents:function(e,o){Object.keys(o).forEach(function(t){e.off(t,o[t])})},isCustomStyleTag:function(t){return t&&!q(t)&&z.contains(t.classList,"note-styletag")}},Pt=(Nt.prototype.initialize=function(){return this.layoutInfo=this.ui.createLayout(this.$note,this.options),this._initialize(),this.$note.hide(),this},Nt.prototype.destroy=function(){this._destroy(),this.$note.removeData("summernote"),this.ui.removeLayout(this.$note,this.layoutInfo)},Nt.prototype.reset=function(){var t=this.isDisabled();this.code(It.emptyPara),this._destroy(),this._initialize(),t&&this.disable()},Nt.prototype._initialize=function(){var e=this,o=w.extend({},this.options.buttons);Object.keys(o).forEach(function(t){e.memo("button."+t,o[t])});var n=w.extend({},this.options.modules,w.summernote.plugins||{});Object.keys(n).forEach(function(t){e.module(t,n[t],!0)}),Object.keys(this.modules).forEach(function(t){e.initializeModule(t)})},Nt.prototype._destroy=function(){var e=this;Object.keys(this.modules).reverse().forEach(function(t){e.removeModule(t)}),Object.keys(this.memos).forEach(function(t){e.removeMemo(t)}),this.triggerEvent("destroy",this)},Nt.prototype.code=function(t){var e=this.invoke("codeview.isActivated");if(void 0===t)return this.invoke("codeview.sync"),e?this.layoutInfo.codable.val():this.layoutInfo.editable.html();e?this.layoutInfo.codable.val(t):this.layoutInfo.editable.html(t),this.$note.val(t),this.triggerEvent("change",t,this.layoutInfo.editable)},Nt.prototype.isDisabled=function(){return"false"===this.layoutInfo.editable.attr("contenteditable")},Nt.prototype.enable=function(){this.layoutInfo.editable.attr("contenteditable",!0),this.invoke("toolbar.activate",!0),this.triggerEvent("disable",!1)},Nt.prototype.disable=function(){this.invoke("codeview.isActivated")&&this.invoke("codeview.deactivate"),this.layoutInfo.editable.attr("contenteditable",!1),this.invoke("toolbar.deactivate",!0),this.triggerEvent("disable",!0)},Nt.prototype.triggerEvent=function(){var t=z.head(arguments),e=z.tail(z.from(arguments)),o=this.options.callbacks[M.namespaceToCamel(t,"on")];o&&o.apply(this.$note[0],e),this.$note.trigger("summernote."+t,e)},Nt.prototype.initializeModule=function(t){var e=this.modules[t];e.shouldInitialize=e.shouldInitialize||M.ok,e.shouldInitialize()&&(e.initialize&&e.initialize(),e.events&&It.attachEvents(this.$note,e.events))},Nt.prototype.module=function(t,e,o){if(1===arguments.length)return this.modules[t];this.modules[t]=new e(this),o||this.initializeModule(t)},Nt.prototype.removeModule=function(t){var e=this.modules[t];e.shouldInitialize()&&(e.events&&It.detachEvents(this.$note,e.events),e.destroy&&e.destroy()),delete this.modules[t]},Nt.prototype.memo=function(t,e){if(1===arguments.length)return this.memos[t];this.memos[t]=e},Nt.prototype.removeMemo=function(t){this.memos[t]&&this.memos[t].destroy&&this.memos[t].destroy(),delete this.memos[t]},Nt.prototype.createInvokeHandlerAndUpdateState=function(e,o){var n=this;return function(t){n.createInvokeHandler(e,o)(t),n.invoke("buttons.updateCurrentStyle")}},Nt.prototype.createInvokeHandler=function(o,n){var i=this;return function(t){t.preventDefault();var e=w(t.target);i.invoke(o,n||e.closest("[data-value]").data("value"),e)}},Nt.prototype.invoke=function(){var t=z.head(arguments),e=z.tail(z.from(arguments)),o=t.split("."),n=1<o.length,i=n&&z.head(o),r=n?z.last(o):z.head(o),a=this.modules[i||"editor"];return!i&&this[r]?this[r].apply(this,e):a&&a[r]&&a.shouldInitialize()?a[r].apply(a,e):void 0},Nt);function Nt(t,e){this.ui=w.summernote.ui,this.$note=t,this.memos={},this.modules={},this.layoutInfo={},this.options=e,this.initialize()}function Lt(t,e){var o,n,i=t.parentElement(),r=document.body.createTextRange(),a=z.from(i.childNodes);for(o=0;o<a.length;o++)if(!It.isText(a[o])){if(r.moveToElementText(a[o]),0<=r.compareEndPoints("StartToStart",t))break;n=a[o]}if(0!==o&&It.isText(a[o-1])){var s=document.body.createTextRange(),l=null;s.moveToElementText(n||i),s.collapse(!n),l=n?n.nextSibling:i.firstChild;var c=t.duplicate();c.setEndPoint("StartToStart",s);for(var d=c.text.replace(/[\r\n]/g,"").length;d>l.nodeValue.length&&l.nextSibling;)d-=l.nodeValue.length,l=l.nextSibling;l.nodeValue;e&&l.nextSibling&&It.isText(l.nextSibling)&&d===l.nodeValue.length&&(d-=l.nodeValue.length,l=l.nextSibling),i=l,o=d}return{cont:i,offset:o}}function At(t){var a=function(t,e){var o,n;if(It.isText(t)){var i=It.listPrev(t,M.not(It.isText)),r=z.last(i).previousSibling;o=r||t.parentNode,e+=z.sum(z.tail(i),It.nodeLength),n=!r}else{if(o=t.childNodes[e]||t,It.isText(o))return a(o,0);e=0,n=!1}return{node:o,collapseToStart:n,offset:e}},e=document.body.createTextRange(),o=a(t.node,t.offset);return e.moveToElementText(o.node),e.collapse(o.collapseToStart),e.moveStart("character",o.offset),e}w.fn.extend({summernote:function(){var t=w.type(z.head(arguments)),e="string"===t,o="object"===t,i=w.extend({},w.summernote.options,o?z.head(arguments):{});i.langInfo=w.extend(!0,{},w.summernote.lang["en-US"],w.summernote.lang[i.lang]),i.icons=w.extend(!0,{},w.summernote.options.icons,i.icons),i.tooltip="auto"===i.tooltip?!L.isSupportTouch:i.tooltip,this.each(function(t,e){var o=w(e);if(!o.data("summernote")){var n=new Pt(o,i);o.data("summernote",n),o.data("summernote").triggerEvent("init",n.layoutInfo)}});var n=this.first();if(n.length){var r=n.data("summernote");if(e)return r.invoke.apply(r,z.from(arguments));i.focus&&r.invoke("editor.focus")}return this}});var Mt=(Rt.prototype.nativeRange=function(){if(L.isW3CRangeSupport){var t=document.createRange();return t.setStart(this.sc,this.sc.data&&this.so>this.sc.data.length?0:this.so),t.setEnd(this.ec,this.sc.data?Math.min(this.eo,this.sc.data.length):this.eo),t}var e=At({node:this.sc,offset:this.so});return e.setEndPoint("EndToEnd",At({node:this.ec,offset:this.eo})),e},Rt.prototype.getPoints=function(){return{sc:this.sc,so:this.so,ec:this.ec,eo:this.eo}},Rt.prototype.getStartPoint=function(){return{node:this.sc,offset:this.so}},Rt.prototype.getEndPoint=function(){return{node:this.ec,offset:this.eo}},Rt.prototype.select=function(){var t=this.nativeRange();if(L.isW3CRangeSupport){var e=document.getSelection();0<e.rangeCount&&e.removeAllRanges(),e.addRange(t)}else t.select();return this},Rt.prototype.scrollIntoView=function(t){var e=w(t).height();return t.scrollTop+e<this.sc.offsetTop&&(t.scrollTop+=Math.abs(t.scrollTop+e-this.sc.offsetTop)),this},Rt.prototype.normalize=function(){function t(t,e){if(It.isVisiblePoint(t)&&(!It.isEdgePoint(t)||It.isRightEdgePoint(t)&&!e||It.isLeftEdgePoint(t)&&e||It.isRightEdgePoint(t)&&e&&It.isVoid(t.node.nextSibling)||It.isLeftEdgePoint(t)&&!e&&It.isVoid(t.node.previousSibling)||It.isBlock(t.node)&&It.isEmpty(t.node)))return t;var o=It.ancestor(t.node,It.isBlock);if((It.isLeftEdgePointOf(t,o)||It.isVoid(It.prevPoint(t).node))&&!e||(It.isRightEdgePointOf(t,o)||It.isVoid(It.nextPoint(t).node))&&e){if(It.isVisiblePoint(t))return t;e=!e}return(e?It.nextPointUntil(It.nextPoint(t),It.isVisiblePoint):It.prevPointUntil(It.prevPoint(t),It.isVisiblePoint))||t}var e=t(this.getEndPoint(),!1),o=this.isCollapsed()?e:t(this.getStartPoint(),!0);return new Rt(o.node,o.offset,e.node,e.offset)},Rt.prototype.nodes=function(o,t){o=o||M.ok;var n=t&&t.includeAncestor,i=t&&t.fullyContains,e=this.getStartPoint(),r=this.getEndPoint(),a=[],s=[];return It.walkPoint(e,r,function(t){var e;It.isEditable(t.node)||(i?(It.isLeftEdgePoint(t)&&s.push(t.node),It.isRightEdgePoint(t)&&z.contains(s,t.node)&&(e=t.node)):e=n?It.ancestor(t.node,o):t.node,e&&o(e)&&a.push(e))},!0),z.unique(a)},Rt.prototype.commonAncestor=function(){return It.commonAncestor(this.sc,this.ec)},Rt.prototype.expand=function(t){var e=It.ancestor(this.sc,t),o=It.ancestor(this.ec,t);if(!e&&!o)return new Rt(this.sc,this.so,this.ec,this.eo);var n=this.getPoints();return e&&(n.sc=e,n.so=0),o&&(n.ec=o,n.eo=It.nodeLength(o)),new Rt(n.sc,n.so,n.ec,n.eo)},Rt.prototype.collapse=function(t){return t?new Rt(this.sc,this.so,this.sc,this.so):new Rt(this.ec,this.eo,this.ec,this.eo)},Rt.prototype.splitText=function(){var t=this.sc===this.ec,e=this.getPoints();return It.isText(this.ec)&&!It.isEdgePoint(this.getEndPoint())&&this.ec.splitText(this.eo),It.isText(this.sc)&&!It.isEdgePoint(this.getStartPoint())&&(e.sc=this.sc.splitText(this.so),e.so=0,t&&(e.ec=e.sc,e.eo=this.eo-this.so)),new Rt(e.sc,e.so,e.ec,e.eo)},Rt.prototype.deleteContents=function(){if(this.isCollapsed())return this;var t=this.splitText(),e=t.nodes(null,{fullyContains:!0}),n=It.prevPointUntil(t.getStartPoint(),function(t){return!z.contains(e,t.node)}),i=[];return w.each(e,function(t,e){var o=e.parentNode;n.node!==o&&1===It.nodeLength(o)&&i.push(o),It.remove(e,!1)}),w.each(i,function(t,e){It.remove(e,!1)}),new Rt(n.node,n.offset,n.node,n.offset).normalize()},Rt.prototype.makeIsOn=function(e){return function(){var t=It.ancestor(this.sc,e);return!!t&&t===It.ancestor(this.ec,e)}},Rt.prototype.isLeftEdgeOf=function(t){if(!It.isLeftEdgePoint(this.getStartPoint()))return!1;var e=It.ancestor(this.sc,t);return e&&It.isLeftEdgeOf(this.sc,e)},Rt.prototype.isCollapsed=function(){return this.sc===this.ec&&this.so===this.eo},Rt.prototype.wrapBodyInlineWithPara=function(){if(It.isBodyContainer(this.sc)&&It.isEmpty(this.sc))return this.sc.innerHTML=It.emptyPara,new Rt(this.sc.firstChild,0,this.sc.firstChild,0);var t,e=this.normalize();if(It.isParaInline(this.sc)||It.isPara(this.sc))return e;if(It.isInline(e.sc)){var o=It.listAncestor(e.sc,M.not(It.isInline));t=z.last(o),It.isInline(t)||(t=o[o.length-2]||e.sc.childNodes[e.so])}else t=e.sc.childNodes[0<e.so?e.so-1:0];var n=It.listPrev(t,It.isParaInline).reverse();if((n=n.concat(It.listNext(t.nextSibling,It.isParaInline))).length){var i=It.wrap(z.head(n),"p");It.appendChildNodes(i,z.tail(n))}return this.normalize()},Rt.prototype.insertNode=function(t){var e=this.wrapBodyInlineWithPara().deleteContents(),o=It.splitPoint(e.getStartPoint(),It.isInline(t));return o.rightNode?o.rightNode.parentNode.insertBefore(t,o.rightNode):o.container.appendChild(t),t},Rt.prototype.pasteHTML=function(t){var e=w("<div></div>").html(t)[0],o=z.from(e.childNodes),n=this.wrapBodyInlineWithPara().deleteContents();return 0<n.so&&(o=o.reverse()),o=o.map(function(t){return n.insertNode(t)}),0<n.so&&(o=o.reverse()),o},Rt.prototype.toString=function(){var t=this.nativeRange();return L.isW3CRangeSupport?t.toString():t.text},Rt.prototype.getWordRange=function(t){var e=this.getEndPoint();if(!It.isCharPoint(e))return this;var o=It.prevPointUntil(e,function(t){return!It.isCharPoint(t)});return t&&(e=It.nextPointUntil(e,function(t){return!It.isCharPoint(t)})),new Rt(o.node,o.offset,e.node,e.offset)},Rt.prototype.bookmark=function(t){return{s:{path:It.makeOffsetPath(t,this.sc),offset:this.so},e:{path:It.makeOffsetPath(t,this.ec),offset:this.eo}}},Rt.prototype.paraBookmark=function(t){return{s:{path:z.tail(It.makeOffsetPath(z.head(t),this.sc)),offset:this.so},e:{path:z.tail(It.makeOffsetPath(z.last(t),this.ec)),offset:this.eo}}},Rt.prototype.getClientRects=function(){return this.nativeRange().getClientRects()},Rt);function Rt(t,e,o,n){this.sc=t,this.so=e,this.ec=o,this.eo=n,this.isOnEditable=this.makeIsOn(It.isEditable),this.isOnList=this.makeIsOn(It.isList),this.isOnAnchor=this.makeIsOn(It.isAnchor),this.isOnCell=this.makeIsOn(It.isCell),this.isOnData=this.makeIsOn(It.isData)}var Dt={create:function(t,e,o,n){if(4===arguments.length)return new Mt(t,e,o,n);if(2===arguments.length)return new Mt(o=t,n=e,o,n);var i=this.createFromSelection();return i||1!==arguments.length?i:(i=this.createFromNode(t)).collapse(It.emptyPara===t.innerHTML)},createFromSelection:function(){var t,e,o,n;if(L.isW3CRangeSupport){var i=document.getSelection();if(!i||0===i.rangeCount)return null;if(It.isBody(i.anchorNode))return null;var r=i.getRangeAt(0);t=r.startContainer,e=r.startOffset,o=r.endContainer,n=r.endOffset}else{var a=document.selection.createRange(),s=a.duplicate();s.collapse(!1);var l=a;l.collapse(!0);var c=Lt(l,!0),d=Lt(s,!1);It.isText(c.node)&&It.isLeftEdgePoint(c)&&It.isTextNode(d.node)&&It.isRightEdgePoint(d)&&d.node.nextSibling===c.node&&(c=d),t=c.cont,e=c.offset,o=d.cont,n=d.offset}return new Mt(t,e,o,n)},createFromNode:function(t){var e=t,o=0,n=t,i=It.nodeLength(n);return It.isVoid(e)&&(o=It.listPrev(e).length-1,e=e.parentNode),It.isBR(n)?(i=It.listPrev(n).length-1,n=n.parentNode):It.isVoid(n)&&(i=It.listPrev(n).length,n=n.parentNode),this.create(e,o,n,i)},createFromNodeBefore:function(t){return this.createFromNode(t).collapse(!0)},createFromNodeAfter:function(t){return this.createFromNode(t).collapse()},createFromBookmark:function(t,e){var o=It.fromOffsetPath(t,e.s.path),n=e.s.offset,i=It.fromOffsetPath(t,e.e.path),r=e.e.offset;return new Mt(o,n,i,r)},createFromParaBookmark:function(t,e){var o=t.s.offset,n=t.e.offset,i=It.fromOffsetPath(z.head(e),t.s.path),r=It.fromOffsetPath(z.last(e),t.e.path);return new Mt(i,o,r,n)}},Ft={BACKSPACE:8,TAB:9,ENTER:13,SPACE:32,DELETE:46,LEFT:37,UP:38,RIGHT:39,DOWN:40,NUM0:48,NUM1:49,NUM2:50,NUM3:51,NUM4:52,NUM5:53,NUM6:54,NUM7:55,NUM8:56,B:66,E:69,I:73,J:74,K:75,L:76,R:82,S:83,U:85,V:86,Y:89,Z:90,SLASH:191,LEFTBRACKET:219,BACKSLASH:220,RIGHTBRACKET:221},Ht={isEdit:function(t){return z.contains([Ft.BACKSPACE,Ft.TAB,Ft.ENTER,Ft.SPACE,Ft.DELETE],t)},isMove:function(t){return z.contains([Ft.LEFT,Ft.UP,Ft.RIGHT,Ft.DOWN],t)},nameFromCode:M.invertObject(Ft),code:Ft};var zt=(Bt.prototype.makeSnapshot=function(){var t=Dt.create(this.editable);return{contents:this.$editable.html(),bookmark:t&&t.isOnEditable()?t.bookmark(this.editable):{s:{path:[],offset:0},e:{path:[],offset:0}}}},Bt.prototype.applySnapshot=function(t){null!==t.contents&&this.$editable.html(t.contents),null!==t.bookmark&&Dt.createFromBookmark(this.editable,t.bookmark).select()},Bt.prototype.rewind=function(){this.$editable.html()!==this.stack[this.stackOffset].contents&&this.recordUndo(),this.stackOffset=0,this.applySnapshot(this.stack[this.stackOffset])},Bt.prototype.commit=function(){this.stack=[],this.stackOffset=-1,this.recordUndo()},Bt.prototype.reset=function(){this.stack=[],this.stackOffset=-1,this.$editable.html(""),this.recordUndo()},Bt.prototype.undo=function(){this.$editable.html()!==this.stack[this.stackOffset].contents&&this.recordUndo(),0<this.stackOffset&&(this.stackOffset--,this.applySnapshot(this.stack[this.stackOffset]))},Bt.prototype.redo=function(){this.stack.length-1>this.stackOffset&&(this.stackOffset++,this.applySnapshot(this.stack[this.stackOffset]))},Bt.prototype.recordUndo=function(){this.stackOffset++,this.stack.length>this.stackOffset&&(this.stack=this.stack.slice(0,this.stackOffset)),this.stack.push(this.makeSnapshot())},Bt);function Bt(t){this.stack=[],this.stackOffset=-1,this.$editable=t,this.editable=t[0]}var Ot=(jt.prototype.jQueryCSS=function(o,t){if(L.jqueryVersion<1.9){var n={};return w.each(t,function(t,e){n[e]=o.css(e)}),n}return o.css(t)},jt.prototype.fromNode=function(t){var e=this.jQueryCSS(t,["font-family","font-size","text-align","list-style-type","line-height"])||{};return e["font-size"]=parseInt(e["font-size"],10),e},jt.prototype.stylePara=function(t,o){w.each(t.nodes(It.isPara,{includeAncestor:!0}),function(t,e){w(e).css(o)})},jt.prototype.styleNodes=function(t,e){t=t.splitText();var o=e&&e.nodeName||"SPAN",n=!(!e||!e.expandClosestSibling),i=!(!e||!e.onlyPartialContains);if(t.isCollapsed())return[t.insertNode(It.create(o))];var r=It.makePredByNodeName(o),a=t.nodes(It.isText,{fullyContains:!0}).map(function(t){return It.singleChildAncestor(t,r)||It.wrap(t,o)});if(n){if(i){var s=t.nodes();r=M.and(r,function(t){return z.contains(s,t)})}return a.map(function(t){var e=It.withClosestSiblings(t,r),o=z.head(e),n=z.tail(e);return w.each(n,function(t,e){It.appendChildNodes(o,e.childNodes),It.remove(e)}),z.head(e)})}return a},jt.prototype.current=function(t){var e=w(It.isElement(t.sc)?t.sc:t.sc.parentNode),o=this.fromNode(e);try{o=w.extend(o,{"font-bold":document.queryCommandState("bold")?"bold":"normal","font-italic":document.queryCommandState("italic")?"italic":"normal","font-underline":document.queryCommandState("underline")?"underline":"normal","font-subscript":document.queryCommandState("subscript")?"subscript":"normal","font-superscript":document.queryCommandState("superscript")?"superscript":"normal","font-strikethrough":document.queryCommandState("strikethrough")?"strikethrough":"normal","font-family":document.queryCommandValue("fontname")||o["font-family"]})}catch(t){}if(t.isOnList()){var n=-1<["circle","disc","disc-leading-zero","square"].indexOf(o["list-style-type"]);o["list-style"]=n?"unordered":"ordered"}else o["list-style"]="none";var i=It.ancestor(t.sc,It.isPara);if(i&&i.style["line-height"])o["line-height"]=i.style.lineHeight;else{var r=parseInt(o["line-height"],10)/parseInt(o["font-size"],10);o["line-height"]=r.toFixed(1)}return o.anchor=t.isOnAnchor()&&It.ancestor(t.sc,It.isAnchor),o.ancestors=It.listAncestor(t.sc,It.isEditable),o.range=t,o},jt);function jt(){}var qt=(Ut.prototype.insertOrderedList=function(t){this.toggleList("OL",t)},Ut.prototype.insertUnorderedList=function(t){this.toggleList("UL",t)},Ut.prototype.indent=function(t){var i=this,e=Dt.create(t).wrapBodyInlineWithPara(),o=e.nodes(It.isPara,{includeAncestor:!0}),n=z.clusterBy(o,M.peq2("parentNode"));w.each(n,function(t,e){var o=z.head(e);if(It.isLi(o)){var n=i.findList(o.previousSibling);n?e.map(function(t){return n.appendChild(t)}):(i.wrapList(e,o.parentNode.nodeName),e.map(function(t){return t.parentNode}).map(function(t){return i.appendToPrevious(t)}))}else w.each(e,function(t,e){w(e).css("marginLeft",function(t,e){return(parseInt(e,10)||0)+25})})}),e.select()},Ut.prototype.outdent=function(t){var n=this,e=Dt.create(t).wrapBodyInlineWithPara(),o=e.nodes(It.isPara,{includeAncestor:!0}),i=z.clusterBy(o,M.peq2("parentNode"));w.each(i,function(t,e){var o=z.head(e);It.isLi(o)?n.releaseList([e]):w.each(e,function(t,e){w(e).css("marginLeft",function(t,e){return 25<(e=parseInt(e,10)||0)?e-25:""})})}),e.select()},Ut.prototype.toggleList=function(o,t){var n=this,e=Dt.create(t).wrapBodyInlineWithPara(),i=e.nodes(It.isPara,{includeAncestor:!0}),r=e.paraBookmark(i),a=z.clusterBy(i,M.peq2("parentNode"));if(z.find(i,It.isPurePara)){var s=[];w.each(a,function(t,e){s=s.concat(n.wrapList(e,o))}),i=s}else{var l=e.nodes(It.isList,{includeAncestor:!0}).filter(function(t){return!w.nodeName(t,o)});l.length?w.each(l,function(t,e){It.replace(e,o)}):i=this.releaseList(a,!0)}Dt.createFromParaBookmark(r,i).select()},Ut.prototype.wrapList=function(t,e){var o=z.head(t),n=z.last(t),i=It.isList(o.previousSibling)&&o.previousSibling,r=It.isList(n.nextSibling)&&n.nextSibling,a=i||It.insertAfter(It.create(e||"UL"),n);return t=t.map(function(t){return It.isPurePara(t)?It.replace(t,"LI"):t}),It.appendChildNodes(a,t),r&&(It.appendChildNodes(a,z.from(r.childNodes)),It.remove(r)),t},Ut.prototype.releaseList=function(t,c){var d=this,u=[];return w.each(t,function(t,e){var o=z.head(e),n=z.last(e),i=c?It.lastAncestor(o,It.isList):o.parentNode,r=i.parentNode;if("LI"===i.parentNode.nodeName)e.map(function(t){var e=d.findNextSiblings(t);r.nextSibling?r.parentNode.insertBefore(t,r.nextSibling):r.parentNode.appendChild(t),e.length&&(d.wrapList(e,i.nodeName),t.appendChild(e[0].parentNode))}),0===i.children.length&&r.removeChild(i),0===r.childNodes.length&&r.parentNode.removeChild(r);else{var a=1<i.childNodes.length?It.splitTree(i,{node:n.parentNode,offset:It.position(n)+1},{isSkipPaddingBlankHTML:!0}):null,s=It.splitTree(i,{node:o.parentNode,offset:It.position(o)},{isSkipPaddingBlankHTML:!0});e=c?It.listDescendant(s,It.isLi):z.from(s.childNodes).filter(It.isLi),!c&&It.isList(i.parentNode)||(e=e.map(function(t){return It.replace(t,"P")})),w.each(z.from(e).reverse(),function(t,e){It.insertAfter(e,i)});var l=z.compact([i,s,a]);w.each(l,function(t,e){var o=[e].concat(It.listDescendant(e,It.isList));w.each(o.reverse(),function(t,e){It.nodeLength(e)||It.remove(e,!0)})})}u=u.concat(e)}),u},Ut.prototype.appendToPrevious=function(t){return t.previousSibling?It.appendChildNodes(t.previousSibling,[t]):this.wrapList([t],"LI")},Ut.prototype.findList=function(t){return t?z.find(t.children,function(t){return-1<["OL","UL"].indexOf(t.nodeName)}):null},Ut.prototype.findNextSiblings=function(t){for(var e=[];t.nextSibling;)e.push(t.nextSibling),t=t.nextSibling;return e},Ut);function Ut(){}var Wt=(Vt.prototype.insertTab=function(t,e){var o=It.createText(new Array(e+1).join(It.NBSP_CHAR));(t=t.deleteContents()).insertNode(o,!0),(t=Dt.create(o,e)).select()},Vt.prototype.insertParagraph=function(t,e){e=(e=(e=e||Dt.create(t)).deleteContents()).wrapBodyInlineWithPara();var o,n=It.ancestor(e.sc,It.isPara);if(n){if(It.isEmpty(n)&&It.isLi(n))return void this.bullet.toggleList(n.parentNode.nodeName);var i=null;if(1===this.options.blockquoteBreakingLevel?i=It.ancestor(n,It.isBlockquote):2===this.options.blockquoteBreakingLevel&&(i=It.lastAncestor(n,It.isBlockquote)),i){o=w(It.emptyPara)[0],It.isRightEdgePoint(e.getStartPoint())&&It.isBR(e.sc.nextSibling)&&w(e.sc.nextSibling).remove();var r=It.splitTree(i,e.getStartPoint(),{isDiscardEmptySplits:!0});r?r.parentNode.insertBefore(o,r):It.insertAfter(o,i)}else{o=It.splitTree(n,e.getStartPoint());var a=It.listDescendant(n,It.isEmptyAnchor);a=a.concat(It.listDescendant(o,It.isEmptyAnchor)),w.each(a,function(t,e){It.remove(e)}),(It.isHeading(o)||It.isPre(o)||It.isCustomStyleTag(o))&&It.isEmpty(o)&&(o=It.replace(o,"p"))}}else{var s=e.sc.childNodes[e.so];o=w(It.emptyPara)[0],s?e.sc.insertBefore(o,s):e.sc.appendChild(o)}Dt.create(o,0).normalize().select().scrollIntoView(t)},Vt);function Vt(t){this.bullet=new qt,this.options=t.options}var Gt=function(t,h,p,i){var f={colPos:0,rowPos:0},m=[],g=[];function v(t,e,o,n,i,r,a){var s={baseRow:o,baseCell:n,isRowSpan:i,isColSpan:r,isVirtual:a};m[t]||(m[t]=[]),m[t][e]=s}function b(t,e){if(!m[t])return e;if(!m[t][e])return e;for(var o=e;m[t][o];)if(o++,!m[t][o])return o}function r(t,e){var o=b(t.rowIndex,e.cellIndex),n=1<e.colSpan,i=1<e.rowSpan,r=t.rowIndex===f.rowPos&&e.cellIndex===f.colPos;v(t.rowIndex,o,t,e,i,n,!1);var a=e.attributes.rowSpan?parseInt(e.attributes.rowSpan.value,10):0;if(1<a)for(var s=1;s<a;s++){var l=t.rowIndex+s;y(l,o,e,r),v(l,o,t,e,!0,n,!0)}var c=e.attributes.colSpan?parseInt(e.attributes.colSpan.value,10):0;if(1<c)for(var d=1;d<c;d++){var u=b(t.rowIndex,o+d);y(t.rowIndex,u,e,r),v(t.rowIndex,u,t,e,i,!0,!0)}}function y(t,e,o,n){t===f.rowPos&&f.colPos>=o.cellIndex&&o.cellIndex<=e&&!n&&f.colPos++}function x(t){switch(h){case Gt.where.Column:if(t.isColSpan)return Gt.resultAction.SubtractSpanCount;break;case Gt.where.Row:if(!t.isVirtual&&t.isRowSpan)return Gt.resultAction.AddCell;if(t.isRowSpan)return Gt.resultAction.SubtractSpanCount}return Gt.resultAction.RemoveCell}function w(t){switch(h){case Gt.where.Column:if(t.isColSpan)return Gt.resultAction.SumSpanCount;if(t.isRowSpan&&t.isVirtual)return Gt.resultAction.Ignore;break;case Gt.where.Row:if(t.isRowSpan)return Gt.resultAction.SumSpanCount;if(t.isColSpan&&t.isVirtual)return Gt.resultAction.Ignore}return Gt.resultAction.AddCell}this.getActionList=function(){for(var t,e,o,n=h===Gt.where.Row?f.rowPos:-1,i=h===Gt.where.Column?f.colPos:-1,r=0,a=!0;a;){var s=0<=n?n:r,l=0<=i?i:r,c=m[s];if(!c)return a=!1,g;var d=c[l];if(!d)return a=!1,g;var u=Gt.resultAction.Ignore;switch(p){case Gt.requestAction.Add:u=w(d);break;case Gt.requestAction.Delete:u=x(d)}g.push((t=u,e=s,o=l,{baseCell:d.baseCell,action:t,virtualTable:{rowIndex:e,cellIndex:o}})),r++}return g},t&&t.tagName&&("td"===t.tagName.toLowerCase()||"th"===t.tagName.toLowerCase())?(f.colPos=t.cellIndex,t.parentElement&&t.parentElement.tagName&&"tr"===t.parentElement.tagName.toLowerCase()?f.rowPos=t.parentElement.rowIndex:console.error("Impossible to identify start Row point.",t)):console.error("Impossible to identify start Cell point.",t),function(){for(var t=i.rows,e=0;e<t.length;e++)for(var o=t[e].cells,n=0;n<o.length;n++)r(t[e],o[n])}()};Gt.where={Row:0,Column:1},Gt.requestAction={Add:0,Delete:1},Gt.resultAction={Ignore:0,SubtractSpanCount:1,RemoveCell:2,AddCell:3,SumSpanCount:4};var Kt=(_t.prototype.tab=function(t,e){var o=It.ancestor(t.commonAncestor(),It.isCell),n=It.ancestor(o,It.isTable),i=It.listDescendant(n,It.isCell),r=z[e?"prev":"next"](i,o);r&&Dt.create(r,0).select()},_t.prototype.addRow=function(t,e){for(var o=It.ancestor(t.commonAncestor(),It.isCell),n=w(o).closest("tr"),i=this.recoverAttributes(n),r=w("<tr"+i+"></tr>"),a=new Gt(o,Gt.where.Row,Gt.requestAction.Add,w(n).closest("table")[0]).getActionList(),s=0;s<a.length;s++){var l=a[s],c=this.recoverAttributes(l.baseCell);switch(l.action){case Gt.resultAction.AddCell:r.append("<td"+c+">"+It.blank+"</td>");break;case Gt.resultAction.SumSpanCount:if("top"===e&&(l.baseCell.parent?l.baseCell.closest("tr").rowIndex:0)<=n[0].rowIndex){var d=w("<div></div>").append(w("<td"+c+">"+It.blank+"</td>").removeAttr("rowspan")).html();r.append(d);break}var u=parseInt(l.baseCell.rowSpan,10);u++,l.baseCell.setAttribute("rowSpan",u)}}if("top"===e)n.before(r);else{if(1<o.rowSpan){var h=n[0].rowIndex+(o.rowSpan-2);return void w(w(n).parent().find("tr")[h]).after(w(r))}n.after(r)}},_t.prototype.addCol=function(t,e){var o=It.ancestor(t.commonAncestor(),It.isCell),n=w(o).closest("tr");w(n).siblings().push(n);for(var i=new Gt(o,Gt.where.Column,Gt.requestAction.Add,w(n).closest("table")[0]).getActionList(),r=0;r<i.length;r++){var a=i[r],s=this.recoverAttributes(a.baseCell);switch(a.action){case Gt.resultAction.AddCell:"right"===e?w(a.baseCell).after("<td"+s+">"+It.blank+"</td>"):w(a.baseCell).before("<td"+s+">"+It.blank+"</td>");break;case Gt.resultAction.SumSpanCount:if("right"===e){var l=parseInt(a.baseCell.colSpan,10);l++,a.baseCell.setAttribute("colSpan",l)}else w(a.baseCell).before("<td"+s+">"+It.blank+"</td>")}}},_t.prototype.recoverAttributes=function(t){var e="";if(!t)return e;for(var o=t.attributes||[],n=0;n<o.length;n++)"id"!==o[n].name.toLowerCase()&&o[n].specified&&(e+=" "+o[n].name+"='"+o[n].value+"'");return e},_t.prototype.deleteRow=function(t){for(var e=It.ancestor(t.commonAncestor(),It.isCell),o=w(e).closest("tr"),n=o.children("td, th").index(w(e)),i=o[0].rowIndex,r=new Gt(e,Gt.where.Row,Gt.requestAction.Delete,w(o).closest("table")[0]).getActionList(),a=0;a<r.length;a++)if(r[a]){var s=r[a].baseCell,l=r[a].virtualTable,c=s.rowSpan&&1<s.rowSpan,d=c?parseInt(s.rowSpan,10):0;switch(r[a].action){case Gt.resultAction.Ignore:continue;case Gt.resultAction.AddCell:var u=o.next("tr")[0];if(!u)continue;var h=o[0].cells[n];c&&(2<d?(d--,u.insertBefore(h,u.cells[n]),u.cells[n].setAttribute("rowSpan",d),u.cells[n].innerHTML=""):2===d&&(u.insertBefore(h,u.cells[n]),u.cells[n].removeAttribute("rowSpan"),u.cells[n].innerHTML=""));continue;case Gt.resultAction.SubtractSpanCount:c&&(2<d?(d--,s.setAttribute("rowSpan",d),l.rowIndex!==i&&s.cellIndex===n&&(s.innerHTML="")):2===d&&(s.removeAttribute("rowSpan"),l.rowIndex!==i&&s.cellIndex===n&&(s.innerHTML="")));continue;case Gt.resultAction.RemoveCell:continue}}o.remove()},_t.prototype.deleteCol=function(t){for(var e=It.ancestor(t.commonAncestor(),It.isCell),o=w(e).closest("tr"),n=o.children("td, th").index(w(e)),i=new Gt(e,Gt.where.Column,Gt.requestAction.Delete,w(o).closest("table")[0]).getActionList(),r=0;r<i.length;r++)if(i[r])switch(i[r].action){case Gt.resultAction.Ignore:continue;case Gt.resultAction.SubtractSpanCount:var a=i[r].baseCell;if(a.colSpan&&1<a.colSpan){var s=a.colSpan?parseInt(a.colSpan,10):0;2<s?(s--,a.setAttribute("colSpan",s),a.cellIndex===n&&(a.innerHTML="")):2===s&&(a.removeAttribute("colSpan"),a.cellIndex===n&&(a.innerHTML=""))}continue;case Gt.resultAction.RemoveCell:It.remove(i[r].baseCell,!0);continue}},_t.prototype.createTable=function(t,e,o){for(var n,i=[],r=0;r<t;r++)i.push("<td>"+It.blank+"</td>");n=i.join("");for(var a,s=[],l=0;l<e;l++)s.push("<tr>"+n+"</tr>");a=s.join("");var c=w("<table>"+a+"</table>");return o&&o.tableClassName&&c.addClass(o.tableClassName),c[0]},_t.prototype.deleteTable=function(t){var e=It.ancestor(t.commonAncestor(),It.isCell);w(e).closest("table").remove()},_t);function _t(){}var Yt=(Xt.prototype.initialize=function(){var e=this;this.$editable.on("keydown",function(t){if(t.keyCode===Ht.code.ENTER&&e.context.triggerEvent("enter",t),e.context.triggerEvent("keydown",t),t.isDefaultPrevented()||(e.options.shortcuts?e.handleKeyMap(t):e.preventDefaultEditableShortCuts(t)),e.isLimited(1,t))return!1}).on("keyup",function(t){e.setLastRange(),e.context.triggerEvent("keyup",t)}).on("focus",function(t){e.setLastRange(),e.context.triggerEvent("focus",t)}).on("blur",function(t){e.context.triggerEvent("blur",t)}).on("mousedown",function(t){e.context.triggerEvent("mousedown",t)}).on("mouseup",function(t){e.setLastRange(),e.context.triggerEvent("mouseup",t)}).on("scroll",function(t){e.context.triggerEvent("scroll",t)}).on("paste",function(t){e.setLastRange(),e.context.triggerEvent("paste",t)}),this.$editable.attr("spellcheck",this.options.spellCheck),this.$editable.html(It.html(this.$note)||It.emptyPara),this.$editable.on(L.inputEventName,M.debounce(function(){e.context.triggerEvent("change",e.$editable.html(),e.$editable)},10)),this.$editor.on("focusin",function(t){e.context.triggerEvent("focusin",t)}).on("focusout",function(t){e.context.triggerEvent("focusout",t)}),this.options.airMode||(this.options.width&&this.$editor.outerWidth(this.options.width),this.options.height&&this.$editable.outerHeight(this.options.height),this.options.maxHeight&&this.$editable.css("max-height",this.options.maxHeight),this.options.minHeight&&this.$editable.css("min-height",this.options.minHeight)),this.history.recordUndo(),this.setLastRange()},Xt.prototype.destroy=function(){this.$editable.off()},Xt.prototype.handleKeyMap=function(t){var e=this.options.keyMap[L.isMac?"mac":"pc"],o=[];t.metaKey&&o.push("CMD"),t.ctrlKey&&!t.altKey&&o.push("CTRL"),t.shiftKey&&o.push("SHIFT");var n=Ht.nameFromCode[t.keyCode];n&&o.push(n);var i=e[o.join("+")];i?!1!==this.context.invoke(i)&&t.preventDefault():Ht.isEdit(t.keyCode)&&this.afterCommand()},Xt.prototype.preventDefaultEditableShortCuts=function(t){(t.ctrlKey||t.metaKey)&&z.contains([66,73,85],t.keyCode)&&t.preventDefault()},Xt.prototype.isLimited=function(t,e){return t=t||0,(void 0===e||!(Ht.isMove(e.keyCode)||e.ctrlKey||e.metaKey||z.contains([Ht.code.BACKSPACE,Ht.code.DELETE],e.keyCode)))&&0<this.options.maxTextLength&&this.$editable.text().length+t>=this.options.maxTextLength},Xt.prototype.createRange=function(){return this.focus(),this.setLastRange(),this.getLastRange()},Xt.prototype.setLastRange=function(){this.lastRange=Dt.create(this.editable)},Xt.prototype.getLastRange=function(){return this.lastRange||this.setLastRange(),this.lastRange},Xt.prototype.saveRange=function(t){t&&this.getLastRange().collapse().select()},Xt.prototype.restoreRange=function(){this.lastRange&&(this.lastRange.select(),this.focus())},Xt.prototype.saveTarget=function(t){this.$editable.data("target",t)},Xt.prototype.clearTarget=function(){this.$editable.removeData("target")},Xt.prototype.restoreTarget=function(){return this.$editable.data("target")},Xt.prototype.currentStyle=function(){var t=Dt.create();return(t=t&&t.normalize())?this.style.current(t):this.style.fromNode(this.$editable)},Xt.prototype.styleFromNode=function(t){return this.style.fromNode(t)},Xt.prototype.undo=function(){this.context.triggerEvent("before.command",this.$editable.html()),this.history.undo(),this.context.triggerEvent("change",this.$editable.html(),this.$editable)},Xt.prototype.commit=function(){this.context.triggerEvent("before.command",this.$editable.html()),this.history.commit(),this.context.triggerEvent("change",this.$editable.html(),this.$editable)},Xt.prototype.redo=function(){this.context.triggerEvent("before.command",this.$editable.html()),this.history.redo(),this.context.triggerEvent("change",this.$editable.html(),this.$editable)},Xt.prototype.beforeCommand=function(){this.context.triggerEvent("before.command",this.$editable.html()),this.focus()},Xt.prototype.afterCommand=function(t){this.normalizeContent(),this.history.recordUndo(),t||this.context.triggerEvent("change",this.$editable.html(),this.$editable)},Xt.prototype.tab=function(){var t=this.getLastRange();if(t.isCollapsed()&&t.isOnCell())this.table.tab(t);else{if(0===this.options.tabSize)return!1;this.isLimited(this.options.tabSize)||(this.beforeCommand(),this.typing.insertTab(t,this.options.tabSize),this.afterCommand())}},Xt.prototype.untab=function(){var t=this.getLastRange();if(t.isCollapsed()&&t.isOnCell())this.table.tab(t,!0);else if(0===this.options.tabSize)return!1},Xt.prototype.wrapCommand=function(t){return function(){this.beforeCommand(),t.apply(this,arguments),this.afterCommand()}},Xt.prototype.insertImage=function(t,e){var o=this;return function(o){return w.Deferred(function(t){var e=w("<img>");e.one("load",function(){e.off("error abort"),t.resolve(e)}).one("error abort",function(){e.off("load").detach(),t.reject(e)}).css({display:"none"}).appendTo(document.body).attr("src",o)}).promise()}(t).then(function(t){o.beforeCommand(),"function"==typeof e?e(t):("string"==typeof e&&t.attr("data-filename",e),t.css("width",Math.min(o.$editable.width(),t.width()))),t.show(),Dt.create(o.editable).insertNode(t[0]),Dt.createFromNodeAfter(t[0]).select(),o.setLastRange(),o.afterCommand()}).fail(function(t){o.context.triggerEvent("image.upload.error",t)})},Xt.prototype.insertImagesAsDataURL=function(t){var n=this;w.each(t,function(t,e){var o=e.name;n.options.maximumImageFileSize&&n.options.maximumImageFileSize<e.size?n.context.triggerEvent("image.upload.error",n.lang.image.maximumFileSizeError):function(t){return w.Deferred(function(o){w.extend(new FileReader,{onload:function(t){var e=t.target.result;o.resolve(e)},onerror:function(t){o.reject(t)}}).readAsDataURL(t)}).promise()}(e).then(function(t){return n.insertImage(t,o)}).fail(function(){n.context.triggerEvent("image.upload.error")})})},Xt.prototype.insertImagesOrCallback=function(t){this.options.callbacks.onImageUpload?this.context.triggerEvent("image.upload",t):this.insertImagesAsDataURL(t)},Xt.prototype.getSelectedText=function(){var t=this.getLastRange();return t.isOnAnchor()&&(t=Dt.createFromNode(It.ancestor(t.sc,It.isAnchor))),t.toString()},Xt.prototype.onFormatBlock=function(t,e){if(document.execCommand("FormatBlock",!1,L.isMSIE?"<"+t+">":t),e&&e.length&&(e[0].tagName.toUpperCase()!==t.toUpperCase()&&(e=e.find(t)),e&&e.length)){var o=e[0].className||"";if(o){var n=this.createRange();w([n.sc,n.ec]).closest(t).addClass(o)}}},Xt.prototype.formatPara=function(){this.formatBlock("P")},Xt.prototype.fontStyling=function(t,e){var o=this.getLastRange();if(o){var n=this.style.styleNodes(o);if(w(n).css(t,e),o.isCollapsed()){var i=z.head(n);i&&!It.nodeLength(i)&&(i.innerHTML=It.ZERO_WIDTH_NBSP_CHAR,Dt.createFromNodeAfter(i.firstChild).select(),this.setLastRange(),this.$editable.data("bogus",i))}}},Xt.prototype.unlink=function(){var t=this.getLastRange();if(t.isOnAnchor()){var e=It.ancestor(t.sc,It.isAnchor);(t=Dt.createFromNode(e)).select(),this.setLastRange(),this.beforeCommand(),document.execCommand("unlink"),this.afterCommand()}},Xt.prototype.getLinkInfo=function(){var t=this.getLastRange().expand(It.isAnchor),e=w(z.head(t.nodes(It.isAnchor))),o={range:t,text:t.toString(),url:e.length?e.attr("href"):""};return e.length&&(o.isNewWindow="_blank"===e.attr("target")),o},Xt.prototype.addRow=function(t){var e=this.getLastRange(this.$editable);e.isCollapsed()&&e.isOnCell()&&(this.beforeCommand(),this.table.addRow(e,t),this.afterCommand())},Xt.prototype.addCol=function(t){var e=this.getLastRange(this.$editable);e.isCollapsed()&&e.isOnCell()&&(this.beforeCommand(),this.table.addCol(e,t),this.afterCommand())},Xt.prototype.deleteRow=function(){var t=this.getLastRange(this.$editable);t.isCollapsed()&&t.isOnCell()&&(this.beforeCommand(),this.table.deleteRow(t),this.afterCommand())},Xt.prototype.deleteCol=function(){var t=this.getLastRange(this.$editable);t.isCollapsed()&&t.isOnCell()&&(this.beforeCommand(),this.table.deleteCol(t),this.afterCommand())},Xt.prototype.deleteTable=function(){var t=this.getLastRange(this.$editable);t.isCollapsed()&&t.isOnCell()&&(this.beforeCommand(),this.table.deleteTable(t),this.afterCommand())},Xt.prototype.resizeTo=function(t,e,o){var n;if(o){var i=t.y/t.x,r=e.data("ratio");n={width:i<r?t.x:t.y/r,height:i<r?t.x*r:t.y}}else n={width:t.x,height:t.y};e.css(n)},Xt.prototype.hasFocus=function(){return this.$editable.is(":focus")},Xt.prototype.focus=function(){this.hasFocus()||this.$editable.focus()},Xt.prototype.isEmpty=function(){return It.isEmpty(this.$editable[0])||It.emptyPara===this.$editable.html()},Xt.prototype.empty=function(){this.context.invoke("code",It.emptyPara)},Xt.prototype.normalizeContent=function(){this.$editable[0].normalize()},Xt);function Xt(t){var u=this;this.context=t,this.$note=t.layoutInfo.note,this.$editor=t.layoutInfo.editor,this.$editable=t.layoutInfo.editable,this.options=t.options,this.lang=this.options.langInfo,this.editable=this.$editable[0],this.lastRange=null,this.style=new Ot,this.table=new Kt,this.typing=new Wt(t),this.bullet=new qt,this.history=new zt(this.$editable),this.context.memo("help.undo",this.lang.help.undo),this.context.memo("help.redo",this.lang.help.redo),this.context.memo("help.tab",this.lang.help.tab),this.context.memo("help.untab",this.lang.help.untab),this.context.memo("help.insertParagraph",this.lang.help.insertParagraph),this.context.memo("help.insertOrderedList",this.lang.help.insertOrderedList),this.context.memo("help.insertUnorderedList",this.lang.help.insertUnorderedList),this.context.memo("help.indent",this.lang.help.indent),this.context.memo("help.outdent",this.lang.help.outdent),this.context.memo("help.formatPara",this.lang.help.formatPara),this.context.memo("help.insertHorizontalRule",this.lang.help.insertHorizontalRule),this.context.memo("help.fontName",this.lang.help.fontName);for(var e=["bold","italic","underline","strikethrough","superscript","subscript","justifyLeft","justifyCenter","justifyRight","justifyFull","formatBlock","removeFormat","backColor"],o=0,n=e.length;o<n;o++)this[e[o]]=function(e){return function(t){u.beforeCommand(),document.execCommand(e,!1,t),u.afterCommand(!0)}}(e[o]),this.context.memo("help."+e[o],this.lang.help[e[o]]);this.fontName=this.wrapCommand(function(t){return u.fontStyling("font-family","'"+t+"'")}),this.fontSize=this.wrapCommand(function(t){return u.fontStyling("font-size",t+"px")});for(o=1;o<=6;o++)this["formatH"+o]=function(t){return function(){u.formatBlock("H"+t)}}(o),this.context.memo("help.formatH"+o,this.lang.help["formatH"+o]);this.insertParagraph=this.wrapCommand(function(){u.typing.insertParagraph(u.editable)}),this.insertOrderedList=this.wrapCommand(function(){u.bullet.insertOrderedList(u.editable)}),this.insertUnorderedList=this.wrapCommand(function(){u.bullet.insertUnorderedList(u.editable)}),this.indent=this.wrapCommand(function(){u.bullet.indent(u.editable)}),this.outdent=this.wrapCommand(function(){u.bullet.outdent(u.editable)}),this.insertNode=this.wrapCommand(function(t){u.isLimited(w(t).text().length)||(u.getLastRange().insertNode(t),Dt.createFromNodeAfter(t).select(),u.setLastRange())}),this.insertText=this.wrapCommand(function(t){if(!u.isLimited(t.length)){var e=u.getLastRange().insertNode(It.createText(t));Dt.create(e,It.nodeLength(e)).select(),u.setLastRange()}}),this.pasteHTML=this.wrapCommand(function(t){if(!u.isLimited(t.length)){t=u.context.invoke("codeview.purify",t);var e=u.getLastRange().pasteHTML(t);Dt.createFromNodeAfter(z.last(e)).select(),u.setLastRange()}}),this.formatBlock=this.wrapCommand(function(t,e){var o=u.options.callbacks.onApplyCustomStyle;o?o.call(u,e,u.context,u.onFormatBlock):u.onFormatBlock(t,e)}),this.insertHorizontalRule=this.wrapCommand(function(){var t=u.getLastRange().insertNode(It.create("HR"));t.nextSibling&&(Dt.create(t.nextSibling,0).normalize().select(),u.setLastRange())}),this.lineHeight=this.wrapCommand(function(t){u.style.stylePara(u.getLastRange(),{lineHeight:t})}),this.createLink=this.wrapCommand(function(t){var o=t.url,e=t.text,n=t.isNewWindow,i=t.range||u.getLastRange(),r=e.length-i.toString().length;if(!(0<r&&u.isLimited(r))){var a=i.toString()!==e;"string"==typeof o&&(o=o.trim()),o=u.options.onCreateLink?u.options.onCreateLink(o):/^([A-Za-z][A-Za-z0-9+-.]*\:|#|\/)/.test(o)?o:"http://"+o;var s=[];if(a){var l=(i=i.deleteContents()).insertNode(w("<A>"+e+"</A>")[0]);s.push(l)}else s=u.style.styleNodes(i,{nodeName:"A",expandClosestSibling:!0,onlyPartialContains:!0});w.each(s,function(t,e){w(e).attr("href",o),n?w(e).attr("target","_blank"):w(e).removeAttr("target")});var c=Dt.createFromNodeBefore(z.head(s)).getStartPoint(),d=Dt.createFromNodeAfter(z.last(s)).getEndPoint();Dt.create(c.node,c.offset,d.node,d.offset).select(),u.setLastRange()}}),this.color=this.wrapCommand(function(t){var e=t.foreColor,o=t.backColor;e&&document.execCommand("foreColor",!1,e),o&&document.execCommand("backColor",!1,o)}),this.foreColor=this.wrapCommand(function(t){document.execCommand("styleWithCSS",!1,!0),document.execCommand("foreColor",!1,t)}),this.insertTable=this.wrapCommand(function(t){var e=t.split("x");u.getLastRange().deleteContents().insertNode(u.table.createTable(e[0],e[1],u.options))}),this.removeMedia=this.wrapCommand(function(){var t=w(u.restoreTarget()).parent();t.parent("figure").length?t.parent("figure").remove():t=w(u.restoreTarget()).detach(),u.context.triggerEvent("media.delete",t,u.$editable)}),this.floatMe=this.wrapCommand(function(t){var e=w(u.restoreTarget());e.toggleClass("note-float-left","left"===t),e.toggleClass("note-float-right","right"===t),e.css("float","none"===t?"":t)}),this.resize=this.wrapCommand(function(t){var e=w(u.restoreTarget());0===(t=parseFloat(t))?e.css("width",""):e.css({width:100*t+"%",height:""})})}var Zt=(Qt.prototype.initialize=function(){this.$editable.on("paste",this.pasteByEvent.bind(this))},Qt.prototype.pasteByEvent=function(t){var e=t.originalEvent.clipboardData;if(e&&e.items&&e.items.length){var o=1<e.items.length?e.items[1]:z.head(e.items);"file"===o.kind&&-1!==o.type.indexOf("image/")&&this.context.invoke("editor.insertImagesOrCallback",[o.getAsFile()]),this.context.invoke("editor.afterCommand")}},Qt);function Qt(t){this.context=t,this.$editable=t.layoutInfo.editable}var Jt,te=(ee.prototype.initialize=function(){this.options.disableDragAndDrop?(this.documentEventHandlers.onDrop=function(t){t.preventDefault()},this.$eventListener=this.$dropzone,this.$eventListener.on("drop",this.documentEventHandlers.onDrop)):this.attachDragAndDropEvent()},ee.prototype.attachDragAndDropEvent=function(){var i=this,n=w(),r=this.$dropzone.find(".note-dropzone-message");this.documentEventHandlers.onDragenter=function(t){var e=i.context.invoke("codeview.isActivated"),o=0<i.$editor.width()&&0<i.$editor.height();e||n.length||!o||(i.$editor.addClass("dragover"),i.$dropzone.width(i.$editor.width()),i.$dropzone.height(i.$editor.height()),r.text(i.lang.image.dragImageHere)),n=n.add(t.target)},this.documentEventHandlers.onDragleave=function(t){(n=n.not(t.target)).length||i.$editor.removeClass("dragover")},this.documentEventHandlers.onDrop=function(){n=w(),i.$editor.removeClass("dragover")},this.$eventListener.on("dragenter",this.documentEventHandlers.onDragenter).on("dragleave",this.documentEventHandlers.onDragleave).on("drop",this.documentEventHandlers.onDrop),this.$dropzone.on("dragenter",function(){i.$dropzone.addClass("hover"),r.text(i.lang.image.dropImage)}).on("dragleave",function(){i.$dropzone.removeClass("hover"),r.text(i.lang.image.dragImageHere)}),this.$dropzone.on("drop",function(t){var n=t.originalEvent.dataTransfer;t.preventDefault(),n&&n.files&&n.files.length?(i.$editable.focus(),i.context.invoke("editor.insertImagesOrCallback",n.files)):w.each(n.types,function(t,e){var o=n.getData(e);-1<e.toLowerCase().indexOf("text")?i.context.invoke("editor.pasteHTML",o):w(o).each(function(t,e){i.context.invoke("editor.insertNode",e)})})}).on("dragover",!1)},ee.prototype.destroy=function(){var e=this;Object.keys(this.documentEventHandlers).forEach(function(t){e.$eventListener.off(t.substr(2).toLowerCase(),e.documentEventHandlers[t])}),this.documentEventHandlers={}},ee);function ee(t){this.context=t,this.$eventListener=w(document),this.$editor=t.layoutInfo.editor,this.$editable=t.layoutInfo.editable,this.options=t.options,this.lang=this.options.langInfo,this.documentEventHandlers={},this.$dropzone=w(['<div class="note-dropzone">','  <div class="note-dropzone-message"/>',"</div>"].join("")).prependTo(this.$editor)}L.hasCodeMirror&&(Jt=window.CodeMirror);var oe=(ne.prototype.sync=function(){this.isActivated()&&L.hasCodeMirror&&this.$codable.data("cmEditor").save()},ne.prototype.isActivated=function(){return this.$editor.hasClass("codeview")},ne.prototype.toggle=function(){this.isActivated()?this.deactivate():this.activate(),this.context.triggerEvent("codeview.toggled")},ne.prototype.purify=function(t){if(this.options.codeviewFilter&&(t=t.replace(this.options.codeviewFilterRegex,""),this.options.codeviewIframeFilter)){var i=this.options.codeviewIframeWhitelistSrc.concat(this.options.codeviewIframeWhitelistSrcBase);t=t.replace(/(<iframe.*?>.*?(?:<\/iframe>)?)/gi,function(t){if(/<.+src(?==?('|"|\s)?)[\s\S]+src(?=('|"|\s)?)[^>]*?>/i.test(t))return"";for(var e=0,o=i;e<o.length;e++){var n=o[e];if(new RegExp('src="(https?:)?//'+n.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")+'/(.+)"').test(t))return t}return""})}return t},ne.prototype.activate=function(){var e=this;if(this.$codable.val(It.html(this.$editable,this.options.prettifyHtml)),this.$codable.height(this.$editable.height()),this.context.invoke("toolbar.updateCodeview",!0),this.$editor.addClass("codeview"),this.$codable.focus(),L.hasCodeMirror){var o=Jt.fromTextArea(this.$codable[0],this.options.codemirror);if(this.options.codemirror.tern){var n=new Jt.TernServer(this.options.codemirror.tern);o.ternServer=n,o.on("cursorActivity",function(t){n.updateArgHints(t)})}o.on("blur",function(t){e.context.triggerEvent("blur.codeview",o.getValue(),t)}),o.on("change",function(t){e.context.triggerEvent("change.codeview",o.getValue(),o)}),o.setSize(null,this.$editable.outerHeight()),this.$codable.data("cmEditor",o)}else this.$codable.on("blur",function(t){e.context.triggerEvent("blur.codeview",e.$codable.val(),t)}),this.$codable.on("input",function(t){e.context.triggerEvent("change.codeview",e.$codable.val(),e.$codable)})},ne.prototype.deactivate=function(){if(L.hasCodeMirror){var t=this.$codable.data("cmEditor");this.$codable.val(t.getValue()),t.toTextArea()}var e=this.purify(It.value(this.$codable,this.options.prettifyHtml)||It.emptyPara),o=this.$editable.html()!==e;this.$editable.html(e),this.$editable.height(this.options.height?this.$codable.height():"auto"),this.$editor.removeClass("codeview"),o&&this.context.triggerEvent("change",this.$editable.html(),this.$editable),this.$editable.focus(),this.context.invoke("toolbar.updateCodeview",!1)},ne.prototype.destroy=function(){this.isActivated()&&this.deactivate()},ne);function ne(t){this.context=t,this.$editor=t.layoutInfo.editor,this.$editable=t.layoutInfo.editable,this.$codable=t.layoutInfo.codable,this.options=t.options}var ie=(re.prototype.initialize=function(){var n=this;this.options.airMode||this.options.disableResizeEditor?this.destroy():this.$statusbar.on("mousedown",function(t){function e(t){var e=t.clientY-(24+o);e=0<n.options.minheight?Math.max(e,n.options.minheight):e,e=0<n.options.maxHeight?Math.min(e,n.options.maxHeight):e,n.$editable.height(e)}t.preventDefault(),t.stopPropagation();var o=n.$editable.offset().top-n.$document.scrollTop();n.$document.on("mousemove",e).one("mouseup",function(){n.$document.off("mousemove",e)})})},re.prototype.destroy=function(){this.$statusbar.off(),this.$statusbar.addClass("locked")},re);function re(t){this.$document=w(document),this.$statusbar=t.layoutInfo.statusbar,this.$editable=t.layoutInfo.editable,this.options=t.options}var ae=(se.prototype.resizeTo=function(t){this.$editable.css("height",t.h),this.$codable.css("height",t.h),this.$codable.data("cmeditor")&&this.$codable.data("cmeditor").setsize(null,t.h)},se.prototype.toggle=function(){this.$editor.toggleClass("fullscreen"),this.isFullscreen()?(this.$editable.data("orgHeight",this.$editable.css("height")),this.$editable.data("orgMaxHeight",this.$editable.css("maxHeight")),this.$editable.css("maxHeight",""),this.$window.on("resize",this.onResize).trigger("resize"),this.$scrollbar.css("overflow","hidden")):(this.$window.off("resize",this.onResize),this.resizeTo({h:this.$editable.data("orgHeight")}),this.$editable.css("maxHeight",this.$editable.css("orgMaxHeight")),this.$scrollbar.css("overflow","visible")),this.context.invoke("toolbar.updateFullscreen",this.isFullscreen())},se.prototype.isFullscreen=function(){return this.$editor.hasClass("fullscreen")},se);function se(t){var e=this;this.context=t,this.$editor=t.layoutInfo.editor,this.$toolbar=t.layoutInfo.toolbar,this.$editable=t.layoutInfo.editable,this.$codable=t.layoutInfo.codable,this.$window=w(window),this.$scrollbar=w("html, body"),this.onResize=function(){e.resizeTo({h:e.$window.height()-e.$toolbar.outerHeight()})}}var le=(ce.prototype.initialize=function(){var r=this;this.$handle=w(['<div class="note-handle">','<div class="note-control-selection">','<div class="note-control-selection-bg"></div>','<div class="note-control-holder note-control-nw"></div>','<div class="note-control-holder note-control-ne"></div>','<div class="note-control-holder note-control-sw"></div>','<div class="',this.options.disableResizeImage?"note-control-holder":"note-control-sizing",' note-control-se"></div>',this.options.disableResizeImage?"":'<div class="note-control-selection-info"></div>',"</div>","</div>"].join("")).prependTo(this.$editingArea),this.$handle.on("mousedown",function(t){if(It.isControlSizing(t.target)){t.preventDefault(),t.stopPropagation();var e=r.$handle.find(".note-control-selection").data("target"),o=e.offset(),n=r.$document.scrollTop(),i=function(t){r.context.invoke("editor.resizeTo",{x:t.clientX-o.left,y:t.clientY-(o.top-n)},e,!t.shiftKey),r.update(e[0])};r.$document.on("mousemove",i).one("mouseup",function(t){t.preventDefault(),r.$document.off("mousemove",i),r.context.invoke("editor.afterCommand")}),e.data("ratio")||e.data("ratio",e.height()/e.width())}}),this.$handle.on("wheel",function(t){t.preventDefault(),r.update()})},ce.prototype.destroy=function(){this.$handle.remove()},ce.prototype.update=function(t,e){if(this.context.isDisabled())return!1;var o=It.isImg(t),n=this.$handle.find(".note-control-selection");if(this.context.invoke("imagePopover.update",t,e),o){var i=w(t),r=i.position(),a={left:r.left+parseInt(i.css("marginLeft"),10),top:r.top+parseInt(i.css("marginTop"),10)},s={w:i.outerWidth(!1),h:i.outerHeight(!1)};n.css({display:"block",left:a.left,top:a.top,width:s.w,height:s.h}).data("target",i);var l=new Image;l.src=i.attr("src");var c=s.w+"x"+s.h+" ("+this.lang.image.original+": "+l.width+"x"+l.height+")";n.find(".note-control-selection-info").text(c),this.context.invoke("editor.saveTarget",t)}else this.hide();return o},ce.prototype.hide=function(){this.context.invoke("editor.clearTarget"),this.$handle.children().hide()},ce);function ce(t){var o=this;this.context=t,this.$document=w(document),this.$editingArea=t.layoutInfo.editingArea,this.options=t.options,this.lang=this.options.langInfo,this.events={"summernote.mousedown":function(t,e){o.update(e.target,e)&&e.preventDefault()},"summernote.keyup summernote.scroll summernote.change summernote.dialog.shown":function(){o.update()},"summernote.disable":function(){o.hide()},"summernote.codeview.toggled":function(){o.update()}}}var de=/^([A-Za-z][A-Za-z0-9+-.]*\:[\/]{2}|mailto:[A-Z0-9._%+-]+@)?(www\.)?(.+)$/i,ue=(he.prototype.initialize=function(){this.lastWordRange=null},he.prototype.destroy=function(){this.lastWordRange=null},he.prototype.replace=function(){if(this.lastWordRange){var t=this.lastWordRange.toString(),e=t.match(de);if(e&&(e[1]||e[2])){var o=e[1]?t:"http://"+t,n=w("<a />").html(t).attr("href",o)[0];this.context.options.linkTargetBlank&&w(n).attr("target","_blank"),this.lastWordRange.insertNode(n),this.lastWordRange=null,this.context.invoke("editor.focus")}}},he.prototype.handleKeydown=function(t){if(z.contains([Ht.code.ENTER,Ht.code.SPACE],t.keyCode)){var e=this.context.invoke("editor.createRange").getWordRange();this.lastWordRange=e}},he.prototype.handleKeyup=function(t){z.contains([Ht.code.ENTER,Ht.code.SPACE],t.keyCode)&&this.replace()},he);function he(t){var o=this;this.context=t,this.events={"summernote.keyup":function(t,e){e.isDefaultPrevented()||o.handleKeyup(e)},"summernote.keydown":function(t,e){o.handleKeydown(e)}}}var pe=(fe.prototype.shouldInitialize=function(){return It.isTextarea(this.$note[0])},fe);function fe(t){var e=this;this.$note=t.layoutInfo.note,this.events={"summernote.change":function(){e.$note.val(t.invoke("code"))}}}var me=(ge.prototype.shouldInitialize=function(){return!!this.options.match},ge.prototype.initialize=function(){this.lastWord=null},ge.prototype.destroy=function(){this.lastWord=null},ge.prototype.replace=function(){if(this.lastWord){var o=this,t=this.lastWord.toString();this.options.match(t,function(t){if(t){var e="";if("string"==typeof t?e=It.createText(t):t instanceof jQuery?e=t[0]:t instanceof Node&&(e=t),!e)return;o.lastWord.insertNode(e),o.lastWord=null,o.context.invoke("editor.focus")}})}},ge.prototype.handleKeydown=function(t){if(this.previousKeydownCode&&z.contains(this.keys,this.previousKeydownCode))this.previousKeydownCode=t.keyCode;else{if(z.contains(this.keys,t.keyCode)){var e=this.context.invoke("editor.createRange").getWordRange();this.lastWord=e}this.previousKeydownCode=t.keyCode}},ge.prototype.handleKeyup=function(t){z.contains(this.keys,t.keyCode)&&this.replace()},ge);function ge(t){var o=this;this.context=t,this.options=t.options.replace||{},this.keys=[Ht.code.ENTER,Ht.code.SPACE,Ht.code.PERIOD,Ht.code.COMMA,Ht.code.SEMICOLON,Ht.code.SLASH],this.previousKeydownCode=null,this.events={"summernote.keyup":function(t,e){e.isDefaultPrevented()||o.handleKeyup(e)},"summernote.keydown":function(t,e){o.handleKeydown(e)}}}var ve=(be.prototype.shouldInitialize=function(){return!!this.options.placeholder},be.prototype.initialize=function(){var t=this;this.$placeholder=w('<div class="note-placeholder">'),this.$placeholder.on("click",function(){t.context.invoke("focus")}).html(this.options.placeholder).prependTo(this.$editingArea),this.update()},be.prototype.destroy=function(){this.$placeholder.remove()},be.prototype.update=function(){var t=!this.context.invoke("codeview.isActivated")&&this.context.invoke("editor.isEmpty");this.$placeholder.toggle(t)},be);function be(t){var e=this;this.context=t,this.$editingArea=t.layoutInfo.editingArea,this.options=t.options,this.events={"summernote.init summernote.change":function(){e.update()},"summernote.codeview.toggled":function(){e.update()}}}var ye=(xe.prototype.representShortcut=function(t){var e=this.invertedKeyMap[t];return this.options.shortcuts&&e?(L.isMac&&(e=e.replace("CMD","â").replace("SHIFT","â§"))," ("+(e=e.replace("BACKSLASH","\\").replace("SLASH","/").replace("LEFTBRACKET","[").replace("RIGHTBRACKET","]"))+")"):""},xe.prototype.button=function(t){return!this.options.tooltip&&t.tooltip&&delete t.tooltip,t.container=this.options.container,this.ui.button(t)},xe.prototype.initialize=function(){this.addToolbarButtons(),this.addImagePopoverButtons(),this.addLinkPopoverButtons(),this.addTablePopoverButtons(),this.fontInstalledMap={}},xe.prototype.destroy=function(){delete this.fontInstalledMap},xe.prototype.isFontInstalled=function(t){return this.fontInstalledMap.hasOwnProperty(t)||(this.fontInstalledMap[t]=L.isFontInstalled(t)||z.contains(this.options.fontNamesIgnoreCheck,t)),this.fontInstalledMap[t]},xe.prototype.isFontDeservedToAdd=function(t){return""!==(t=t.toLowerCase())&&this.isFontInstalled(t)&&-1===["sans-serif","serif","monospace","cursive","fantasy"].indexOf(t)},xe.prototype.colorPalette=function(h,t,o,n){var p=this;return this.ui.buttonGroup({className:"note-color "+h,children:[this.button({className:"note-current-color-button",contents:this.ui.icon(this.options.icons.font+" note-recent-color"),tooltip:t,click:function(t){var e=w(t.currentTarget);o&&n?p.context.invoke("editor.color",{backColor:e.attr("data-backColor"),foreColor:e.attr("data-foreColor")}):o?p.context.invoke("editor.color",{backColor:e.attr("data-backColor")}):n&&p.context.invoke("editor.color",{foreColor:e.attr("data-foreColor")})},callback:function(t){var e=t.find(".note-recent-color");o&&(e.css("background-color",p.options.colorButton.backColor),t.attr("data-backColor",p.options.colorButton.backColor)),n?(e.css("color",p.options.colorButton.foreColor),t.attr("data-foreColor",p.options.colorButton.foreColor)):e.css("color","transparent")}}),this.button({className:"dropdown-toggle",contents:this.ui.dropdownButtonContents("",this.options),tooltip:this.lang.color.more,data:{toggle:"dropdown"}}),this.ui.dropdown({items:(o?['<div class="note-palette">','  <div class="note-palette-title">'+this.lang.color.background+"</div>","  <div>",'    <button type="button" class="note-color-reset btn btn-light" data-event="backColor" data-value="inherit">',this.lang.color.transparent,"    </button>","  </div>",'  <div class="note-holder" data-event="backColor"/>',"  <div>",'    <button type="button" class="note-color-select btn" data-event="openPalette" data-value="backColorPicker">',this.lang.color.cpSelect,"    </button>",'    <input type="color" id="backColorPicker" class="note-btn note-color-select-btn" value="'+this.options.colorButton.backColor+'" data-event="backColorPalette">',"  </div>",'  <div class="note-holder-custom" id="backColorPalette" data-event="backColor"/>',"</div>"].join(""):"")+(n?['<div class="note-palette">','  <div class="note-palette-title">'+this.lang.color.foreground+"</div>","  <div>",'    <button type="button" class="note-color-reset btn btn-light" data-event="removeFormat" data-value="foreColor">',this.lang.color.resetToDefault,"    </button>","  </div>",'  <div class="note-holder" data-event="foreColor"/>',"  <div>",'    <button type="button" class="note-color-select btn" data-event="openPalette" data-value="foreColorPicker">',this.lang.color.cpSelect,"    </button>",'    <input type="color" id="foreColorPicker" class="note-btn note-color-select-btn" value="'+this.options.colorButton.foreColor+'" data-event="foreColorPalette">','  <div class="note-holder-custom" id="foreColorPalette" data-event="foreColor"/>',"</div>"].join(""):""),callback:function(o){o.find(".note-holder").each(function(t,e){var o=w(e);o.append(p.ui.palette({colors:p.options.colors,colorsName:p.options.colorsName,eventName:o.data("event"),container:p.options.container,tooltip:p.options.tooltip}).render())});var n=[["#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF"]];o.find(".note-holder-custom").each(function(t,e){var o=w(e);o.append(p.ui.palette({colors:n,colorsName:n,eventName:o.data("event"),container:p.options.container,tooltip:p.options.tooltip}).render())}),o.find("input[type=color]").each(function(t,e){w(e).change(function(){var t=o.find("#"+w(this).data("event")).find(".note-color-btn").first(),e=this.value.toUpperCase();t.css("background-color",e).attr("aria-label",e).attr("data-value",e).attr("data-original-title",e),t.click()})})},click:function(t){t.stopPropagation();var e=w("."+h),o=w(t.target),n=o.data("event"),i=o.attr("data-value");if("openPalette"===n){var r=e.find("#"+i),a=w(e.find("#"+r.data("event")).find(".note-color-row")[0]),s=a.find(".note-color-btn").last().detach(),l=r.val();s.css("background-color",l).attr("aria-label",l).attr("data-value",l).attr("data-original-title",l),a.prepend(s),r.click()}else if(z.contains(["backColor","foreColor"],n)){var c="backColor"===n?"background-color":"color",d=o.closest(".note-color").find(".note-recent-color"),u=o.closest(".note-color").find(".note-current-color-button");d.css(c,i),u.attr("data-"+n,i),p.context.invoke("editor."+n,i)}}})]}).render()},xe.prototype.addToolbarButtons=function(){var n=this;this.context.memo("button.style",function(){return n.ui.buttonGroup([n.button({className:"dropdown-toggle",contents:n.ui.dropdownButtonContents(n.ui.icon(n.options.icons.magic),n.options),tooltip:n.lang.style.style,data:{toggle:"dropdown"}}),n.ui.dropdown({className:"dropdown-style",items:n.options.styleTags,title:n.lang.style.style,template:function(t){"string"==typeof t&&(t={tag:t,title:n.lang.style.hasOwnProperty(t)?n.lang.style[t]:t});var e=t.tag,o=t.title;return"<"+e+(t.style?' style="'+t.style+'" ':"")+(t.className?' class="'+t.className+'"':"")+">"+o+"</"+e+">"},click:n.context.createInvokeHandler("editor.formatBlock")})]).render()});for(var t=function(t,e){var o=i.options.styleTags[t];i.context.memo("button.style."+o,function(){return n.button({className:"note-btn-style-"+o,contents:'<div data-value="'+o+'">'+o.toUpperCase()+"</div>",tooltip:n.lang.style[o],click:n.context.createInvokeHandler("editor.formatBlock")}).render()})},i=this,e=0,o=this.options.styleTags.length;e<o;e++)t(e);this.context.memo("button.bold",function(){return n.button({className:"note-btn-bold",contents:n.ui.icon(n.options.icons.bold),tooltip:n.lang.font.bold+n.representShortcut("bold"),click:n.context.createInvokeHandlerAndUpdateState("editor.bold")}).render()}),this.context.memo("button.italic",function(){return n.button({className:"note-btn-italic",contents:n.ui.icon(n.options.icons.italic),tooltip:n.lang.font.italic+n.representShortcut("italic"),click:n.context.createInvokeHandlerAndUpdateState("editor.italic")}).render()}),this.context.memo("button.underline",function(){return n.button({className:"note-btn-underline",contents:n.ui.icon(n.options.icons.underline),tooltip:n.lang.font.underline+n.representShortcut("underline"),click:n.context.createInvokeHandlerAndUpdateState("editor.underline")}).render()}),this.context.memo("button.clear",function(){return n.button({contents:n.ui.icon(n.options.icons.eraser),tooltip:n.lang.font.clear+n.representShortcut("removeFormat"),click:n.context.createInvokeHandler("editor.removeFormat")}).render()}),this.context.memo("button.strikethrough",function(){return n.button({className:"note-btn-strikethrough",contents:n.ui.icon(n.options.icons.strikethrough),tooltip:n.lang.font.strikethrough+n.representShortcut("strikethrough"),click:n.context.createInvokeHandlerAndUpdateState("editor.strikethrough")}).render()}),this.context.memo("button.superscript",function(){return n.button({className:"note-btn-superscript",contents:n.ui.icon(n.options.icons.superscript),tooltip:n.lang.font.superscript,click:n.context.createInvokeHandlerAndUpdateState("editor.superscript")}).render()}),this.context.memo("button.subscript",function(){return n.button({className:"note-btn-subscript",contents:n.ui.icon(n.options.icons.subscript),tooltip:n.lang.font.subscript,click:n.context.createInvokeHandlerAndUpdateState("editor.subscript")}).render()}),this.context.memo("button.fontname",function(){var t=n.context.invoke("editor.currentStyle");return w.each(t["font-family"].split(","),function(t,e){e=e.trim().replace(/['"]+/g,""),n.isFontDeservedToAdd(e)&&-1===n.options.fontNames.indexOf(e)&&n.options.fontNames.push(e)}),n.ui.buttonGroup([n.button({className:"dropdown-toggle",contents:n.ui.dropdownButtonContents('<span class="note-current-fontname"/>',n.options),tooltip:n.lang.font.name,data:{toggle:"dropdown"}}),n.ui.dropdownCheck({className:"dropdown-fontname",checkClassName:n.options.icons.menuCheck,items:n.options.fontNames.filter(n.isFontInstalled.bind(n)),title:n.lang.font.name,template:function(t){return"<span style=\"font-family: '"+t+"'\">"+t+"</span>"},click:n.context.createInvokeHandlerAndUpdateState("editor.fontName")})]).render()}),this.context.memo("button.fontsize",function(){return n.ui.buttonGroup([n.button({className:"dropdown-toggle",contents:n.ui.dropdownButtonContents('<span class="note-current-fontsize"/>',n.options),tooltip:n.lang.font.size,data:{toggle:"dropdown"}}),n.ui.dropdownCheck({className:"dropdown-fontsize",checkClassName:n.options.icons.menuCheck,items:n.options.fontSizes,title:n.lang.font.size,click:n.context.createInvokeHandlerAndUpdateState("editor.fontSize")})]).render()}),this.context.memo("button.color",function(){return n.colorPalette("note-color-all",n.lang.color.recent,!0,!0)}),this.context.memo("button.forecolor",function(){return n.colorPalette("note-color-fore",n.lang.color.foreground,!1,!0)}),this.context.memo("button.backcolor",function(){return n.colorPalette("note-color-back",n.lang.color.background,!0,!1)}),this.context.memo("button.ul",function(){return n.button({contents:n.ui.icon(n.options.icons.unorderedlist),tooltip:n.lang.lists.unordered+n.representShortcut("insertUnorderedList"),click:n.context.createInvokeHandler("editor.insertUnorderedList")}).render()}),this.context.memo("button.ol",function(){return n.button({contents:n.ui.icon(n.options.icons.orderedlist),tooltip:n.lang.lists.ordered+n.representShortcut("insertOrderedList"),click:n.context.createInvokeHandler("editor.insertOrderedList")}).render()});var r=this.button({contents:this.ui.icon(this.options.icons.alignLeft),tooltip:this.lang.paragraph.left+this.representShortcut("justifyLeft"),click:this.context.createInvokeHandler("editor.justifyLeft")}),a=this.button({contents:this.ui.icon(this.options.icons.alignCenter),tooltip:this.lang.paragraph.center+this.representShortcut("justifyCenter"),click:this.context.createInvokeHandler("editor.justifyCenter")}),s=this.button({contents:this.ui.icon(this.options.icons.alignRight),tooltip:this.lang.paragraph.right+this.representShortcut("justifyRight"),click:this.context.createInvokeHandler("editor.justifyRight")}),l=this.button({contents:this.ui.icon(this.options.icons.alignJustify),tooltip:this.lang.paragraph.justify+this.representShortcut("justifyFull"),click:this.context.createInvokeHandler("editor.justifyFull")}),c=this.button({contents:this.ui.icon(this.options.icons.outdent),tooltip:this.lang.paragraph.outdent+this.representShortcut("outdent"),click:this.context.createInvokeHandler("editor.outdent")}),d=this.button({contents:this.ui.icon(this.options.icons.indent),tooltip:this.lang.paragraph.indent+this.representShortcut("indent"),click:this.context.createInvokeHandler("editor.indent")});this.context.memo("button.justifyLeft",M.invoke(r,"render")),this.context.memo("button.justifyCenter",M.invoke(a,"render")),this.context.memo("button.justifyRight",M.invoke(s,"render")),this.context.memo("button.justifyFull",M.invoke(l,"render")),this.context.memo("button.outdent",M.invoke(c,"render")),this.context.memo("button.indent",M.invoke(d,"render")),this.context.memo("button.paragraph",function(){return n.ui.buttonGroup([n.button({className:"dropdown-toggle",contents:n.ui.dropdownButtonContents(n.ui.icon(n.options.icons.alignLeft),n.options),tooltip:n.lang.paragraph.paragraph,data:{toggle:"dropdown"}}),n.ui.dropdown([n.ui.buttonGroup({className:"note-align",children:[r,a,s,l]}),n.ui.buttonGroup({className:"note-list",children:[c,d]})])]).render()}),this.context.memo("button.height",function(){return n.ui.buttonGroup([n.button({className:"dropdown-toggle",contents:n.ui.dropdownButtonContents(n.ui.icon(n.options.icons.textHeight),n.options),tooltip:n.lang.font.height,data:{toggle:"dropdown"}}),n.ui.dropdownCheck({items:n.options.lineHeights,checkClassName:n.options.icons.menuCheck,className:"dropdown-line-height",title:n.lang.font.height,click:n.context.createInvokeHandler("editor.lineHeight")})]).render()}),this.context.memo("button.table",function(){return n.ui.buttonGroup([n.button({className:"dropdown-toggle",contents:n.ui.dropdownButtonContents(n.ui.icon(n.options.icons.table),n.options),tooltip:n.lang.table.table,data:{toggle:"dropdown"}}),n.ui.dropdown({title:n.lang.table.table,className:"note-table",items:['<div class="note-dimension-picker">','  <div class="note-dimension-picker-mousecatcher" data-event="insertTable" data-value="1x1"/>','  <div class="note-dimension-picker-highlighted"/>','  <div class="note-dimension-picker-unhighlighted"/>',"</div>",'<div class="note-dimension-display">1 x 1</div>'].join("")})],{callback:function(t){t.find(".note-dimension-picker-mousecatcher").css({width:n.options.insertTableMaxSize.col+"em",height:n.options.insertTableMaxSize.row+"em"}).mousedown(n.context.createInvokeHandler("editor.insertTable")).on("mousemove",n.tableMoveHandler.bind(n))}}).render()}),this.context.memo("button.link",function(){return n.button({contents:n.ui.icon(n.options.icons.link),tooltip:n.lang.link.link+n.representShortcut("linkDialog.show"),click:n.context.createInvokeHandler("linkDialog.show")}).render()}),this.context.memo("button.picture",function(){return n.button({contents:n.ui.icon(n.options.icons.picture),tooltip:n.lang.image.image,click:n.context.createInvokeHandler("imageDialog.show")}).render()}),this.context.memo("button.video",function(){return n.button({contents:n.ui.icon(n.options.icons.video),tooltip:n.lang.video.video,click:n.context.createInvokeHandler("videoDialog.show")}).render()}),this.context.memo("button.hr",function(){return n.button({contents:n.ui.icon(n.options.icons.minus),tooltip:n.lang.hr.insert+n.representShortcut("insertHorizontalRule"),click:n.context.createInvokeHandler("editor.insertHorizontalRule")}).render()}),this.context.memo("button.fullscreen",function(){return n.button({className:"btn-fullscreen",contents:n.ui.icon(n.options.icons.arrowsAlt),tooltip:n.lang.options.fullscreen,click:n.context.createInvokeHandler("fullscreen.toggle")}).render()}),this.context.memo("button.codeview",function(){return n.button({className:"btn-codeview",contents:n.ui.icon(n.options.icons.code),tooltip:n.lang.options.codeview,click:n.context.createInvokeHandler("codeview.toggle")}).render()}),this.context.memo("button.redo",function(){return n.button({contents:n.ui.icon(n.options.icons.redo),tooltip:n.lang.history.redo+n.representShortcut("redo"),click:n.context.createInvokeHandler("editor.redo")}).render()}),this.context.memo("button.undo",function(){return n.button({contents:n.ui.icon(n.options.icons.undo),tooltip:n.lang.history.undo+n.representShortcut("undo"),click:n.context.createInvokeHandler("editor.undo")}).render()}),this.context.memo("button.help",function(){return n.button({contents:n.ui.icon(n.options.icons.question),tooltip:n.lang.options.help,click:n.context.createInvokeHandler("helpDialog.show")}).render()})},xe.prototype.addImagePopoverButtons=function(){var t=this;this.context.memo("button.resizeFull",function(){return t.button({contents:'<span class="note-fontsize-10">100%</span>',tooltip:t.lang.image.resizeFull,click:t.context.createInvokeHandler("editor.resize","1")}).render()}),this.context.memo("button.resizeHalf",function(){return t.button({contents:'<span class="note-fontsize-10">50%</span>',tooltip:t.lang.image.resizeHalf,click:t.context.createInvokeHandler("editor.resize","0.5")}).render()}),this.context.memo("button.resizeQuarter",function(){return t.button({contents:'<span class="note-fontsize-10">25%</span>',tooltip:t.lang.image.resizeQuarter,click:t.context.createInvokeHandler("editor.resize","0.25")}).render()}),this.context.memo("button.resizeNone",function(){return t.button({contents:t.ui.icon(t.options.icons.rollback),tooltip:t.lang.image.resizeNone,click:t.context.createInvokeHandler("editor.resize","0")}).render()}),this.context.memo("button.floatLeft",function(){return t.button({contents:t.ui.icon(t.options.icons.floatLeft),tooltip:t.lang.image.floatLeft,click:t.context.createInvokeHandler("editor.floatMe","left")}).render()}),this.context.memo("button.floatRight",function(){return t.button({contents:t.ui.icon(t.options.icons.floatRight),tooltip:t.lang.image.floatRight,click:t.context.createInvokeHandler("editor.floatMe","right")}).render()}),this.context.memo("button.floatNone",function(){return t.button({contents:t.ui.icon(t.options.icons.rollback),tooltip:t.lang.image.floatNone,click:t.context.createInvokeHandler("editor.floatMe","none")}).render()}),this.context.memo("button.removeMedia",function(){return t.button({contents:t.ui.icon(t.options.icons.trash),tooltip:t.lang.image.remove,click:t.context.createInvokeHandler("editor.removeMedia")}).render()})},xe.prototype.addLinkPopoverButtons=function(){var t=this;this.context.memo("button.linkDialogShow",function(){return t.button({contents:t.ui.icon(t.options.icons.link),tooltip:t.lang.link.edit,click:t.context.createInvokeHandler("linkDialog.show")}).render()}),this.context.memo("button.unlink",function(){return t.button({contents:t.ui.icon(t.options.icons.unlink),tooltip:t.lang.link.unlink,click:t.context.createInvokeHandler("editor.unlink")}).render()})},xe.prototype.addTablePopoverButtons=function(){var t=this;this.context.memo("button.addRowUp",function(){return t.button({className:"btn-md",contents:t.ui.icon(t.options.icons.rowAbove),tooltip:t.lang.table.addRowAbove,click:t.context.createInvokeHandler("editor.addRow","top")}).render()}),this.context.memo("button.addRowDown",function(){return t.button({className:"btn-md",contents:t.ui.icon(t.options.icons.rowBelow),tooltip:t.lang.table.addRowBelow,click:t.context.createInvokeHandler("editor.addRow","bottom")}).render()}),this.context.memo("button.addColLeft",function(){return t.button({className:"btn-md",contents:t.ui.icon(t.options.icons.colBefore),tooltip:t.lang.table.addColLeft,click:t.context.createInvokeHandler("editor.addCol","left")}).render()}),this.context.memo("button.addColRight",function(){return t.button({className:"btn-md",contents:t.ui.icon(t.options.icons.colAfter),tooltip:t.lang.table.addColRight,click:t.context.createInvokeHandler("editor.addCol","right")}).render()}),this.context.memo("button.deleteRow",function(){return t.button({className:"btn-md",contents:t.ui.icon(t.options.icons.rowRemove),tooltip:t.lang.table.delRow,click:t.context.createInvokeHandler("editor.deleteRow")}).render()}),this.context.memo("button.deleteCol",function(){return t.button({className:"btn-md",contents:t.ui.icon(t.options.icons.colRemove),tooltip:t.lang.table.delCol,click:t.context.createInvokeHandler("editor.deleteCol")}).render()}),this.context.memo("button.deleteTable",function(){return t.button({className:"btn-md",contents:t.ui.icon(t.options.icons.trash),tooltip:t.lang.table.delTable,click:t.context.createInvokeHandler("editor.deleteTable")}).render()})},xe.prototype.build=function(t,e){for(var o=0,n=e.length;o<n;o++){for(var i=e[o],r=Array.isArray(i)?i[0]:i,a=Array.isArray(i)?1===i.length?[i[0]]:i[1]:[i],s=this.ui.buttonGroup({className:"note-"+r}).render(),l=0,c=a.length;l<c;l++){var d=this.context.memo("button."+a[l]);d&&s.append("function"==typeof d?d():d)}s.appendTo(t)}},xe.prototype.updateCurrentStyle=function(t){var n=this,e=t||this.$toolbar,o=this.context.invoke("editor.currentStyle");if(this.updateBtnStates(e,{".note-btn-bold":function(){return"bold"===o["font-bold"]},".note-btn-italic":function(){return"italic"===o["font-italic"]},".note-btn-underline":function(){return"underline"===o["font-underline"]},".note-btn-subscript":function(){return"subscript"===o["font-subscript"]},".note-btn-superscript":function(){return"superscript"===o["font-superscript"]},".note-btn-strikethrough":function(){return"strikethrough"===o["font-strikethrough"]}}),o["font-family"]){var i=o["font-family"].split(",").map(function(t){return t.replace(/[\'\"]/g,"").replace(/\s+$/,"").replace(/^\s+/,"")}),r=z.find(i,this.isFontInstalled.bind(this));e.find(".dropdown-fontname a").each(function(t,e){var o=w(e),n=o.data("value")+""==r+"";o.toggleClass("checked",n)}),e.find(".note-current-fontname").text(r).css("font-family",r)}if(o["font-size"]){var a=o["font-size"];e.find(".dropdown-fontsize a").each(function(t,e){var o=w(e),n=o.data("value")+""==a+"";o.toggleClass("checked",n)}),e.find(".note-current-fontsize").text(a)}if(o["line-height"]){var s=o["line-height"];e.find(".dropdown-line-height li a").each(function(t,e){var o=w(e).data("value")+""==s+"";n.className=o?"checked":""})}},xe.prototype.updateBtnStates=function(o,t){var n=this;w.each(t,function(t,e){n.ui.toggleBtnActive(o.find(t),e())})},xe.prototype.tableMoveHandler=function(t){var e,o=w(t.target.parentNode),n=o.next(),i=o.find(".note-dimension-picker-mousecatcher"),r=o.find(".note-dimension-picker-highlighted"),a=o.find(".note-dimension-picker-unhighlighted");if(void 0===t.offsetX){var s=w(t.target).offset();e={x:t.pageX-s.left,y:t.pageY-s.top}}else e={x:t.offsetX,y:t.offsetY};var l=Math.ceil(e.x/18)||1,c=Math.ceil(e.y/18)||1;r.css({width:l+"em",height:c+"em"}),i.data("value",l+"x"+c),3<l&&l<this.options.insertTableMaxSize.col&&a.css({width:l+1+"em"}),3<c&&c<this.options.insertTableMaxSize.row&&a.css({height:c+1+"em"}),n.html(l+" x "+c)},xe);function xe(t){this.ui=w.summernote.ui,this.context=t,this.$toolbar=t.layoutInfo.toolbar,this.options=t.options,this.lang=this.options.langInfo,this.invertedKeyMap=M.invertObject(this.options.keyMap[L.isMac?"mac":"pc"])}var we=(Ce.prototype.shouldInitialize=function(){return!this.options.airMode},Ce.prototype.initialize=function(){var t=this;this.options.toolbar=this.options.toolbar||[],this.options.toolbar.length?this.context.invoke("buttons.build",this.$toolbar,this.options.toolbar):this.$toolbar.hide(),this.options.toolbarContainer&&this.$toolbar.appendTo(this.options.toolbarContainer),this.changeContainer(!1),this.$note.on("summernote.keyup summernote.mouseup summernote.change",function(){t.context.invoke("buttons.updateCurrentStyle")}),this.context.invoke("buttons.updateCurrentStyle"),this.options.followingToolbar&&this.$window.on("scroll resize",this.followScroll)},Ce.prototype.destroy=function(){this.$toolbar.children().remove(),this.options.followingToolbar&&this.$window.off("scroll resize",this.followScroll)},Ce.prototype.followScroll=function(){if(this.$editor.hasClass("fullscreen"))return!1;var t=this.$editor.outerHeight(),e=this.$editor.width(),o=this.$toolbar.height(),n=this.$statusbar.height(),i=0;this.options.otherStaticBar&&(i=w(this.options.otherStaticBar).outerHeight());var r=this.$document.scrollTop(),a=this.$editor.offset().top,s=a-i,l=a+t-i-o-n;!this.isFollowing&&s<r&&r<l-o?(this.isFollowing=!0,this.$toolbar.css({position:"fixed",top:i,width:e}),this.$editable.css({marginTop:this.$toolbar.height()+5})):this.isFollowing&&(r<s||l<r)&&(this.isFollowing=!1,this.$toolbar.css({position:"relative",top:0,width:"100%"}),this.$editable.css({marginTop:""}))},Ce.prototype.changeContainer=function(t){t?this.$toolbar.prependTo(this.$editor):this.options.toolbarContainer&&this.$toolbar.appendTo(this.options.toolbarContainer),this.followScroll()},Ce.prototype.updateFullscreen=function(t){this.ui.toggleBtnActive(this.$toolbar.find(".btn-fullscreen"),t),this.changeContainer(t)},Ce.prototype.updateCodeview=function(t){this.ui.toggleBtnActive(this.$toolbar.find(".btn-codeview"),t),t?this.deactivate():this.activate()},Ce.prototype.activate=function(t){var e=this.$toolbar.find("button");t||(e=e.not(".btn-codeview")),this.ui.toggleBtn(e,!0)},Ce.prototype.deactivate=function(t){var e=this.$toolbar.find("button");t||(e=e.not(".btn-codeview")),this.ui.toggleBtn(e,!1)},Ce);function Ce(t){this.context=t,this.$window=w(window),this.$document=w(document),this.ui=w.summernote.ui,this.$note=t.layoutInfo.note,this.$editor=t.layoutInfo.editor,this.$toolbar=t.layoutInfo.toolbar,this.$editable=t.layoutInfo.editable,this.$statusbar=t.layoutInfo.statusbar,this.options=t.options,this.isFollowing=!1,this.followScroll=this.followScroll.bind(this)}var ke=(Se.prototype.initialize=function(){var t=this.options.dialogsInBody?this.$body:this.$editor,e=['<div class="form-group note-form-group">','<label class="note-form-label">'+this.lang.link.textToDisplay+"</label>",'<input class="note-link-text form-control note-form-control note-input" type="text" />',"</div>",'<div class="form-group note-form-group">','<label class="note-form-label">'+this.lang.link.url+"</label>",'<input class="note-link-url form-control note-form-control note-input" type="text" value="http://" />',"</div>",this.options.disableLinkTarget?"":w("<div/>").append(this.ui.checkbox({className:"sn-checkbox-open-in-new-window",text:this.lang.link.openInNewWindow,checked:!0}).render()).html()].join(""),o='<input type="button" href="#" class="btn btn-primary note-btn note-btn-primary note-link-btn" value="'+this.lang.link.insert+'" disabled>';this.$dialog=this.ui.dialog({className:"link-dialog",title:this.lang.link.insert,fade:this.options.dialogsFade,body:e,footer:o}).render().appendTo(t)},Se.prototype.destroy=function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()},Se.prototype.bindEnterKey=function(t,e){t.on("keypress",function(t){t.keyCode===Ht.code.ENTER&&(t.preventDefault(),e.trigger("click"))})},Se.prototype.toggleLinkBtn=function(t,e,o){this.ui.toggleBtn(t,e.val()&&o.val())},Se.prototype.showLinkDialog=function(a){var s=this;return w.Deferred(function(e){var o=s.$dialog.find(".note-link-text"),n=s.$dialog.find(".note-link-url"),i=s.$dialog.find(".note-link-btn"),r=s.$dialog.find(".sn-checkbox-open-in-new-window input[type=checkbox]");s.ui.onDialogShown(s.$dialog,function(){s.context.triggerEvent("dialog.shown"),!a.url&&M.isValidUrl(a.text)&&(a.url=a.text),o.on("input paste propertychange",function(){a.text=o.val(),s.toggleLinkBtn(i,o,n)}).val(a.text),n.on("input paste propertychange",function(){a.text||o.val(n.val()),s.toggleLinkBtn(i,o,n)}).val(a.url),L.isSupportTouch||n.trigger("focus"),s.toggleLinkBtn(i,o,n),s.bindEnterKey(n,i),s.bindEnterKey(o,i);var t=void 0!==a.isNewWindow?a.isNewWindow:s.context.options.linkTargetBlank;r.prop("checked",t),i.one("click",function(t){t.preventDefault(),e.resolve({range:a.range,url:n.val(),text:o.val(),isNewWindow:r.is(":checked")}),s.ui.hideDialog(s.$dialog)})}),s.ui.onDialogHidden(s.$dialog,function(){o.off(),n.off(),i.off(),"pending"===e.state()&&e.reject()}),s.ui.showDialog(s.$dialog)}).promise()},Se.prototype.show=function(){var e=this,t=this.context.invoke("editor.getLinkInfo");this.context.invoke("editor.saveRange"),this.showLinkDialog(t).then(function(t){e.context.invoke("editor.restoreRange"),e.context.invoke("editor.createLink",t)}).fail(function(){e.context.invoke("editor.restoreRange")})},Se);function Se(t){this.context=t,this.ui=w.summernote.ui,this.$body=w(document.body),this.$editor=t.layoutInfo.editor,this.options=t.options,this.lang=this.options.langInfo,t.memo("help.linkDialog.show",this.options.langInfo.help["linkDialog.show"])}var Te=(Ee.prototype.shouldInitialize=function(){return!z.isEmpty(this.options.popover.link)},Ee.prototype.initialize=function(){this.$popover=this.ui.popover({className:"note-link-popover",callback:function(t){t.find(".popover-content,.note-popover-content").prepend('<span><a target="_blank"></a>&nbsp;</span>')}}).render().appendTo(this.options.container);var t=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",t,this.options.popover.link)},Ee.prototype.destroy=function(){this.$popover.remove()},Ee.prototype.update=function(){if(this.context.invoke("editor.hasFocus")){var t=this.context.invoke("editor.getLastRange");if(t.isCollapsed()&&t.isOnAnchor()){var e=It.ancestor(t.sc,It.isAnchor),o=w(e).attr("href");this.$popover.find("a").attr("href",o).html(o);var n=It.posFromPlaceholder(e);this.$popover.css({display:"block",left:n.left,top:n.top})}else this.hide()}else this.hide()},Ee.prototype.hide=function(){this.$popover.hide()},Ee);function Ee(t){var e=this;this.context=t,this.ui=w.summernote.ui,this.options=t.options,this.events={"summernote.keyup summernote.mouseup summernote.change summernote.scroll":function(){e.update()},"summernote.disable summernote.dialog.shown":function(){e.hide()}}}var $e=(Ie.prototype.initialize=function(){var t=this.options.dialogsInBody?this.$body:this.$editor,e="";if(this.options.maximumImageFileSize){var o=Math.floor(Math.log(this.options.maximumImageFileSize)/Math.log(1024)),n=1*(this.options.maximumImageFileSize/Math.pow(1024,o)).toFixed(2)+" "+" KMGTP"[o]+"B";e="<small>"+this.lang.image.maximumFileSize+" : "+n+"</small>"}var i=['<div class="form-group note-form-group note-group-select-from-files">','<label class="note-form-label">'+this.lang.image.selectFromFiles+"</label>",'<input class="note-image-input form-control-file note-form-control note-input" ',' type="file" name="files" accept="image/*" multiple="multiple" />',e,"</div>",'<div class="form-group note-group-image-url" style="overflow:auto;">','<label class="note-form-label">'+this.lang.image.url+"</label>",'<input class="note-image-url form-control note-form-control note-input ',' col-md-12" type="text" />',"</div>"].join(""),r='<input type="button" href="#" class="btn btn-primary note-btn note-btn-primary note-image-btn" value="'+this.lang.image.insert+'" disabled>';this.$dialog=this.ui.dialog({title:this.lang.image.insert,fade:this.options.dialogsFade,body:i,footer:r}).render().appendTo(t)},Ie.prototype.destroy=function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()},Ie.prototype.bindEnterKey=function(t,e){t.on("keypress",function(t){t.keyCode===Ht.code.ENTER&&(t.preventDefault(),e.trigger("click"))})},Ie.prototype.show=function(){var e=this;this.context.invoke("editor.saveRange"),this.showImageDialog().then(function(t){e.ui.hideDialog(e.$dialog),e.context.invoke("editor.restoreRange"),"string"==typeof t?e.options.callbacks.onImageLinkInsert?e.context.triggerEvent("image.link.insert",t):e.context.invoke("editor.insertImage",t):e.context.invoke("editor.insertImagesOrCallback",t)}).fail(function(){e.context.invoke("editor.restoreRange")})},Ie.prototype.showImageDialog=function(){var i=this;return w.Deferred(function(e){var t=i.$dialog.find(".note-image-input"),o=i.$dialog.find(".note-image-url"),n=i.$dialog.find(".note-image-btn");i.ui.onDialogShown(i.$dialog,function(){i.context.triggerEvent("dialog.shown"),t.replaceWith(t.clone().on("change",function(t){e.resolve(t.target.files||t.target.value)}).val("")),o.on("input paste propertychange",function(){i.ui.toggleBtn(n,o.val())}).val(""),L.isSupportTouch||o.trigger("focus"),n.click(function(t){t.preventDefault(),e.resolve(o.val())}),i.bindEnterKey(o,n)}),i.ui.onDialogHidden(i.$dialog,function(){t.off(),o.off(),n.off(),"pending"===e.state()&&e.reject()}),i.ui.showDialog(i.$dialog)})},Ie);function Ie(t){this.context=t,this.ui=w.summernote.ui,this.$body=w(document.body),this.$editor=t.layoutInfo.editor,this.options=t.options,this.lang=this.options.langInfo}var Pe=(Ne.prototype.shouldInitialize=function(){return!z.isEmpty(this.options.popover.image)},Ne.prototype.initialize=function(){this.$popover=this.ui.popover({className:"note-image-popover"}).render().appendTo(this.options.container);var t=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",t,this.options.popover.image)},Ne.prototype.destroy=function(){this.$popover.remove()},Ne.prototype.update=function(t,e){if(It.isImg(t)){var o=It.posFromPlaceholder(t),n=It.posFromPlaceholder(this.editable);this.$popover.css({display:"block",left:this.options.popatmouse?e.pageX-20:o.left,top:this.options.popatmouse?e.pageY:Math.min(o.top,n.top)})}else this.hide()},Ne.prototype.hide=function(){this.$popover.hide()},Ne);function Ne(t){var e=this;this.context=t,this.ui=w.summernote.ui,this.editable=t.layoutInfo.editable[0],this.options=t.options,this.events={"summernote.disable":function(){e.hide()}}}var Le=(Ae.prototype.shouldInitialize=function(){return!z.isEmpty(this.options.popover.table)},Ae.prototype.initialize=function(){this.$popover=this.ui.popover({className:"note-table-popover"}).render().appendTo(this.options.container);var t=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",t,this.options.popover.table),L.isFF&&document.execCommand("enableInlineTableEditing",!1,!1)},Ae.prototype.destroy=function(){this.$popover.remove()},Ae.prototype.update=function(t){if(this.context.isDisabled())return!1;var e=It.isCell(t);if(e){var o=It.posFromPlaceholder(t);this.$popover.css({display:"block",left:o.left,top:o.top})}else this.hide();return e},Ae.prototype.hide=function(){this.$popover.hide()},Ae);function Ae(t){var o=this;this.context=t,this.ui=w.summernote.ui,this.options=t.options,this.events={"summernote.mousedown":function(t,e){o.update(e.target)},"summernote.keyup summernote.scroll summernote.change":function(){o.update()},"summernote.disable":function(){o.hide()}}}var Me=(Re.prototype.initialize=function(){var t=this.options.dialogsInBody?this.$body:this.$editor,e=['<div class="form-group note-form-group row-fluid">','<label class="note-form-label">'+this.lang.video.url+' <small class="text-muted">'+this.lang.video.providers+"</small></label>",'<input class="note-video-url form-control note-form-control note-input" type="text" />',"</div>"].join(""),o='<input type="button" href="#" class="btn btn-primary note-btn note-btn-primary note-video-btn" value="'+this.lang.video.insert+'" disabled>';this.$dialog=this.ui.dialog({title:this.lang.video.insert,fade:this.options.dialogsFade,body:e,footer:o}).render().appendTo(t)},Re.prototype.destroy=function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()},Re.prototype.bindEnterKey=function(t,e){t.on("keypress",function(t){t.keyCode===Ht.code.ENTER&&(t.preventDefault(),e.trigger("click"))})},Re.prototype.createVideoNode=function(t){var e,o=t.match(/\/\/(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))([\w|-]{11})(?:(?:[\?&]t=)(\S+))?$/),n=t.match(/(?:www\.|\/\/)instagram\.com\/p\/(.[a-zA-Z0-9_-]*)/),i=t.match(/\/\/vine\.co\/v\/([a-zA-Z0-9]+)/),r=t.match(/\/\/(player\.)?vimeo\.com\/([a-z]*\/)*(\d+)[?]?.*/),a=t.match(/.+dailymotion.com\/(video|hub)\/([^_]+)[^#]*(#video=([^_&]+))?/),s=t.match(/\/\/v\.youku\.com\/v_show\/id_(\w+)=*\.html/),l=t.match(/\/\/v\.qq\.com.*?vid=(.+)/),c=t.match(/\/\/v\.qq\.com\/x?\/?(page|cover).*?\/([^\/]+)\.html\??.*/),d=t.match(/^.+.(mp4|m4v)$/),u=t.match(/^.+.(ogg|ogv)$/),h=t.match(/^.+.(webm)$/),p=t.match(/(?:www\.|\/\/)facebook\.com\/([^\/]+)\/videos\/([0-9]+)/);if(o&&11===o[1].length){var f=o[1],m=0;if(void 0!==o[2]){var g=o[2].match(/^(?:(\d+)h)?(?:(\d+)m)?(?:(\d+)s)?$/);if(g)for(var v=[3600,60,1],b=0,y=v.length;b<y;b++)m+=void 0!==g[b+1]?v[b]*parseInt(g[b+1],10):0}e=w("<iframe>").attr("frameborder",0).attr("src","//www.youtube.com/embed/"+f+(0<m?"?start="+m:"")).attr("width","640").attr("height","360")}else if(n&&n[0].length)e=w("<iframe>").attr("frameborder",0).attr("src","https://instagram.com/p/"+n[1]+"/embed/").attr("width","612").attr("height","710").attr("scrolling","no").attr("allowtransparency","true");else if(i&&i[0].length)e=w("<iframe>").attr("frameborder",0).attr("src",i[0]+"/embed/simple").attr("width","600").attr("height","600").attr("class","vine-embed");else if(r&&r[3].length)e=w("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("src","//player.vimeo.com/video/"+r[3]).attr("width","640").attr("height","360");else if(a&&a[2].length)e=w("<iframe>").attr("frameborder",0).attr("src","//www.dailymotion.com/embed/video/"+a[2]).attr("width","640").attr("height","360");else if(s&&s[1].length)e=w("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("height","498").attr("width","510").attr("src","//player.youku.com/embed/"+s[1]);else if(l&&l[1].length||c&&c[2].length){var x=l&&l[1].length?l[1]:c[2];e=w("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("height","310").attr("width","500").attr("src","http://v.qq.com/iframe/player.html?vid="+x+"&amp;auto=0")}else if(d||u||h)e=w("<video controls>").attr("src",t).attr("width","640").attr("height","360");else{if(!p||!p[0].length)return!1;e=w("<iframe>").attr("frameborder",0).attr("src","https://www.facebook.com/plugins/video.php?href="+encodeURIComponent(p[0])+"&show_text=0&width=560").attr("width","560").attr("height","301").attr("scrolling","no").attr("allowtransparency","true")}return e.addClass("note-video-clip"),e[0]},Re.prototype.show=function(){var o=this,t=this.context.invoke("editor.getSelectedText");this.context.invoke("editor.saveRange"),this.showVideoDialog(t).then(function(t){o.ui.hideDialog(o.$dialog),o.context.invoke("editor.restoreRange");var e=o.createVideoNode(t);e&&o.context.invoke("editor.insertNode",e)}).fail(function(){o.context.invoke("editor.restoreRange")})},Re.prototype.showVideoDialog=function(t){var n=this;return w.Deferred(function(e){var o=n.$dialog.find(".note-video-url"),t=n.$dialog.find(".note-video-btn");n.ui.onDialogShown(n.$dialog,function(){n.context.triggerEvent("dialog.shown"),o.on("input paste propertychange",function(){n.ui.toggleBtn(t,o.val())}),L.isSupportTouch||o.trigger("focus"),t.click(function(t){t.preventDefault(),e.resolve(o.val())}),n.bindEnterKey(o,t)}),n.ui.onDialogHidden(n.$dialog,function(){o.off(),t.off(),"pending"===e.state()&&e.reject()}),n.ui.showDialog(n.$dialog)})},Re);function Re(t){this.context=t,this.ui=w.summernote.ui,this.$body=w(document.body),this.$editor=t.layoutInfo.editor,this.options=t.options,this.lang=this.options.langInfo}var De=(Fe.prototype.initialize=function(){var t=this.options.dialogsInBody?this.$body:this.$editor,e=['<p class="text-center">','<a href="http://summernote.org/" target="_blank">Summernote 0.8.12</a> Â· ','<a href="https://github.com/summernote/summernote" target="_blank">Project</a> Â· ','<a href="https://github.com/summernote/summernote/issues" target="_blank">Issues</a>',"</p>"].join("");this.$dialog=this.ui.dialog({title:this.lang.options.help,fade:this.options.dialogsFade,body:this.createShortcutList(),footer:e,callback:function(t){t.find(".modal-body,.note-modal-body").css({"max-height":300,overflow:"scroll"})}}).render().appendTo(t)},Fe.prototype.destroy=function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()},Fe.prototype.createShortcutList=function(){var n=this,i=this.options.keyMap[L.isMac?"mac":"pc"];return Object.keys(i).map(function(t){var e=i[t],o=w('<div><div class="help-list-item"/></div>');return o.append(w("<label><kbd>"+t+"</kdb></label>").css({width:180,"margin-right":10})).append(w("<span/>").html(n.context.memo("help."+e)||e)),o.html()}).join("")},Fe.prototype.showHelpDialog=function(){var e=this;return w.Deferred(function(t){e.ui.onDialogShown(e.$dialog,function(){e.context.triggerEvent("dialog.shown"),t.resolve()}),e.ui.showDialog(e.$dialog)}).promise()},Fe.prototype.show=function(){var t=this;this.context.invoke("editor.saveRange"),this.showHelpDialog().then(function(){t.context.invoke("editor.restoreRange")})},Fe);function Fe(t){this.context=t,this.ui=w.summernote.ui,this.$body=w(document.body),this.$editor=t.layoutInfo.editor,this.options=t.options,this.lang=this.options.langInfo}var He=(ze.prototype.shouldInitialize=function(){return this.options.airMode&&!z.isEmpty(this.options.popover.air)},ze.prototype.initialize=function(){this.$popover=this.ui.popover({className:"note-air-popover"}).render().appendTo(this.options.container);var t=this.$popover.find(".popover-content");this.context.invoke("buttons.build",t,this.options.popover.air)},ze.prototype.destroy=function(){this.$popover.remove()},ze.prototype.update=function(){var t=this.context.invoke("editor.currentStyle");if(t.range&&!t.range.isCollapsed()){var e=z.last(t.range.getClientRects());if(e){var o=M.rect2bnd(e);this.$popover.css({display:"block",left:Math.max(o.left+o.width/2,0)-20,top:o.top+o.height}),this.context.invoke("buttons.updateCurrentStyle",this.$popover)}}else this.hide()},ze.prototype.hide=function(){this.$popover.hide()},ze);function ze(t){var o=this;this.context=t,this.ui=w.summernote.ui,this.options=t.options,this.events={"summernote.keyup summernote.mouseup summernote.scroll":function(){o.update()},"summernote.disable summernote.change summernote.dialog.shown":function(){o.hide()},"summernote.focusout":function(t,e){L.isFF||e.relatedTarget&&It.ancestor(e.relatedTarget,M.eq(o.$popover[0]))||o.hide()}}}var Be=(Oe.prototype.shouldInitialize=function(){return 0<this.hints.length},Oe.prototype.initialize=function(){var e=this;this.lastWordRange=null,this.$popover=this.ui.popover({className:"note-hint-popover",hideArrow:!0,direction:""}).render().appendTo(this.options.container),this.$popover.hide(),this.$content=this.$popover.find(".popover-content,.note-popover-content"),this.$content.on("click",".note-hint-item",function(t){e.$content.find(".active").removeClass("active"),w(t.currentTarget).addClass("active"),e.replace()})},Oe.prototype.destroy=function(){this.$popover.remove()},Oe.prototype.selectItem=function(t){this.$content.find(".active").removeClass("active"),t.addClass("active"),this.$content[0].scrollTop=t[0].offsetTop-this.$content.innerHeight()/2},Oe.prototype.moveDown=function(){var t=this.$content.find(".note-hint-item.active"),e=t.next();if(e.length)this.selectItem(e);else{var o=t.parent().next();o.length||(o=this.$content.find(".note-hint-group").first()),this.selectItem(o.find(".note-hint-item").first())}},Oe.prototype.moveUp=function(){var t=this.$content.find(".note-hint-item.active"),e=t.prev();if(e.length)this.selectItem(e);else{var o=t.parent().prev();o.length||(o=this.$content.find(".note-hint-group").last()),this.selectItem(o.find(".note-hint-item").last())}},Oe.prototype.replace=function(){var t=this.$content.find(".note-hint-item.active");if(t.length){var e=this.nodeFromItem(t);this.lastWordRange.insertNode(e),Dt.createFromNode(e).collapse().select(),this.lastWordRange=null,this.hide(),this.context.triggerEvent("change",this.$editable.html(),this.$editable[0]),this.context.invoke("editor.focus")}},Oe.prototype.nodeFromItem=function(t){var e=this.hints[t.data("index")],o=t.data("item"),n=e.content?e.content(o):o;return"string"==typeof n&&(n=It.createText(n)),n},Oe.prototype.createItemTemplates=function(n,t){var i=this.hints[n];return t.map(function(t,e){var o=w('<div class="note-hint-item"/>');return o.append(i.template?i.template(t):t+""),o.data({index:n,item:t}),o})},Oe.prototype.handleKeydown=function(t){this.$popover.is(":visible")&&(t.keyCode===Ht.code.ENTER?(t.preventDefault(),this.replace()):t.keyCode===Ht.code.UP?(t.preventDefault(),this.moveUp()):t.keyCode===Ht.code.DOWN&&(t.preventDefault(),this.moveDown()))},Oe.prototype.searchKeyword=function(t,e,o){var n=this.hints[t];if(n&&n.match.test(e)&&n.search){var i=n.match.exec(e);n.search(i[1],o)}else o()},Oe.prototype.createGroup=function(e,t){var o=this,n=w('<div class="note-hint-group note-hint-group-'+e+'"/>');return this.searchKeyword(e,t,function(t){(t=t||[]).length&&(n.html(o.createItemTemplates(e,t)),o.show())}),n},Oe.prototype.handleKeyup=function(t){var o=this;if(!z.contains([Ht.code.ENTER,Ht.code.UP,Ht.code.DOWN],t.keyCode)){var e=this.context.invoke("editor.getLastRange").getWordRange(),n=e.toString();if(this.hints.length&&n){this.$content.empty();var i=M.rect2bnd(z.last(e.getClientRects()));i&&(this.$popover.hide(),this.lastWordRange=e,this.hints.forEach(function(t,e){t.match.test(n)&&o.createGroup(e,n).appendTo(o.$content)}),this.$content.find(".note-hint-item:first").addClass("active"),"top"===this.direction?this.$popover.css({left:i.left,top:i.top-this.$popover.outerHeight()-5}):this.$popover.css({left:i.left,top:i.top+i.height+5}))}else this.hide()}},Oe.prototype.show=function(){this.$popover.show()},Oe.prototype.hide=function(){this.$popover.hide()},Oe);function Oe(t){var o=this;this.context=t,this.ui=w.summernote.ui,this.$editable=t.layoutInfo.editable,this.options=t.options,this.hint=this.options.hint||[],this.direction=this.options.hintDirection||"bottom",this.hints=Array.isArray(this.hint)?this.hint:[this.hint],this.events={"summernote.keyup":function(t,e){e.isDefaultPrevented()||o.handleKeyup(e)},"summernote.keydown":function(t,e){o.handleKeydown(e)},"summernote.disable summernote.dialog.shown":function(){o.hide()}}}w.summernote=w.extend(w.summernote,{version:"0.8.12",plugins:{},dom:It,range:Dt,options:{langInfo:w.summernote.lang["en-US"],modules:{editor:Yt,clipboard:Zt,dropzone:te,codeview:oe,statusbar:ie,fullscreen:ae,handle:le,hintPopover:Be,autoLink:ue,autoSync:pe,autoReplace:me,placeholder:ve,buttons:ye,toolbar:we,linkDialog:ke,linkPopover:Te,imageDialog:$e,imagePopover:Pe,tablePopover:Le,videoDialog:Me,helpDialog:De,airPopover:He},buttons:{},lang:"en-US",followingToolbar:!1,otherStaticBar:"",toolbar:[["style",["style"]],["font",["bold","underline","clear"]],["fontname",["fontname"]],["color",["color"]],["para",["ul","ol","paragraph"]],["table",["table"]],["insert",["link","picture","video"]],["view",["fullscreen","codeview","help"]]],popatmouse:!0,popover:{image:[["resize",["resizeFull","resizeHalf","resizeQuarter","resizeNone"]],["float",["floatLeft","floatRight","floatNone"]],["remove",["removeMedia"]]],link:[["link",["linkDialogShow","unlink"]]],table:[["add",["addRowDown","addRowUp","addColLeft","addColRight"]],["delete",["deleteRow","deleteCol","deleteTable"]]],air:[["color",["color"]],["font",["bold","underline","clear"]],["para",["ul","paragraph"]],["table",["table"]],["insert",["link","picture"]]]},airMode:!1,width:null,height:null,linkTargetBlank:!0,focus:!1,tabSize:4,styleWithSpan:!0,shortcuts:!0,textareaAutoSync:!0,hintDirection:"bottom",tooltip:"auto",container:"body",maxTextLength:0,blockquoteBreakingLevel:2,spellCheck:!0,styleTags:["p","blockquote","pre","h1","h2","h3","h4","h5","h6"],fontNames:["Arial","Arial Black","Comic Sans MS","Courier New","Helvetica Neue","Helvetica","Impact","Lucida Grande","Tahoma","Times New Roman","Verdana"],fontNamesIgnoreCheck:[],fontSizes:["8","9","10","11","12","14","18","24","36"],colors:[["#000000","#424242","#636363","#9C9C94","#CEC6CE","#EFEFEF","#F7F7F7","#FFFFFF"],["#FF0000","#FF9C00","#FFFF00","#00FF00","#00FFFF","#0000FF","#9C00FF","#FF00FF"],["#F7C6CE","#FFE7CE","#FFEFC6","#D6EFD6","#CEDEE7","#CEE7F7","#D6D6E7","#E7D6DE"],["#E79C9C","#FFC69C","#FFE79C","#B5D6A5","#A5C6CE","#9CC6EF","#B5A5D6","#D6A5BD"],["#E76363","#F7AD6B","#FFD663","#94BD7B","#73A5AD","#6BADDE","#8C7BC6","#C67BA5"],["#CE0000","#E79439","#EFC631","#6BA54A","#4A7B8C","#3984C6","#634AA5","#A54A7B"],["#9C0000","#B56308","#BD9400","#397B21","#104A5A","#085294","#311873","#731842"],["#630000","#7B3900","#846300","#295218","#083139","#003163","#21104A","#4A1031"]],colorsName:[["Black","Tundora","Dove Gray","Star Dust","Pale Slate","Gallery","Alabaster","White"],["Red","Orange Peel","Yellow","Green","Cyan","Blue","Electric Violet","Magenta"],["Azalea","Karry","Egg White","Zanah","Botticelli","Tropical Blue","Mischka","Twilight"],["Tonys Pink","Peach Orange","Cream Brulee","Sprout","Casper","Perano","Cold Purple","Careys Pink"],["Mandy","Rajah","Dandelion","Olivine","Gulf Stream","Viking","Blue Marguerite","Puce"],["Guardsman Red","Fire Bush","Golden Dream","Chelsea Cucumber","Smalt Blue","Boston Blue","Butterfly Bush","Cadillac"],["Sangria","Mai Tai","Buddha Gold","Forest Green","Eden","Venice Blue","Meteorite","Claret"],["Rosewood","Cinnamon","Olive","Parsley","Tiber","Midnight Blue","Valentino","Loulou"]],colorButton:{foreColor:"#000000",backColor:"#FFFF00"},lineHeights:["1.0","1.2","1.4","1.5","1.6","1.8","2.0","3.0"],tableClassName:"table table-bordered",insertTableMaxSize:{col:10,row:10},dialogsInBody:!1,dialogsFade:!1,maximumImageFileSize:null,callbacks:{onBeforeCommand:null,onBlur:null,onBlurCodeview:null,onChange:null,onChangeCodeview:null,onDialogShown:null,onEnter:null,onFocus:null,onImageLinkInsert:null,onImageUpload:null,onImageUploadError:null,onInit:null,onKeydown:null,onKeyup:null,onMousedown:null,onMouseup:null,onPaste:null,onScroll:null},codemirror:{mode:"text/html",htmlMode:!0,lineNumbers:!0},codeviewFilter:!1,codeviewFilterRegex:/<\/*(?:applet|b(?:ase|gsound|link)|embed|frame(?:set)?|ilayer|l(?:ayer|ink)|meta|object|s(?:cript|tyle)|t(?:itle|extarea)|xml)[^>]*?>/gi,codeviewIframeFilter:!0,codeviewIframeWhitelistSrc:[],codeviewIframeWhitelistSrcBase:["www.youtube.com","www.youtube-nocookie.com","www.facebook.com","vine.co","instagram.com","player.vimeo.com","www.dailymotion.com","player.youku.com","v.qq.com"],keyMap:{pc:{ENTER:"insertParagraph","CTRL+Z":"undo","CTRL+Y":"redo",TAB:"tab","SHIFT+TAB":"untab","CTRL+B":"bold","CTRL+I":"italic","CTRL+U":"underline","CTRL+SHIFT+S":"strikethrough","CTRL+BACKSLASH":"removeFormat","CTRL+SHIFT+L":"justifyLeft","CTRL+SHIFT+E":"justifyCenter","CTRL+SHIFT+R":"justifyRight","CTRL+SHIFT+J":"justifyFull","CTRL+SHIFT+NUM7":"insertUnorderedList","CTRL+SHIFT+NUM8":"insertOrderedList","CTRL+LEFTBRACKET":"outdent","CTRL+RIGHTBRACKET":"indent","CTRL+NUM0":"formatPara","CTRL+NUM1":"formatH1","CTRL+NUM2":"formatH2","CTRL+NUM3":"formatH3","CTRL+NUM4":"formatH4","CTRL+NUM5":"formatH5","CTRL+NUM6":"formatH6","CTRL+ENTER":"insertHorizontalRule","CTRL+K":"linkDialog.show"},mac:{ENTER:"insertParagraph","CMD+Z":"undo","CMD+SHIFT+Z":"redo",TAB:"tab","SHIFT+TAB":"untab","CMD+B":"bold","CMD+I":"italic","CMD+U":"underline","CMD+SHIFT+S":"strikethrough","CMD+BACKSLASH":"removeFormat","CMD+SHIFT+L":"justifyLeft","CMD+SHIFT+E":"justifyCenter","CMD+SHIFT+R":"justifyRight","CMD+SHIFT+J":"justifyFull","CMD+SHIFT+NUM7":"insertUnorderedList","CMD+SHIFT+NUM8":"insertOrderedList","CMD+LEFTBRACKET":"outdent","CMD+RIGHTBRACKET":"indent","CMD+NUM0":"formatPara","CMD+NUM1":"formatH1","CMD+NUM2":"formatH2","CMD+NUM3":"formatH3","CMD+NUM4":"formatH4","CMD+NUM5":"formatH5","CMD+NUM6":"formatH6","CMD+ENTER":"insertHorizontalRule","CMD+K":"linkDialog.show"}},icons:{align:"note-icon-align",alignCenter:"note-icon-align-center",alignJustify:"note-icon-align-justify",alignLeft:"note-icon-align-left",alignRight:"note-icon-align-right",rowBelow:"note-icon-row-below",colBefore:"note-icon-col-before",colAfter:"note-icon-col-after",rowAbove:"note-icon-row-above",rowRemove:"note-icon-row-remove",colRemove:"note-icon-col-remove",indent:"note-icon-align-indent",outdent:"note-icon-align-outdent",arrowsAlt:"note-icon-arrows-alt",bold:"note-icon-bold",caret:"note-icon-caret",circle:"note-icon-circle",close:"note-icon-close",code:"note-icon-code",eraser:"note-icon-eraser",floatLeft:"note-icon-float-left",floatRight:"note-icon-float-right",font:"note-icon-font",frame:"note-icon-frame",italic:"note-icon-italic",link:"note-icon-link",unlink:"note-icon-chain-broken",magic:"note-icon-magic",menuCheck:"note-icon-menu-check",minus:"note-icon-minus",orderedlist:"note-icon-orderedlist",pencil:"note-icon-pencil",picture:"note-icon-picture",question:"note-icon-question",redo:"note-icon-redo",rollback:"note-icon-rollback",square:"note-icon-square",strikethrough:"note-icon-strikethrough",subscript:"note-icon-subscript",superscript:"note-icon-superscript",table:"note-icon-table",textHeight:"note-icon-text-height",trash:"note-icon-trash",underline:"note-icon-underline",undo:"note-icon-undo",unorderedlist:"note-icon-unorderedlist",video:"note-icon-video"}}}),w.summernote=w.extend(w.summernote,{ui:y})}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],e):e((t=t||self).jQuery)}(this,function(w){"use strict";w=w&&w.hasOwnProperty("default")?w.default:w;var i=(t.prototype.render=function(t){var o=w(this.markup);if(this.options&&this.options.contents&&o.html(this.options.contents),this.options&&this.options.className&&o.addClass(this.options.className),this.options&&this.options.data&&w.each(this.options.data,function(t,e){o.attr("data-"+t,e)}),this.options&&this.options.click&&o.on("click",this.options.click),this.children){var e=o.find(".note-children-container");this.children.forEach(function(t){t.render(e.length?e:o)})}return this.callback&&this.callback(o,this.options),this.options&&this.options.callback&&this.options.callback(o),t&&t.append(o),o},t);function t(t,e,o,n){this.markup=t,this.children=e,this.options=o,this.callback=n}var o=function(o,n){return function(){var t="object"==typeof arguments[1]?arguments[1]:arguments[0],e=Array.isArray(arguments[0])?arguments[0]:[];return t&&t.children&&(e=t.children),new i(o,e,t,n)}},e=o('<div class="note-editor note-frame card"/>'),n=o('<div class="note-toolbar card-header" role="toolbar"></div>'),r=o('<div class="note-editing-area"/>'),a=o('<textarea class="note-codable" role="textbox" aria-multiline="true"/>'),s=o('<div class="note-editable card-block" contentEditable="true" role="textbox" aria-multiline="true"/>'),l=o(['<output class="note-status-output" aria-live="polite"/>','<div class="note-statusbar" role="status">','  <output class="note-status-output" aria-live="polite"></output>','  <div class="note-resizebar" role="seperator" aria-orientation="horizontal" aria-label="Resize">','    <div class="note-icon-bar"/>','    <div class="note-icon-bar"/>','    <div class="note-icon-bar"/>',"  </div>","</div>"].join("")),c=o('<div class="note-editor"/>'),d=o(['<div class="note-editable" contentEditable="true" role="textbox" aria-multiline="true"/>','<output class="note-status-output" aria-live="polite"/>'].join("")),u=o('<div class="note-btn-group btn-group">'),h=o('<div class="dropdown-menu" role="list">',function(t,i){var e=Array.isArray(i.items)?i.items.map(function(t){var e="string"==typeof t?t:t.value||"",o=i.template?i.template(t):t,n="object"==typeof t?t.option:void 0;return'<a class="dropdown-item" href="#" '+('data-value="'+e+'"')+(void 0!==n?' data-option="'+n+'"':"")+' role="listitem" aria-label="'+e+'">'+o+"</a>"}).join(""):i.items;t.html(e).attr({"aria-label":i.title})}),p=o('<div class="dropdown-menu note-check" role="list">',function(t,n){var e=Array.isArray(n.items)?n.items.map(function(t){var e="string"==typeof t?t:t.value||"",o=n.template?n.template(t):t;return'<a class="dropdown-item" href="#" data-value="'+e+'" role="listitem" aria-label="'+t+'">'+b(n.checkClassName)+" "+o+"</a>"}).join(""):n.items;t.html(e).attr({"aria-label":n.title})}),f=o('<div class="note-color-palette"/>',function(t,e){for(var o=[],n=0,i=e.colors.length;n<i;n++){for(var r=e.eventName,a=e.colors[n],s=e.colorsName[n],l=[],c=0,d=a.length;c<d;c++){var u=a[c],h=s[c];l.push(['<button type="button" class="note-color-btn"','style="background-color:',u,'" ','data-event="',r,'" ','data-value="',u,'" ','title="',h,'" ','aria-label="',h,'" ','data-toggle="button" tabindex="-1"></button>'].join(""))}o.push('<div class="note-color-row">'+l.join("")+"</div>")}t.html(o.join("")),e.tooltip&&t.find(".note-color-btn").tooltip({container:e.container,trigger:"hover",placement:"bottom"})}),m=o('<div class="modal" aria-hidden="false" tabindex="-1" role="dialog"/>',function(t,e){e.fade&&t.addClass("fade"),t.attr({"aria-label":e.title}),t.html(['<div class="modal-dialog">','  <div class="modal-content">',e.title?'    <div class="modal-header">      <h4 class="modal-title">'+e.title+'</h4>      <button type="button" class="close" data-dismiss="modal" aria-label="Close" aria-hidden="true">&times;</button>    </div>':"",'    <div class="modal-body">'+e.body+"</div>",e.footer?'    <div class="modal-footer">'+e.footer+"</div>":"","  </div>","</div>"].join(""))}),g=o(['<div class="note-popover popover in">','  <div class="arrow"/>','  <div class="popover-content note-children-container"/>',"</div>"].join(""),function(t,e){var o=void 0!==e.direction?e.direction:"bottom";t.addClass(o),e.hideArrow&&t.find(".arrow").hide()}),v=o('<div class="form-check"></div>',function(t,e){t.html(['<label class="form-check-label"'+(e.id?' for="'+e.id+'"':"")+">",' <input role="checkbox" type="checkbox" class="form-check-input"'+(e.id?' id="'+e.id+'"':""),e.checked?" checked":"",' aria-label="'+(e.text?e.text:"")+'"',' aria-checked="'+(e.checked?"true":"false")+'"/>'," "+(e.text?e.text:"")+"</label>"].join(""))}),b=function(t,e){return"<"+(e=e||"i")+' class="'+t+'"/>'},y={editor:e,toolbar:n,editingArea:r,codable:a,editable:s,statusbar:l,airEditor:c,airEditable:d,buttonGroup:u,dropdown:h,dropdownButtonContents:function(t){return t},dropdownCheck:p,palette:f,dialog:m,popover:g,icon:b,checkbox:v,options:{},button:function(t,e){return o('<button type="button" class="note-btn btn btn-light btn-sm" role="button" tabindex="-1">',function(t,e){e&&e.tooltip&&t.attr({title:e.tooltip,"aria-label":e.tooltip}).tooltip({container:void 0!==e.container?e.container:"body",trigger:"hover",placement:"bottom"}).on("click",function(t){w(t.currentTarget).tooltip("hide")})})(t,e)},toggleBtn:function(t,e){t.toggleClass("disabled",!e),t.attr("disabled",!e)},toggleBtnActive:function(t,e){t.toggleClass("active",e)},onDialogShown:function(t,e){t.one("shown.bs.modal",e)},onDialogHidden:function(t,e){t.one("hidden.bs.modal",e)},showDialog:function(t){t.modal("show")},hideDialog:function(t){t.modal("hide")},createLayout:function(t,e){var o=(e.airMode?y.airEditor([y.editingArea([y.airEditable()])]):y.editor([y.toolbar(),y.editingArea([y.codable(),y.editable()]),y.statusbar()])).render();return o.insertAfter(t),{note:t,editor:o,toolbar:o.find(".note-toolbar"),editingArea:o.find(".note-editing-area"),editable:o.find(".note-editable"),codable:o.find(".note-codable"),statusbar:o.find(".note-statusbar")}},removeLayout:function(t,e){t.html(e.editable.html()),e.editor.remove(),t.show()}};w.summernote=w.summernote||{lang:{}},w.extend(w.summernote.lang,{"en-US":{font:{bold:"Bold",italic:"Italic",underline:"Underline",clear:"Remove Font Style",height:"Line Height",name:"Font Family",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript",size:"Font Size"},image:{image:"Picture",insert:"Insert Image",resizeFull:"Resize full",resizeHalf:"Resize half",resizeQuarter:"Resize quarter",resizeNone:"Original size",floatLeft:"Float Left",floatRight:"Float Right",floatNone:"Remove float",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"Drag image or text here",dropImage:"Drop image or Text",selectFromFiles:"Select from files",maximumFileSize:"Maximum file size",maximumFileSizeError:"Maximum file size exceeded.",url:"Image URL",remove:"Remove Image",original:"Original"},video:{video:"Video",videoLink:"Video Link",insert:"Insert Video",url:"Video URL",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion or Youku)"},link:{link:"Link",insert:"Insert Link",unlink:"Unlink",edit:"Edit",textToDisplay:"Text to display",url:"To what URL should this link go?",openInNewWindow:"Open in new window"},table:{table:"Table",addRowAbove:"Add row above",addRowBelow:"Add row below",addColLeft:"Add column left",addColRight:"Add column right",delRow:"Delete row",delCol:"Delete column",delTable:"Delete table"},hr:{insert:"Insert Horizontal Rule"},style:{style:"Style",p:"Normal",blockquote:"Quote",pre:"Code",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6"},lists:{unordered:"Unordered list",ordered:"Ordered list"},options:{help:"Help",fullscreen:"Full Screen",codeview:"Code View"},paragraph:{paragraph:"Paragraph",outdent:"Outdent",indent:"Indent",left:"Align left",center:"Align center",right:"Align right",justify:"Justify full"},color:{recent:"Recent Color",more:"More Color",background:"Background Color",foreground:"Foreground Color",transparent:"Transparent",setTransparent:"Set transparent",reset:"Reset",resetToDefault:"Reset to default",cpSelect:"Select"},shortcut:{shortcuts:"Keyboard shortcuts",close:"Close",textFormatting:"Text formatting",action:"Action",paragraphFormatting:"Paragraph formatting",documentStyle:"Document Style",extraKeys:"Extra keys"},help:{insertParagraph:"Insert Paragraph",undo:"Undoes the last command",redo:"Redoes the last command",tab:"Tab",untab:"Untab",bold:"Set a bold style",italic:"Set a italic style",underline:"Set a underline style",strikethrough:"Set a strikethrough style",removeFormat:"Clean a style",justifyLeft:"Set left align",justifyCenter:"Set center align",justifyRight:"Set right align",justifyFull:"Set full align",insertUnorderedList:"Toggle unordered list",insertOrderedList:"Toggle ordered list",outdent:"Outdent on current paragraph",indent:"Indent on current paragraph",formatPara:"Change current block's format as a paragraph(P tag)",formatH1:"Change current block's format as H1",formatH2:"Change current block's format as H2",formatH3:"Change current block's format as H3",formatH4:"Change current block's format as H4",formatH5:"Change current block's format as H5",formatH6:"Change current block's format as H6",insertHorizontalRule:"Insert horizontal rule","linkDialog.show":"Show Link Dialog"},history:{undo:"Undo",redo:"Redo"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"}}});var x="function"==typeof define&&define.amd;var C,k=navigator.userAgent,S=/MSIE|Trident/i.test(k);if(S){var T=/MSIE (\d+[.]\d+)/.exec(k);T&&(C=parseFloat(T[1])),(T=/Trident\/.*rv:([0-9]{1,}[.0-9]{0,})/.exec(k))&&(C=parseFloat(T[1]))}var E=/Edge\/\d+/.test(k),I=!!window.CodeMirror,P="ontouchstart"in window||0<navigator.MaxTouchPoints||0<navigator.msMaxTouchPoints,N=S||E?"DOMCharacterDataModified DOMSubtreeModified DOMNodeInserted":"input",L={isMac:-1<navigator.appVersion.indexOf("Mac"),isMSIE:S,isEdge:E,isFF:!E&&/firefox/i.test(k),isPhantom:/PhantomJS/i.test(k),isWebkit:!E&&/webkit/i.test(k),isChrome:!E&&/chrome/i.test(k),isSafari:!E&&/safari/i.test(k),browserVersion:C,jqueryVersion:parseFloat(w.fn.jquery),isSupportAmd:x,isSupportTouch:P,hasCodeMirror:I,isFontInstalled:function(t){var e="Comic Sans MS"===t?"Courier New":"Comic Sans MS",o="mmmmmmmmmmwwwww",n=document.createElement("canvas").getContext("2d");n.font="200px '"+e+"'";var i=n.measureText(o).width;return n.font="200px '"+t+"', '"+e+"'",i!==n.measureText(o).width},isW3CRangeSupport:!!document.createRange,inputEventName:N};var A=0;var M={eq:function(e){return function(t){return e===t}},eq2:function(t,e){return t===e},peq2:function(o){return function(t,e){return t[o]===e[o]}},ok:function(){return!0},fail:function(){return!1},self:function(t){return t},not:function(t){return function(){return!t.apply(t,arguments)}},and:function(e,o){return function(t){return e(t)&&o(t)}},invoke:function(t,e){return function(){return t[e].apply(t,arguments)}},uniqueId:function(t){var e=++A+"";return t?t+e:e},rect2bnd:function(t){var e=$(document);return{top:t.top+e.scrollTop(),left:t.left+e.scrollLeft(),width:t.right-t.left,height:t.bottom-t.top}},invertObject:function(t){var e={};for(var o in t)t.hasOwnProperty(o)&&(e[t[o]]=o);return e},namespaceToCamel:function(t,e){return(e=e||"")+t.split(".").map(function(t){return t.substring(0,1).toUpperCase()+t.substring(1)}).join("")},debounce:function(n,i,r){var a;return function(){var t=this,e=arguments,o=r&&!a;clearTimeout(a),a=setTimeout(function(){a=null,r||n.apply(t,e)},i),o&&n.apply(t,e)}},isValidUrl:function(t){return/[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/gi.test(t)}};function R(t){return t[0]}function D(t){return t[t.length-1]}function F(t){return t.slice(1)}function H(t,e){return!!(t&&t.length&&e)&&-1!==t.indexOf(e)}var z={head:R,last:D,initial:function(t){return t.slice(0,t.length-1)},tail:F,prev:function(t,e){if(t&&t.length&&e){var o=t.indexOf(e);return-1===o?null:t[o-1]}return null},next:function(t,e){if(t&&t.length&&e){var o=t.indexOf(e);return-1===o?null:t[o+1]}return null},find:function(t,e){for(var o=0,n=t.length;o<n;o++){var i=t[o];if(e(i))return i}},contains:H,all:function(t,e){for(var o=0,n=t.length;o<n;o++)if(!e(t[o]))return!1;return!0},sum:function(t,o){return o=o||M.self,t.reduce(function(t,e){return t+o(e)},0)},from:function(t){for(var e=[],o=t.length,n=-1;++n<o;)e[n]=t[n];return e},isEmpty:function(t){return!t||!t.length},clusterBy:function(t,n){return t.length?F(t).reduce(function(t,e){var o=D(t);return n(D(o),e)?o[o.length]=e:t[t.length]=[e],t},[[R(t)]]):[]},compact:function(t){for(var e=[],o=0,n=t.length;o<n;o++)t[o]&&e.push(t[o]);return e},unique:function(t){for(var e=[],o=0,n=t.length;o<n;o++)H(e,t[o])||e.push(t[o]);return e}},B=String.fromCharCode(160);function O(t){return t&&w(t).hasClass("note-editable")}function j(e){return e=e.toUpperCase(),function(t){return t&&t.nodeName.toUpperCase()===e}}function q(t){return t&&3===t.nodeType}function U(t){return t&&/^BR|^IMG|^HR|^IFRAME|^BUTTON|^INPUT|^AUDIO|^VIDEO|^EMBED/.test(t.nodeName.toUpperCase())}function W(t){return!O(t)&&(t&&/^DIV|^P|^LI|^H[1-7]/.test(t.nodeName.toUpperCase()))}var V=j("PRE"),G=j("LI");var K=j("TABLE"),_=j("DATA");function Y(t){return!(tt(t)||X(t)||Z(t)||W(t)||K(t)||J(t)||_(t))}function X(t){return t&&/^UL|^OL/.test(t.nodeName.toUpperCase())}var Z=j("HR");function Q(t){return t&&/^TD|^TH/.test(t.nodeName.toUpperCase())}var J=j("BLOCKQUOTE");function tt(t){return Q(t)||J(t)||O(t)}var et=j("A");var ot=j("BODY");var nt=L.isMSIE&&L.browserVersion<11?"&nbsp;":"<br>";function it(t){return q(t)?t.nodeValue.length:t?t.childNodes.length:0}function rt(t){var e=it(t);return 0===e||(!q(t)&&1===e&&t.innerHTML===nt||!(!z.all(t.childNodes,q)||""!==t.innerHTML))}function at(t){U(t)||it(t)||(t.innerHTML=nt)}function st(t,e){for(;t;){if(e(t))return t;if(O(t))break;t=t.parentNode}return null}function lt(t,e){e=e||M.fail;var o=[];return st(t,function(t){return O(t)||o.push(t),e(t)}),o}function ct(t,e){e=e||M.fail;for(var o=[];t&&!e(t);)o.push(t),t=t.nextSibling;return o}function dt(t,e){var o=e.nextSibling,n=e.parentNode;return o?n.insertBefore(t,o):n.appendChild(t),t}function ut(o,t){return w.each(t,function(t,e){o.appendChild(e)}),o}function ht(t){return 0===t.offset}function pt(t){return t.offset===it(t.node)}function ft(t){return ht(t)||pt(t)}function mt(t,e){for(;t&&t!==e;){if(0!==vt(t))return!1;t=t.parentNode}return!0}function gt(t,e){if(!e)return!1;for(;t&&t!==e;){if(vt(t)!==it(t.parentNode)-1)return!1;t=t.parentNode}return!0}function vt(t){for(var e=0;t=t.previousSibling;)e+=1;return e}function bt(t){return!!(t&&t.childNodes&&t.childNodes.length)}function yt(t,e){var o,n;if(0===t.offset){if(O(t.node))return null;o=t.node.parentNode,n=vt(t.node)}else n=bt(t.node)?it(o=t.node.childNodes[t.offset-1]):(o=t.node,e?0:t.offset-1);return{node:o,offset:n}}function xt(t,e){var o,n;if(it(t.node)===t.offset){if(O(t.node))return null;o=t.node.parentNode,n=vt(t.node)+1}else n=bt(t.node)?(o=t.node.childNodes[t.offset],0):(o=t.node,e?it(t.node):t.offset+1);return{node:o,offset:n}}function wt(t,e){return t.node===e.node&&t.offset===e.offset}function Ct(t,e){var o=e&&e.isSkipPaddingBlankHTML,n=e&&e.isNotSplitEdgePoint,i=e&&e.isDiscardEmptySplits;if(i&&(o=!0),ft(t)&&(q(t.node)||n)){if(ht(t))return t.node;if(pt(t))return t.node.nextSibling}if(q(t.node))return t.node.splitText(t.offset);var r=t.node.childNodes[t.offset],a=dt(t.node.cloneNode(!1),t.node);return ut(a,ct(r)),o||(at(t.node),at(a)),i&&(rt(t.node)&&Tt(t.node),rt(a))?(Tt(a),t.node.nextSibling):a}function kt(t,o,n){var e=lt(o.node,M.eq(t));return e.length?1===e.length?Ct(o,n):e.reduce(function(t,e){return t===o.node&&(t=Ct(o,n)),Ct({node:e,offset:t?vt(t):it(e)},n)}):null}function St(t){return document.createElement(t)}function Tt(t,e){if(t&&t.parentNode){if(t.removeNode)return t.removeNode(e);var o=t.parentNode;if(!e){for(var n=[],i=0,r=t.childNodes.length;i<r;i++)n.push(t.childNodes[i]);for(i=0,r=n.length;i<r;i++)o.insertBefore(n[i],t)}o.removeChild(t)}}var Et=j("TEXTAREA");function $t(t,e){var o=Et(t[0])?t.val():t.html();return e?o.replace(/[\n\r]/g,""):o}var It={NBSP_CHAR:B,ZERO_WIDTH_NBSP_CHAR:"\ufeff",blank:nt,emptyPara:"<p>"+nt+"</p>",makePredByNodeName:j,isEditable:O,isControlSizing:function(t){return t&&w(t).hasClass("note-control-sizing")},isText:q,isElement:function(t){return t&&1===t.nodeType},isVoid:U,isPara:W,isPurePara:function(t){return W(t)&&!G(t)},isHeading:function(t){return t&&/^H[1-7]/.test(t.nodeName.toUpperCase())},isInline:Y,isBlock:M.not(Y),isBodyInline:function(t){return Y(t)&&!st(t,W)},isBody:ot,isParaInline:function(t){return Y(t)&&!!st(t,W)},isPre:V,isList:X,isTable:K,isData:_,isCell:Q,isBlockquote:J,isBodyContainer:tt,isAnchor:et,isDiv:j("DIV"),isLi:G,isBR:j("BR"),isSpan:j("SPAN"),isB:j("B"),isU:j("U"),isS:j("S"),isI:j("I"),isImg:j("IMG"),isTextarea:Et,isEmpty:rt,isEmptyAnchor:M.and(et,rt),isClosestSibling:function(t,e){return t.nextSibling===e||t.previousSibling===e},withClosestSiblings:function(t,e){e=e||M.ok;var o=[];return t.previousSibling&&e(t.previousSibling)&&o.push(t.previousSibling),o.push(t),t.nextSibling&&e(t.nextSibling)&&o.push(t.nextSibling),o},nodeLength:it,isLeftEdgePoint:ht,isRightEdgePoint:pt,isEdgePoint:ft,isLeftEdgeOf:mt,isRightEdgeOf:gt,isLeftEdgePointOf:function(t,e){return ht(t)&&mt(t.node,e)},isRightEdgePointOf:function(t,e){return pt(t)&&gt(t.node,e)},prevPoint:yt,nextPoint:xt,isSamePoint:wt,isVisiblePoint:function(t){if(q(t.node)||!bt(t.node)||rt(t.node))return!0;var e=t.node.childNodes[t.offset-1],o=t.node.childNodes[t.offset];return!(e&&!U(e)||o&&!U(o))},prevPointUntil:function(t,e){for(;t;){if(e(t))return t;t=yt(t)}return null},nextPointUntil:function(t,e){for(;t;){if(e(t))return t;t=xt(t)}return null},isCharPoint:function(t){if(!q(t.node))return!1;var e=t.node.nodeValue.charAt(t.offset-1);return e&&" "!==e&&e!==B},walkPoint:function(t,e,o,n){for(var i=t;i&&(o(i),!wt(i,e));){i=xt(i,n&&t.node!==i.node&&e.node!==i.node)}},ancestor:st,singleChildAncestor:function(t,e){for(t=t.parentNode;t&&1===it(t);){if(e(t))return t;if(O(t))break;t=t.parentNode}return null},listAncestor:lt,lastAncestor:function(t,e){var o=lt(t);return z.last(o.filter(e))},listNext:ct,listPrev:function(t,e){e=e||M.fail;for(var o=[];t&&!e(t);)o.push(t),t=t.previousSibling;return o},listDescendant:function(i,r){var a=[];return r=r||M.ok,function t(e){i!==e&&r(e)&&a.push(e);for(var o=0,n=e.childNodes.length;o<n;o++)t(e.childNodes[o])}(i),a},commonAncestor:function(t,e){for(var o=lt(t),n=e;n;n=n.parentNode)if(-1<o.indexOf(n))return n;return null},wrap:function(t,e){var o=t.parentNode,n=w("<"+e+">")[0];return o.insertBefore(n,t),n.appendChild(t),n},insertAfter:dt,appendChildNodes:ut,position:vt,hasChildren:bt,makeOffsetPath:function(t,e){return lt(e,M.eq(t)).map(vt).reverse()},fromOffsetPath:function(t,e){for(var o=t,n=0,i=e.length;n<i;n++)o=o.childNodes.length<=e[n]?o.childNodes[o.childNodes.length-1]:o.childNodes[e[n]];return o},splitTree:kt,splitPoint:function(t,e){var o,n,i=e?W:tt,r=lt(t.node,i),a=z.last(r)||t.node;n=i(a)?(o=r[r.length-2],a):(o=a).parentNode;var s=o&&kt(o,t,{isSkipPaddingBlankHTML:e,isNotSplitEdgePoint:e});return s||n!==t.node||(s=t.node.childNodes[t.offset]),{rightNode:s,container:n}},create:St,createText:function(t){return document.createTextNode(t)},remove:Tt,removeWhile:function(t,e){for(;t&&!O(t)&&e(t);){var o=t.parentNode;Tt(t),t=o}},replace:function(t,e){if(t.nodeName.toUpperCase()===e.toUpperCase())return t;var o=St(e);return t.style.cssText&&(o.style.cssText=t.style.cssText),ut(o,z.from(t.childNodes)),dt(o,t),Tt(t),o},html:function(t,e){var o=$t(t);if(e){o=(o=o.replace(/<(\/?)(\b(?!!)[^>\s]*)(.*?)(\s*\/?>)/g,function(t,e,o){o=o.toUpperCase();var n=/^DIV|^TD|^TH|^P|^LI|^H[1-7]/.test(o)&&!!e,i=/^BLOCKQUOTE|^TABLE|^TBODY|^TR|^HR|^UL|^OL/.test(o);return t+(n||i?"\n":"")})).trim()}return o},value:$t,posFromPlaceholder:function(t){var e=w(t),o=e.offset(),n=e.outerHeight(!0);return{left:o.left,top:o.top+n}},attachEvents:function(e,o){Object.keys(o).forEach(function(t){e.on(t,o[t])})},detachEvents:function(e,o){Object.keys(o).forEach(function(t){e.off(t,o[t])})},isCustomStyleTag:function(t){return t&&!q(t)&&z.contains(t.classList,"note-styletag")}},Pt=(Nt.prototype.initialize=function(){return this.layoutInfo=this.ui.createLayout(this.$note,this.options),this._initialize(),this.$note.hide(),this},Nt.prototype.destroy=function(){this._destroy(),this.$note.removeData("summernote"),this.ui.removeLayout(this.$note,this.layoutInfo)},Nt.prototype.reset=function(){var t=this.isDisabled();this.code(It.emptyPara),this._destroy(),this._initialize(),t&&this.disable()},Nt.prototype._initialize=function(){var e=this,o=w.extend({},this.options.buttons);Object.keys(o).forEach(function(t){e.memo("button."+t,o[t])});var n=w.extend({},this.options.modules,w.summernote.plugins||{});Object.keys(n).forEach(function(t){e.module(t,n[t],!0)}),Object.keys(this.modules).forEach(function(t){e.initializeModule(t)})},Nt.prototype._destroy=function(){var e=this;Object.keys(this.modules).reverse().forEach(function(t){e.removeModule(t)}),Object.keys(this.memos).forEach(function(t){e.removeMemo(t)}),this.triggerEvent("destroy",this)},Nt.prototype.code=function(t){var e=this.invoke("codeview.isActivated");if(void 0===t)return this.invoke("codeview.sync"),e?this.layoutInfo.codable.val():this.layoutInfo.editable.html();e?this.layoutInfo.codable.val(t):this.layoutInfo.editable.html(t),this.$note.val(t),this.triggerEvent("change",t,this.layoutInfo.editable)},Nt.prototype.isDisabled=function(){return"false"===this.layoutInfo.editable.attr("contenteditable")},Nt.prototype.enable=function(){this.layoutInfo.editable.attr("contenteditable",!0),this.invoke("toolbar.activate",!0),this.triggerEvent("disable",!1)},Nt.prototype.disable=function(){this.invoke("codeview.isActivated")&&this.invoke("codeview.deactivate"),this.layoutInfo.editable.attr("contenteditable",!1),this.invoke("toolbar.deactivate",!0),this.triggerEvent("disable",!0)},Nt.prototype.triggerEvent=function(){var t=z.head(arguments),e=z.tail(z.from(arguments)),o=this.options.callbacks[M.namespaceToCamel(t,"on")];o&&o.apply(this.$note[0],e),this.$note.trigger("summernote."+t,e)},Nt.prototype.initializeModule=function(t){var e=this.modules[t];e.shouldInitialize=e.shouldInitialize||M.ok,e.shouldInitialize()&&(e.initialize&&e.initialize(),e.events&&It.attachEvents(this.$note,e.events))},Nt.prototype.module=function(t,e,o){if(1===arguments.length)return this.modules[t];this.modules[t]=new e(this),o||this.initializeModule(t)},Nt.prototype.removeModule=function(t){var e=this.modules[t];e.shouldInitialize()&&(e.events&&It.detachEvents(this.$note,e.events),e.destroy&&e.destroy()),delete this.modules[t]},Nt.prototype.memo=function(t,e){if(1===arguments.length)return this.memos[t];this.memos[t]=e},Nt.prototype.removeMemo=function(t){this.memos[t]&&this.memos[t].destroy&&this.memos[t].destroy(),delete this.memos[t]},Nt.prototype.createInvokeHandlerAndUpdateState=function(e,o){var n=this;return function(t){n.createInvokeHandler(e,o)(t),n.invoke("buttons.updateCurrentStyle")}},Nt.prototype.createInvokeHandler=function(o,n){var i=this;return function(t){t.preventDefault();var e=w(t.target);i.invoke(o,n||e.closest("[data-value]").data("value"),e)}},Nt.prototype.invoke=function(){var t=z.head(arguments),e=z.tail(z.from(arguments)),o=t.split("."),n=1<o.length,i=n&&z.head(o),r=n?z.last(o):z.head(o),a=this.modules[i||"editor"];return!i&&this[r]?this[r].apply(this,e):a&&a[r]&&a.shouldInitialize()?a[r].apply(a,e):void 0},Nt);function Nt(t,e){this.ui=w.summernote.ui,this.$note=t,this.memos={},this.modules={},this.layoutInfo={},this.options=e,this.initialize()}function Lt(t,e){var o,n,i=t.parentElement(),r=document.body.createTextRange(),a=z.from(i.childNodes);for(o=0;o<a.length;o++)if(!It.isText(a[o])){if(r.moveToElementText(a[o]),0<=r.compareEndPoints("StartToStart",t))break;n=a[o]}if(0!==o&&It.isText(a[o-1])){var s=document.body.createTextRange(),l=null;s.moveToElementText(n||i),s.collapse(!n),l=n?n.nextSibling:i.firstChild;var c=t.duplicate();c.setEndPoint("StartToStart",s);for(var d=c.text.replace(/[\r\n]/g,"").length;d>l.nodeValue.length&&l.nextSibling;)d-=l.nodeValue.length,l=l.nextSibling;l.nodeValue;e&&l.nextSibling&&It.isText(l.nextSibling)&&d===l.nodeValue.length&&(d-=l.nodeValue.length,l=l.nextSibling),i=l,o=d}return{cont:i,offset:o}}function At(t){var a=function(t,e){var o,n;if(It.isText(t)){var i=It.listPrev(t,M.not(It.isText)),r=z.last(i).previousSibling;o=r||t.parentNode,e+=z.sum(z.tail(i),It.nodeLength),n=!r}else{if(o=t.childNodes[e]||t,It.isText(o))return a(o,0);e=0,n=!1}return{node:o,collapseToStart:n,offset:e}},e=document.body.createTextRange(),o=a(t.node,t.offset);return e.moveToElementText(o.node),e.collapse(o.collapseToStart),e.moveStart("character",o.offset),e}w.fn.extend({summernote:function(){var t=w.type(z.head(arguments)),e="string"===t,o="object"===t,i=w.extend({},w.summernote.options,o?z.head(arguments):{});i.langInfo=w.extend(!0,{},w.summernote.lang["en-US"],w.summernote.lang[i.lang]),i.icons=w.extend(!0,{},w.summernote.options.icons,i.icons),i.tooltip="auto"===i.tooltip?!L.isSupportTouch:i.tooltip,this.each(function(t,e){var o=w(e);if(!o.data("summernote")){var n=new Pt(o,i);o.data("summernote",n),o.data("summernote").triggerEvent("init",n.layoutInfo)}});var n=this.first();if(n.length){var r=n.data("summernote");if(e)return r.invoke.apply(r,z.from(arguments));i.focus&&r.invoke("editor.focus")}return this}});var Mt=(Rt.prototype.nativeRange=function(){if(L.isW3CRangeSupport){var t=document.createRange();return t.setStart(this.sc,this.sc.data&&this.so>this.sc.data.length?0:this.so),t.setEnd(this.ec,this.sc.data?Math.min(this.eo,this.sc.data.length):this.eo),t}var e=At({node:this.sc,offset:this.so});return e.setEndPoint("EndToEnd",At({node:this.ec,offset:this.eo})),e},Rt.prototype.getPoints=function(){return{sc:this.sc,so:this.so,ec:this.ec,eo:this.eo}},Rt.prototype.getStartPoint=function(){return{node:this.sc,offset:this.so}},Rt.prototype.getEndPoint=function(){return{node:this.ec,offset:this.eo}},Rt.prototype.select=function(){var t=this.nativeRange();if(L.isW3CRangeSupport){var e=document.getSelection();0<e.rangeCount&&e.removeAllRanges(),e.addRange(t)}else t.select();return this},Rt.prototype.scrollIntoView=function(t){var e=w(t).height();return t.scrollTop+e<this.sc.offsetTop&&(t.scrollTop+=Math.abs(t.scrollTop+e-this.sc.offsetTop)),this},Rt.prototype.normalize=function(){function t(t,e){if(It.isVisiblePoint(t)&&(!It.isEdgePoint(t)||It.isRightEdgePoint(t)&&!e||It.isLeftEdgePoint(t)&&e||It.isRightEdgePoint(t)&&e&&It.isVoid(t.node.nextSibling)||It.isLeftEdgePoint(t)&&!e&&It.isVoid(t.node.previousSibling)||It.isBlock(t.node)&&It.isEmpty(t.node)))return t;var o=It.ancestor(t.node,It.isBlock);if((It.isLeftEdgePointOf(t,o)||It.isVoid(It.prevPoint(t).node))&&!e||(It.isRightEdgePointOf(t,o)||It.isVoid(It.nextPoint(t).node))&&e){if(It.isVisiblePoint(t))return t;e=!e}return(e?It.nextPointUntil(It.nextPoint(t),It.isVisiblePoint):It.prevPointUntil(It.prevPoint(t),It.isVisiblePoint))||t}var e=t(this.getEndPoint(),!1),o=this.isCollapsed()?e:t(this.getStartPoint(),!0);return new Rt(o.node,o.offset,e.node,e.offset)},Rt.prototype.nodes=function(o,t){o=o||M.ok;var n=t&&t.includeAncestor,i=t&&t.fullyContains,e=this.getStartPoint(),r=this.getEndPoint(),a=[],s=[];return It.walkPoint(e,r,function(t){var e;It.isEditable(t.node)||(i?(It.isLeftEdgePoint(t)&&s.push(t.node),It.isRightEdgePoint(t)&&z.contains(s,t.node)&&(e=t.node)):e=n?It.ancestor(t.node,o):t.node,e&&o(e)&&a.push(e))},!0),z.unique(a)},Rt.prototype.commonAncestor=function(){return It.commonAncestor(this.sc,this.ec)},Rt.prototype.expand=function(t){var e=It.ancestor(this.sc,t),o=It.ancestor(this.ec,t);if(!e&&!o)return new Rt(this.sc,this.so,this.ec,this.eo);var n=this.getPoints();return e&&(n.sc=e,n.so=0),o&&(n.ec=o,n.eo=It.nodeLength(o)),new Rt(n.sc,n.so,n.ec,n.eo)},Rt.prototype.collapse=function(t){return t?new Rt(this.sc,this.so,this.sc,this.so):new Rt(this.ec,this.eo,this.ec,this.eo)},Rt.prototype.splitText=function(){var t=this.sc===this.ec,e=this.getPoints();return It.isText(this.ec)&&!It.isEdgePoint(this.getEndPoint())&&this.ec.splitText(this.eo),It.isText(this.sc)&&!It.isEdgePoint(this.getStartPoint())&&(e.sc=this.sc.splitText(this.so),e.so=0,t&&(e.ec=e.sc,e.eo=this.eo-this.so)),new Rt(e.sc,e.so,e.ec,e.eo)},Rt.prototype.deleteContents=function(){if(this.isCollapsed())return this;var t=this.splitText(),e=t.nodes(null,{fullyContains:!0}),n=It.prevPointUntil(t.getStartPoint(),function(t){return!z.contains(e,t.node)}),i=[];return w.each(e,function(t,e){var o=e.parentNode;n.node!==o&&1===It.nodeLength(o)&&i.push(o),It.remove(e,!1)}),w.each(i,function(t,e){It.remove(e,!1)}),new Rt(n.node,n.offset,n.node,n.offset).normalize()},Rt.prototype.makeIsOn=function(e){return function(){var t=It.ancestor(this.sc,e);return!!t&&t===It.ancestor(this.ec,e)}},Rt.prototype.isLeftEdgeOf=function(t){if(!It.isLeftEdgePoint(this.getStartPoint()))return!1;var e=It.ancestor(this.sc,t);return e&&It.isLeftEdgeOf(this.sc,e)},Rt.prototype.isCollapsed=function(){return this.sc===this.ec&&this.so===this.eo},Rt.prototype.wrapBodyInlineWithPara=function(){if(It.isBodyContainer(this.sc)&&It.isEmpty(this.sc))return this.sc.innerHTML=It.emptyPara,new Rt(this.sc.firstChild,0,this.sc.firstChild,0);var t,e=this.normalize();if(It.isParaInline(this.sc)||It.isPara(this.sc))return e;if(It.isInline(e.sc)){var o=It.listAncestor(e.sc,M.not(It.isInline));t=z.last(o),It.isInline(t)||(t=o[o.length-2]||e.sc.childNodes[e.so])}else t=e.sc.childNodes[0<e.so?e.so-1:0];var n=It.listPrev(t,It.isParaInline).reverse();if((n=n.concat(It.listNext(t.nextSibling,It.isParaInline))).length){var i=It.wrap(z.head(n),"p");It.appendChildNodes(i,z.tail(n))}return this.normalize()},Rt.prototype.insertNode=function(t){var e=this.wrapBodyInlineWithPara().deleteContents(),o=It.splitPoint(e.getStartPoint(),It.isInline(t));return o.rightNode?o.rightNode.parentNode.insertBefore(t,o.rightNode):o.container.appendChild(t),t},Rt.prototype.pasteHTML=function(t){var e=w("<div></div>").html(t)[0],o=z.from(e.childNodes),n=this.wrapBodyInlineWithPara().deleteContents();return 0<n.so&&(o=o.reverse()),o=o.map(function(t){return n.insertNode(t)}),0<n.so&&(o=o.reverse()),o},Rt.prototype.toString=function(){var t=this.nativeRange();return L.isW3CRangeSupport?t.toString():t.text},Rt.prototype.getWordRange=function(t){var e=this.getEndPoint();if(!It.isCharPoint(e))return this;var o=It.prevPointUntil(e,function(t){return!It.isCharPoint(t)});return t&&(e=It.nextPointUntil(e,function(t){return!It.isCharPoint(t)})),new Rt(o.node,o.offset,e.node,e.offset)},Rt.prototype.bookmark=function(t){return{s:{path:It.makeOffsetPath(t,this.sc),offset:this.so},e:{path:It.makeOffsetPath(t,this.ec),offset:this.eo}}},Rt.prototype.paraBookmark=function(t){return{s:{path:z.tail(It.makeOffsetPath(z.head(t),this.sc)),offset:this.so},e:{path:z.tail(It.makeOffsetPath(z.last(t),this.ec)),offset:this.eo}}},Rt.prototype.getClientRects=function(){return this.nativeRange().getClientRects()},Rt);function Rt(t,e,o,n){this.sc=t,this.so=e,this.ec=o,this.eo=n,this.isOnEditable=this.makeIsOn(It.isEditable),this.isOnList=this.makeIsOn(It.isList),this.isOnAnchor=this.makeIsOn(It.isAnchor),this.isOnCell=this.makeIsOn(It.isCell),this.isOnData=this.makeIsOn(It.isData)}var Dt={create:function(t,e,o,n){if(4===arguments.length)return new Mt(t,e,o,n);if(2===arguments.length)return new Mt(o=t,n=e,o,n);var i=this.createFromSelection();return i||1!==arguments.length?i:(i=this.createFromNode(t)).collapse(It.emptyPara===t.innerHTML)},createFromSelection:function(){var t,e,o,n;if(L.isW3CRangeSupport){var i=document.getSelection();if(!i||0===i.rangeCount)return null;if(It.isBody(i.anchorNode))return null;var r=i.getRangeAt(0);t=r.startContainer,e=r.startOffset,o=r.endContainer,n=r.endOffset}else{var a=document.selection.createRange(),s=a.duplicate();s.collapse(!1);var l=a;l.collapse(!0);var c=Lt(l,!0),d=Lt(s,!1);It.isText(c.node)&&It.isLeftEdgePoint(c)&&It.isTextNode(d.node)&&It.isRightEdgePoint(d)&&d.node.nextSibling===c.node&&(c=d),t=c.cont,e=c.offset,o=d.cont,n=d.offset}return new Mt(t,e,o,n)},createFromNode:function(t){var e=t,o=0,n=t,i=It.nodeLength(n);return It.isVoid(e)&&(o=It.listPrev(e).length-1,e=e.parentNode),It.isBR(n)?(i=It.listPrev(n).length-1,n=n.parentNode):It.isVoid(n)&&(i=It.listPrev(n).length,n=n.parentNode),this.create(e,o,n,i)},createFromNodeBefore:function(t){return this.createFromNode(t).collapse(!0)},createFromNodeAfter:function(t){return this.createFromNode(t).collapse()},createFromBookmark:function(t,e){var o=It.fromOffsetPath(t,e.s.path),n=e.s.offset,i=It.fromOffsetPath(t,e.e.path),r=e.e.offset;return new Mt(o,n,i,r)},createFromParaBookmark:function(t,e){var o=t.s.offset,n=t.e.offset,i=It.fromOffsetPath(z.head(e),t.s.path),r=It.fromOffsetPath(z.last(e),t.e.path);return new Mt(i,o,r,n)}},Ft={BACKSPACE:8,TAB:9,ENTER:13,SPACE:32,DELETE:46,LEFT:37,UP:38,RIGHT:39,DOWN:40,NUM0:48,NUM1:49,NUM2:50,NUM3:51,NUM4:52,NUM5:53,NUM6:54,NUM7:55,NUM8:56,B:66,E:69,I:73,J:74,K:75,L:76,R:82,S:83,U:85,V:86,Y:89,Z:90,SLASH:191,LEFTBRACKET:219,BACKSLASH:220,RIGHTBRACKET:221},Ht={isEdit:function(t){return z.contains([Ft.BACKSPACE,Ft.TAB,Ft.ENTER,Ft.SPACE,Ft.DELETE],t)},isMove:function(t){return z.contains([Ft.LEFT,Ft.UP,Ft.RIGHT,Ft.DOWN],t)},nameFromCode:M.invertObject(Ft),code:Ft};var zt=(Bt.prototype.makeSnapshot=function(){var t=Dt.create(this.editable);return{contents:this.$editable.html(),bookmark:t&&t.isOnEditable()?t.bookmark(this.editable):{s:{path:[],offset:0},e:{path:[],offset:0}}}},Bt.prototype.applySnapshot=function(t){null!==t.contents&&this.$editable.html(t.contents),null!==t.bookmark&&Dt.createFromBookmark(this.editable,t.bookmark).select()},Bt.prototype.rewind=function(){this.$editable.html()!==this.stack[this.stackOffset].contents&&this.recordUndo(),this.stackOffset=0,this.applySnapshot(this.stack[this.stackOffset])},Bt.prototype.commit=function(){this.stack=[],this.stackOffset=-1,this.recordUndo()},Bt.prototype.reset=function(){this.stack=[],this.stackOffset=-1,this.$editable.html(""),this.recordUndo()},Bt.prototype.undo=function(){this.$editable.html()!==this.stack[this.stackOffset].contents&&this.recordUndo(),0<this.stackOffset&&(this.stackOffset--,this.applySnapshot(this.stack[this.stackOffset]))},Bt.prototype.redo=function(){this.stack.length-1>this.stackOffset&&(this.stackOffset++,this.applySnapshot(this.stack[this.stackOffset]))},Bt.prototype.recordUndo=function(){this.stackOffset++,this.stack.length>this.stackOffset&&(this.stack=this.stack.slice(0,this.stackOffset)),this.stack.push(this.makeSnapshot())},Bt);function Bt(t){this.stack=[],this.stackOffset=-1,this.$editable=t,this.editable=t[0]}var Ot=(jt.prototype.jQueryCSS=function(o,t){if(L.jqueryVersion<1.9){var n={};return w.each(t,function(t,e){n[e]=o.css(e)}),n}return o.css(t)},jt.prototype.fromNode=function(t){var e=this.jQueryCSS(t,["font-family","font-size","text-align","list-style-type","line-height"])||{};return e["font-size"]=parseInt(e["font-size"],10),e},jt.prototype.stylePara=function(t,o){w.each(t.nodes(It.isPara,{includeAncestor:!0}),function(t,e){w(e).css(o)})},jt.prototype.styleNodes=function(t,e){t=t.splitText();var o=e&&e.nodeName||"SPAN",n=!(!e||!e.expandClosestSibling),i=!(!e||!e.onlyPartialContains);if(t.isCollapsed())return[t.insertNode(It.create(o))];var r=It.makePredByNodeName(o),a=t.nodes(It.isText,{fullyContains:!0}).map(function(t){return It.singleChildAncestor(t,r)||It.wrap(t,o)});if(n){if(i){var s=t.nodes();r=M.and(r,function(t){return z.contains(s,t)})}return a.map(function(t){var e=It.withClosestSiblings(t,r),o=z.head(e),n=z.tail(e);return w.each(n,function(t,e){It.appendChildNodes(o,e.childNodes),It.remove(e)}),z.head(e)})}return a},jt.prototype.current=function(t){var e=w(It.isElement(t.sc)?t.sc:t.sc.parentNode),o=this.fromNode(e);try{o=w.extend(o,{"font-bold":document.queryCommandState("bold")?"bold":"normal","font-italic":document.queryCommandState("italic")?"italic":"normal","font-underline":document.queryCommandState("underline")?"underline":"normal","font-subscript":document.queryCommandState("subscript")?"subscript":"normal","font-superscript":document.queryCommandState("superscript")?"superscript":"normal","font-strikethrough":document.queryCommandState("strikethrough")?"strikethrough":"normal","font-family":document.queryCommandValue("fontname")||o["font-family"]})}catch(t){}if(t.isOnList()){var n=-1<["circle","disc","disc-leading-zero","square"].indexOf(o["list-style-type"]);o["list-style"]=n?"unordered":"ordered"}else o["list-style"]="none";var i=It.ancestor(t.sc,It.isPara);if(i&&i.style["line-height"])o["line-height"]=i.style.lineHeight;else{var r=parseInt(o["line-height"],10)/parseInt(o["font-size"],10);o["line-height"]=r.toFixed(1)}return o.anchor=t.isOnAnchor()&&It.ancestor(t.sc,It.isAnchor),o.ancestors=It.listAncestor(t.sc,It.isEditable),o.range=t,o},jt);function jt(){}var qt=(Ut.prototype.insertOrderedList=function(t){this.toggleList("OL",t)},Ut.prototype.insertUnorderedList=function(t){this.toggleList("UL",t)},Ut.prototype.indent=function(t){var i=this,e=Dt.create(t).wrapBodyInlineWithPara(),o=e.nodes(It.isPara,{includeAncestor:!0}),n=z.clusterBy(o,M.peq2("parentNode"));w.each(n,function(t,e){var o=z.head(e);if(It.isLi(o)){var n=i.findList(o.previousSibling);n?e.map(function(t){return n.appendChild(t)}):(i.wrapList(e,o.parentNode.nodeName),e.map(function(t){return t.parentNode}).map(function(t){return i.appendToPrevious(t)}))}else w.each(e,function(t,e){w(e).css("marginLeft",function(t,e){return(parseInt(e,10)||0)+25})})}),e.select()},Ut.prototype.outdent=function(t){var n=this,e=Dt.create(t).wrapBodyInlineWithPara(),o=e.nodes(It.isPara,{includeAncestor:!0}),i=z.clusterBy(o,M.peq2("parentNode"));w.each(i,function(t,e){var o=z.head(e);It.isLi(o)?n.releaseList([e]):w.each(e,function(t,e){w(e).css("marginLeft",function(t,e){return 25<(e=parseInt(e,10)||0)?e-25:""})})}),e.select()},Ut.prototype.toggleList=function(o,t){var n=this,e=Dt.create(t).wrapBodyInlineWithPara(),i=e.nodes(It.isPara,{includeAncestor:!0}),r=e.paraBookmark(i),a=z.clusterBy(i,M.peq2("parentNode"));if(z.find(i,It.isPurePara)){var s=[];w.each(a,function(t,e){s=s.concat(n.wrapList(e,o))}),i=s}else{var l=e.nodes(It.isList,{includeAncestor:!0}).filter(function(t){return!w.nodeName(t,o)});l.length?w.each(l,function(t,e){It.replace(e,o)}):i=this.releaseList(a,!0)}Dt.createFromParaBookmark(r,i).select()},Ut.prototype.wrapList=function(t,e){var o=z.head(t),n=z.last(t),i=It.isList(o.previousSibling)&&o.previousSibling,r=It.isList(n.nextSibling)&&n.nextSibling,a=i||It.insertAfter(It.create(e||"UL"),n);return t=t.map(function(t){return It.isPurePara(t)?It.replace(t,"LI"):t}),It.appendChildNodes(a,t),r&&(It.appendChildNodes(a,z.from(r.childNodes)),It.remove(r)),t},Ut.prototype.releaseList=function(t,c){var d=this,u=[];return w.each(t,function(t,e){var o=z.head(e),n=z.last(e),i=c?It.lastAncestor(o,It.isList):o.parentNode,r=i.parentNode;if("LI"===i.parentNode.nodeName)e.map(function(t){var e=d.findNextSiblings(t);r.nextSibling?r.parentNode.insertBefore(t,r.nextSibling):r.parentNode.appendChild(t),e.length&&(d.wrapList(e,i.nodeName),t.appendChild(e[0].parentNode))}),0===i.children.length&&r.removeChild(i),0===r.childNodes.length&&r.parentNode.removeChild(r);else{var a=1<i.childNodes.length?It.splitTree(i,{node:n.parentNode,offset:It.position(n)+1},{isSkipPaddingBlankHTML:!0}):null,s=It.splitTree(i,{node:o.parentNode,offset:It.position(o)},{isSkipPaddingBlankHTML:!0});e=c?It.listDescendant(s,It.isLi):z.from(s.childNodes).filter(It.isLi),!c&&It.isList(i.parentNode)||(e=e.map(function(t){return It.replace(t,"P")})),w.each(z.from(e).reverse(),function(t,e){It.insertAfter(e,i)});var l=z.compact([i,s,a]);w.each(l,function(t,e){var o=[e].concat(It.listDescendant(e,It.isList));w.each(o.reverse(),function(t,e){It.nodeLength(e)||It.remove(e,!0)})})}u=u.concat(e)}),u},Ut.prototype.appendToPrevious=function(t){return t.previousSibling?It.appendChildNodes(t.previousSibling,[t]):this.wrapList([t],"LI")},Ut.prototype.findList=function(t){return t?z.find(t.children,function(t){return-1<["OL","UL"].indexOf(t.nodeName)}):null},Ut.prototype.findNextSiblings=function(t){for(var e=[];t.nextSibling;)e.push(t.nextSibling),t=t.nextSibling;return e},Ut);function Ut(){}var Wt=(Vt.prototype.insertTab=function(t,e){var o=It.createText(new Array(e+1).join(It.NBSP_CHAR));(t=t.deleteContents()).insertNode(o,!0),(t=Dt.create(o,e)).select()},Vt.prototype.insertParagraph=function(t,e){e=(e=(e=e||Dt.create(t)).deleteContents()).wrapBodyInlineWithPara();var o,n=It.ancestor(e.sc,It.isPara);if(n){if(It.isEmpty(n)&&It.isLi(n))return void this.bullet.toggleList(n.parentNode.nodeName);var i=null;if(1===this.options.blockquoteBreakingLevel?i=It.ancestor(n,It.isBlockquote):2===this.options.blockquoteBreakingLevel&&(i=It.lastAncestor(n,It.isBlockquote)),i){o=w(It.emptyPara)[0],It.isRightEdgePoint(e.getStartPoint())&&It.isBR(e.sc.nextSibling)&&w(e.sc.nextSibling).remove();var r=It.splitTree(i,e.getStartPoint(),{isDiscardEmptySplits:!0});r?r.parentNode.insertBefore(o,r):It.insertAfter(o,i)}else{o=It.splitTree(n,e.getStartPoint());var a=It.listDescendant(n,It.isEmptyAnchor);a=a.concat(It.listDescendant(o,It.isEmptyAnchor)),w.each(a,function(t,e){It.remove(e)}),(It.isHeading(o)||It.isPre(o)||It.isCustomStyleTag(o))&&It.isEmpty(o)&&(o=It.replace(o,"p"))}}else{var s=e.sc.childNodes[e.so];o=w(It.emptyPara)[0],s?e.sc.insertBefore(o,s):e.sc.appendChild(o)}Dt.create(o,0).normalize().select().scrollIntoView(t)},Vt);function Vt(t){this.bullet=new qt,this.options=t.options}var Gt=function(t,h,p,i){var f={colPos:0,rowPos:0},m=[],g=[];function v(t,e,o,n,i,r,a){var s={baseRow:o,baseCell:n,isRowSpan:i,isColSpan:r,isVirtual:a};m[t]||(m[t]=[]),m[t][e]=s}function b(t,e){if(!m[t])return e;if(!m[t][e])return e;for(var o=e;m[t][o];)if(o++,!m[t][o])return o}function r(t,e){var o=b(t.rowIndex,e.cellIndex),n=1<e.colSpan,i=1<e.rowSpan,r=t.rowIndex===f.rowPos&&e.cellIndex===f.colPos;v(t.rowIndex,o,t,e,i,n,!1);var a=e.attributes.rowSpan?parseInt(e.attributes.rowSpan.value,10):0;if(1<a)for(var s=1;s<a;s++){var l=t.rowIndex+s;y(l,o,e,r),v(l,o,t,e,!0,n,!0)}var c=e.attributes.colSpan?parseInt(e.attributes.colSpan.value,10):0;if(1<c)for(var d=1;d<c;d++){var u=b(t.rowIndex,o+d);y(t.rowIndex,u,e,r),v(t.rowIndex,u,t,e,i,!0,!0)}}function y(t,e,o,n){t===f.rowPos&&f.colPos>=o.cellIndex&&o.cellIndex<=e&&!n&&f.colPos++}function x(t){switch(h){case Gt.where.Column:if(t.isColSpan)return Gt.resultAction.SubtractSpanCount;break;case Gt.where.Row:if(!t.isVirtual&&t.isRowSpan)return Gt.resultAction.AddCell;if(t.isRowSpan)return Gt.resultAction.SubtractSpanCount}return Gt.resultAction.RemoveCell}function w(t){switch(h){case Gt.where.Column:if(t.isColSpan)return Gt.resultAction.SumSpanCount;if(t.isRowSpan&&t.isVirtual)return Gt.resultAction.Ignore;break;case Gt.where.Row:if(t.isRowSpan)return Gt.resultAction.SumSpanCount;if(t.isColSpan&&t.isVirtual)return Gt.resultAction.Ignore}return Gt.resultAction.AddCell}this.getActionList=function(){for(var t,e,o,n=h===Gt.where.Row?f.rowPos:-1,i=h===Gt.where.Column?f.colPos:-1,r=0,a=!0;a;){var s=0<=n?n:r,l=0<=i?i:r,c=m[s];if(!c)return a=!1,g;var d=c[l];if(!d)return a=!1,g;var u=Gt.resultAction.Ignore;switch(p){case Gt.requestAction.Add:u=w(d);break;case Gt.requestAction.Delete:u=x(d)}g.push((t=u,e=s,o=l,{baseCell:d.baseCell,action:t,virtualTable:{rowIndex:e,cellIndex:o}})),r++}return g},t&&t.tagName&&("td"===t.tagName.toLowerCase()||"th"===t.tagName.toLowerCase())?(f.colPos=t.cellIndex,t.parentElement&&t.parentElement.tagName&&"tr"===t.parentElement.tagName.toLowerCase()?f.rowPos=t.parentElement.rowIndex:console.error("Impossible to identify start Row point.",t)):console.error("Impossible to identify start Cell point.",t),function(){for(var t=i.rows,e=0;e<t.length;e++)for(var o=t[e].cells,n=0;n<o.length;n++)r(t[e],o[n])}()};Gt.where={Row:0,Column:1},Gt.requestAction={Add:0,Delete:1},Gt.resultAction={Ignore:0,SubtractSpanCount:1,RemoveCell:2,AddCell:3,SumSpanCount:4};var Kt=(_t.prototype.tab=function(t,e){var o=It.ancestor(t.commonAncestor(),It.isCell),n=It.ancestor(o,It.isTable),i=It.listDescendant(n,It.isCell),r=z[e?"prev":"next"](i,o);r&&Dt.create(r,0).select()},_t.prototype.addRow=function(t,e){for(var o=It.ancestor(t.commonAncestor(),It.isCell),n=w(o).closest("tr"),i=this.recoverAttributes(n),r=w("<tr"+i+"></tr>"),a=new Gt(o,Gt.where.Row,Gt.requestAction.Add,w(n).closest("table")[0]).getActionList(),s=0;s<a.length;s++){var l=a[s],c=this.recoverAttributes(l.baseCell);switch(l.action){case Gt.resultAction.AddCell:r.append("<td"+c+">"+It.blank+"</td>");break;case Gt.resultAction.SumSpanCount:if("top"===e&&(l.baseCell.parent?l.baseCell.closest("tr").rowIndex:0)<=n[0].rowIndex){var d=w("<div></div>").append(w("<td"+c+">"+It.blank+"</td>").removeAttr("rowspan")).html();r.append(d);break}var u=parseInt(l.baseCell.rowSpan,10);u++,l.baseCell.setAttribute("rowSpan",u)}}if("top"===e)n.before(r);else{if(1<o.rowSpan){var h=n[0].rowIndex+(o.rowSpan-2);return void w(w(n).parent().find("tr")[h]).after(w(r))}n.after(r)}},_t.prototype.addCol=function(t,e){var o=It.ancestor(t.commonAncestor(),It.isCell),n=w(o).closest("tr");w(n).siblings().push(n);for(var i=new Gt(o,Gt.where.Column,Gt.requestAction.Add,w(n).closest("table")[0]).getActionList(),r=0;r<i.length;r++){var a=i[r],s=this.recoverAttributes(a.baseCell);switch(a.action){case Gt.resultAction.AddCell:"right"===e?w(a.baseCell).after("<td"+s+">"+It.blank+"</td>"):w(a.baseCell).before("<td"+s+">"+It.blank+"</td>");break;case Gt.resultAction.SumSpanCount:if("right"===e){var l=parseInt(a.baseCell.colSpan,10);l++,a.baseCell.setAttribute("colSpan",l)}else w(a.baseCell).before("<td"+s+">"+It.blank+"</td>")}}},_t.prototype.recoverAttributes=function(t){var e="";if(!t)return e;for(var o=t.attributes||[],n=0;n<o.length;n++)"id"!==o[n].name.toLowerCase()&&o[n].specified&&(e+=" "+o[n].name+"='"+o[n].value+"'");return e},_t.prototype.deleteRow=function(t){for(var e=It.ancestor(t.commonAncestor(),It.isCell),o=w(e).closest("tr"),n=o.children("td, th").index(w(e)),i=o[0].rowIndex,r=new Gt(e,Gt.where.Row,Gt.requestAction.Delete,w(o).closest("table")[0]).getActionList(),a=0;a<r.length;a++)if(r[a]){var s=r[a].baseCell,l=r[a].virtualTable,c=s.rowSpan&&1<s.rowSpan,d=c?parseInt(s.rowSpan,10):0;switch(r[a].action){case Gt.resultAction.Ignore:continue;case Gt.resultAction.AddCell:var u=o.next("tr")[0];if(!u)continue;var h=o[0].cells[n];c&&(2<d?(d--,u.insertBefore(h,u.cells[n]),u.cells[n].setAttribute("rowSpan",d),u.cells[n].innerHTML=""):2===d&&(u.insertBefore(h,u.cells[n]),u.cells[n].removeAttribute("rowSpan"),u.cells[n].innerHTML=""));continue;case Gt.resultAction.SubtractSpanCount:c&&(2<d?(d--,s.setAttribute("rowSpan",d),l.rowIndex!==i&&s.cellIndex===n&&(s.innerHTML="")):2===d&&(s.removeAttribute("rowSpan"),l.rowIndex!==i&&s.cellIndex===n&&(s.innerHTML="")));continue;case Gt.resultAction.RemoveCell:continue}}o.remove()},_t.prototype.deleteCol=function(t){for(var e=It.ancestor(t.commonAncestor(),It.isCell),o=w(e).closest("tr"),n=o.children("td, th").index(w(e)),i=new Gt(e,Gt.where.Column,Gt.requestAction.Delete,w(o).closest("table")[0]).getActionList(),r=0;r<i.length;r++)if(i[r])switch(i[r].action){case Gt.resultAction.Ignore:continue;case Gt.resultAction.SubtractSpanCount:var a=i[r].baseCell;if(a.colSpan&&1<a.colSpan){var s=a.colSpan?parseInt(a.colSpan,10):0;2<s?(s--,a.setAttribute("colSpan",s),a.cellIndex===n&&(a.innerHTML="")):2===s&&(a.removeAttribute("colSpan"),a.cellIndex===n&&(a.innerHTML=""))}continue;case Gt.resultAction.RemoveCell:It.remove(i[r].baseCell,!0);continue}},_t.prototype.createTable=function(t,e,o){for(var n,i=[],r=0;r<t;r++)i.push("<td>"+It.blank+"</td>");n=i.join("");for(var a,s=[],l=0;l<e;l++)s.push("<tr>"+n+"</tr>");a=s.join("");var c=w("<table>"+a+"</table>");return o&&o.tableClassName&&c.addClass(o.tableClassName),c[0]},_t.prototype.deleteTable=function(t){var e=It.ancestor(t.commonAncestor(),It.isCell);w(e).closest("table").remove()},_t);function _t(){}var Yt=(Xt.prototype.initialize=function(){var e=this;this.$editable.on("keydown",function(t){if(t.keyCode===Ht.code.ENTER&&e.context.triggerEvent("enter",t),e.context.triggerEvent("keydown",t),t.isDefaultPrevented()||(e.options.shortcuts?e.handleKeyMap(t):e.preventDefaultEditableShortCuts(t)),e.isLimited(1,t))return!1}).on("keyup",function(t){e.setLastRange(),e.context.triggerEvent("keyup",t)}).on("focus",function(t){e.setLastRange(),e.context.triggerEvent("focus",t)}).on("blur",function(t){e.context.triggerEvent("blur",t)}).on("mousedown",function(t){e.context.triggerEvent("mousedown",t)}).on("mouseup",function(t){e.setLastRange(),e.context.triggerEvent("mouseup",t)}).on("scroll",function(t){e.context.triggerEvent("scroll",t)}).on("paste",function(t){e.setLastRange(),e.context.triggerEvent("paste",t)}),this.$editable.attr("spellcheck",this.options.spellCheck),this.$editable.html(It.html(this.$note)||It.emptyPara),this.$editable.on(L.inputEventName,M.debounce(function(){e.context.triggerEvent("change",e.$editable.html(),e.$editable)},10)),this.$editor.on("focusin",function(t){e.context.triggerEvent("focusin",t)}).on("focusout",function(t){e.context.triggerEvent("focusout",t)}),this.options.airMode||(this.options.width&&this.$editor.outerWidth(this.options.width),this.options.height&&this.$editable.outerHeight(this.options.height),this.options.maxHeight&&this.$editable.css("max-height",this.options.maxHeight),this.options.minHeight&&this.$editable.css("min-height",this.options.minHeight)),this.history.recordUndo(),this.setLastRange()},Xt.prototype.destroy=function(){this.$editable.off()},Xt.prototype.handleKeyMap=function(t){var e=this.options.keyMap[L.isMac?"mac":"pc"],o=[];t.metaKey&&o.push("CMD"),t.ctrlKey&&!t.altKey&&o.push("CTRL"),t.shiftKey&&o.push("SHIFT");var n=Ht.nameFromCode[t.keyCode];n&&o.push(n);var i=e[o.join("+")];i?!1!==this.context.invoke(i)&&t.preventDefault():Ht.isEdit(t.keyCode)&&this.afterCommand()},Xt.prototype.preventDefaultEditableShortCuts=function(t){(t.ctrlKey||t.metaKey)&&z.contains([66,73,85],t.keyCode)&&t.preventDefault()},Xt.prototype.isLimited=function(t,e){return t=t||0,(void 0===e||!(Ht.isMove(e.keyCode)||e.ctrlKey||e.metaKey||z.contains([Ht.code.BACKSPACE,Ht.code.DELETE],e.keyCode)))&&0<this.options.maxTextLength&&this.$editable.text().length+t>=this.options.maxTextLength},Xt.prototype.createRange=function(){return this.focus(),this.setLastRange(),this.getLastRange()},Xt.prototype.setLastRange=function(){this.lastRange=Dt.create(this.editable)},Xt.prototype.getLastRange=function(){return this.lastRange||this.setLastRange(),this.lastRange},Xt.prototype.saveRange=function(t){t&&this.getLastRange().collapse().select()},Xt.prototype.restoreRange=function(){this.lastRange&&(this.lastRange.select(),this.focus())},Xt.prototype.saveTarget=function(t){this.$editable.data("target",t)},Xt.prototype.clearTarget=function(){this.$editable.removeData("target")},Xt.prototype.restoreTarget=function(){return this.$editable.data("target")},Xt.prototype.currentStyle=function(){var t=Dt.create();return(t=t&&t.normalize())?this.style.current(t):this.style.fromNode(this.$editable)},Xt.prototype.styleFromNode=function(t){return this.style.fromNode(t)},Xt.prototype.undo=function(){this.context.triggerEvent("before.command",this.$editable.html()),this.history.undo(),this.context.triggerEvent("change",this.$editable.html(),this.$editable)},Xt.prototype.commit=function(){this.context.triggerEvent("before.command",this.$editable.html()),this.history.commit(),this.context.triggerEvent("change",this.$editable.html(),this.$editable)},Xt.prototype.redo=function(){this.context.triggerEvent("before.command",this.$editable.html()),this.history.redo(),this.context.triggerEvent("change",this.$editable.html(),this.$editable)},Xt.prototype.beforeCommand=function(){this.context.triggerEvent("before.command",this.$editable.html()),this.focus()},Xt.prototype.afterCommand=function(t){this.normalizeContent(),this.history.recordUndo(),t||this.context.triggerEvent("change",this.$editable.html(),this.$editable)},Xt.prototype.tab=function(){var t=this.getLastRange();if(t.isCollapsed()&&t.isOnCell())this.table.tab(t);else{if(0===this.options.tabSize)return!1;this.isLimited(this.options.tabSize)||(this.beforeCommand(),this.typing.insertTab(t,this.options.tabSize),this.afterCommand())}},Xt.prototype.untab=function(){var t=this.getLastRange();if(t.isCollapsed()&&t.isOnCell())this.table.tab(t,!0);else if(0===this.options.tabSize)return!1},Xt.prototype.wrapCommand=function(t){return function(){this.beforeCommand(),t.apply(this,arguments),this.afterCommand()}},Xt.prototype.insertImage=function(t,e){var o=this;return function(o){return w.Deferred(function(t){var e=w("<img>");e.one("load",function(){e.off("error abort"),t.resolve(e)}).one("error abort",function(){e.off("load").detach(),t.reject(e)}).css({display:"none"}).appendTo(document.body).attr("src",o)}).promise()}(t).then(function(t){o.beforeCommand(),"function"==typeof e?e(t):("string"==typeof e&&t.attr("data-filename",e),t.css("width",Math.min(o.$editable.width(),t.width()))),t.show(),Dt.create(o.editable).insertNode(t[0]),Dt.createFromNodeAfter(t[0]).select(),o.setLastRange(),o.afterCommand()}).fail(function(t){o.context.triggerEvent("image.upload.error",t)})},Xt.prototype.insertImagesAsDataURL=function(t){var n=this;w.each(t,function(t,e){var o=e.name;n.options.maximumImageFileSize&&n.options.maximumImageFileSize<e.size?n.context.triggerEvent("image.upload.error",n.lang.image.maximumFileSizeError):function(t){return w.Deferred(function(o){w.extend(new FileReader,{onload:function(t){var e=t.target.result;o.resolve(e)},onerror:function(t){o.reject(t)}}).readAsDataURL(t)}).promise()}(e).then(function(t){return n.insertImage(t,o)}).fail(function(){n.context.triggerEvent("image.upload.error")})})},Xt.prototype.insertImagesOrCallback=function(t){this.options.callbacks.onImageUpload?this.context.triggerEvent("image.upload",t):this.insertImagesAsDataURL(t)},Xt.prototype.getSelectedText=function(){var t=this.getLastRange();return t.isOnAnchor()&&(t=Dt.createFromNode(It.ancestor(t.sc,It.isAnchor))),t.toString()},Xt.prototype.onFormatBlock=function(t,e){if(document.execCommand("FormatBlock",!1,L.isMSIE?"<"+t+">":t),e&&e.length&&(e[0].tagName.toUpperCase()!==t.toUpperCase()&&(e=e.find(t)),e&&e.length)){var o=e[0].className||"";if(o){var n=this.createRange();w([n.sc,n.ec]).closest(t).addClass(o)}}},Xt.prototype.formatPara=function(){this.formatBlock("P")},Xt.prototype.fontStyling=function(t,e){var o=this.getLastRange();if(o){var n=this.style.styleNodes(o);if(w(n).css(t,e),o.isCollapsed()){var i=z.head(n);i&&!It.nodeLength(i)&&(i.innerHTML=It.ZERO_WIDTH_NBSP_CHAR,Dt.createFromNodeAfter(i.firstChild).select(),this.setLastRange(),this.$editable.data("bogus",i))}}},Xt.prototype.unlink=function(){var t=this.getLastRange();if(t.isOnAnchor()){var e=It.ancestor(t.sc,It.isAnchor);(t=Dt.createFromNode(e)).select(),this.setLastRange(),this.beforeCommand(),document.execCommand("unlink"),this.afterCommand()}},Xt.prototype.getLinkInfo=function(){var t=this.getLastRange().expand(It.isAnchor),e=w(z.head(t.nodes(It.isAnchor))),o={range:t,text:t.toString(),url:e.length?e.attr("href"):""};return e.length&&(o.isNewWindow="_blank"===e.attr("target")),o},Xt.prototype.addRow=function(t){var e=this.getLastRange(this.$editable);e.isCollapsed()&&e.isOnCell()&&(this.beforeCommand(),this.table.addRow(e,t),this.afterCommand())},Xt.prototype.addCol=function(t){var e=this.getLastRange(this.$editable);e.isCollapsed()&&e.isOnCell()&&(this.beforeCommand(),this.table.addCol(e,t),this.afterCommand())},Xt.prototype.deleteRow=function(){var t=this.getLastRange(this.$editable);t.isCollapsed()&&t.isOnCell()&&(this.beforeCommand(),this.table.deleteRow(t),this.afterCommand())},Xt.prototype.deleteCol=function(){var t=this.getLastRange(this.$editable);t.isCollapsed()&&t.isOnCell()&&(this.beforeCommand(),this.table.deleteCol(t),this.afterCommand())},Xt.prototype.deleteTable=function(){var t=this.getLastRange(this.$editable);t.isCollapsed()&&t.isOnCell()&&(this.beforeCommand(),this.table.deleteTable(t),this.afterCommand())},Xt.prototype.resizeTo=function(t,e,o){var n;if(o){var i=t.y/t.x,r=e.data("ratio");n={width:i<r?t.x:t.y/r,height:i<r?t.x*r:t.y}}else n={width:t.x,height:t.y};e.css(n)},Xt.prototype.hasFocus=function(){return this.$editable.is(":focus")},Xt.prototype.focus=function(){this.hasFocus()||this.$editable.focus()},Xt.prototype.isEmpty=function(){return It.isEmpty(this.$editable[0])||It.emptyPara===this.$editable.html()},Xt.prototype.empty=function(){this.context.invoke("code",It.emptyPara)},Xt.prototype.normalizeContent=function(){this.$editable[0].normalize()},Xt);function Xt(t){var u=this;this.context=t,this.$note=t.layoutInfo.note,this.$editor=t.layoutInfo.editor,this.$editable=t.layoutInfo.editable,this.options=t.options,this.lang=this.options.langInfo,this.editable=this.$editable[0],this.lastRange=null,this.style=new Ot,this.table=new Kt,this.typing=new Wt(t),this.bullet=new qt,this.history=new zt(this.$editable),this.context.memo("help.undo",this.lang.help.undo),this.context.memo("help.redo",this.lang.help.redo),this.context.memo("help.tab",this.lang.help.tab),this.context.memo("help.untab",this.lang.help.untab),this.context.memo("help.insertParagraph",this.lang.help.insertParagraph),this.context.memo("help.insertOrderedList",this.lang.help.insertOrderedList),this.context.memo("help.insertUnorderedList",this.lang.help.insertUnorderedList),this.context.memo("help.indent",this.lang.help.indent),this.context.memo("help.outdent",this.lang.help.outdent),this.context.memo("help.formatPara",this.lang.help.formatPara),this.context.memo("help.insertHorizontalRule",this.lang.help.insertHorizontalRule),this.context.memo("help.fontName",this.lang.help.fontName);for(var e=["bold","italic","underline","strikethrough","superscript","subscript","justifyLeft","justifyCenter","justifyRight","justifyFull","formatBlock","removeFormat","backColor"],o=0,n=e.length;o<n;o++)this[e[o]]=function(e){return function(t){u.beforeCommand(),document.execCommand(e,!1,t),u.afterCommand(!0)}}(e[o]),this.context.memo("help."+e[o],this.lang.help[e[o]]);this.fontName=this.wrapCommand(function(t){return u.fontStyling("font-family","'"+t+"'")}),this.fontSize=this.wrapCommand(function(t){return u.fontStyling("font-size",t+"px")});for(o=1;o<=6;o++)this["formatH"+o]=function(t){return function(){u.formatBlock("H"+t)}}(o),this.context.memo("help.formatH"+o,this.lang.help["formatH"+o]);this.insertParagraph=this.wrapCommand(function(){u.typing.insertParagraph(u.editable)}),this.insertOrderedList=this.wrapCommand(function(){u.bullet.insertOrderedList(u.editable)}),this.insertUnorderedList=this.wrapCommand(function(){u.bullet.insertUnorderedList(u.editable)}),this.indent=this.wrapCommand(function(){u.bullet.indent(u.editable)}),this.outdent=this.wrapCommand(function(){u.bullet.outdent(u.editable)}),this.insertNode=this.wrapCommand(function(t){u.isLimited(w(t).text().length)||(u.getLastRange().insertNode(t),Dt.createFromNodeAfter(t).select(),u.setLastRange())}),this.insertText=this.wrapCommand(function(t){if(!u.isLimited(t.length)){var e=u.getLastRange().insertNode(It.createText(t));Dt.create(e,It.nodeLength(e)).select(),u.setLastRange()}}),this.pasteHTML=this.wrapCommand(function(t){if(!u.isLimited(t.length)){t=u.context.invoke("codeview.purify",t);var e=u.getLastRange().pasteHTML(t);Dt.createFromNodeAfter(z.last(e)).select(),u.setLastRange()}}),this.formatBlock=this.wrapCommand(function(t,e){var o=u.options.callbacks.onApplyCustomStyle;o?o.call(u,e,u.context,u.onFormatBlock):u.onFormatBlock(t,e)}),this.insertHorizontalRule=this.wrapCommand(function(){var t=u.getLastRange().insertNode(It.create("HR"));t.nextSibling&&(Dt.create(t.nextSibling,0).normalize().select(),u.setLastRange())}),this.lineHeight=this.wrapCommand(function(t){u.style.stylePara(u.getLastRange(),{lineHeight:t})}),this.createLink=this.wrapCommand(function(t){var o=t.url,e=t.text,n=t.isNewWindow,i=t.range||u.getLastRange(),r=e.length-i.toString().length;if(!(0<r&&u.isLimited(r))){var a=i.toString()!==e;"string"==typeof o&&(o=o.trim()),o=u.options.onCreateLink?u.options.onCreateLink(o):/^([A-Za-z][A-Za-z0-9+-.]*\:|#|\/)/.test(o)?o:"http://"+o;var s=[];if(a){var l=(i=i.deleteContents()).insertNode(w("<A>"+e+"</A>")[0]);s.push(l)}else s=u.style.styleNodes(i,{nodeName:"A",expandClosestSibling:!0,onlyPartialContains:!0});w.each(s,function(t,e){w(e).attr("href",o),n?w(e).attr("target","_blank"):w(e).removeAttr("target")});var c=Dt.createFromNodeBefore(z.head(s)).getStartPoint(),d=Dt.createFromNodeAfter(z.last(s)).getEndPoint();Dt.create(c.node,c.offset,d.node,d.offset).select(),u.setLastRange()}}),this.color=this.wrapCommand(function(t){var e=t.foreColor,o=t.backColor;e&&document.execCommand("foreColor",!1,e),o&&document.execCommand("backColor",!1,o)}),this.foreColor=this.wrapCommand(function(t){document.execCommand("styleWithCSS",!1,!0),document.execCommand("foreColor",!1,t)}),this.insertTable=this.wrapCommand(function(t){var e=t.split("x");u.getLastRange().deleteContents().insertNode(u.table.createTable(e[0],e[1],u.options))}),this.removeMedia=this.wrapCommand(function(){var t=w(u.restoreTarget()).parent();t.parent("figure").length?t.parent("figure").remove():t=w(u.restoreTarget()).detach(),u.context.triggerEvent("media.delete",t,u.$editable)}),this.floatMe=this.wrapCommand(function(t){var e=w(u.restoreTarget());e.toggleClass("note-float-left","left"===t),e.toggleClass("note-float-right","right"===t),e.css("float","none"===t?"":t)}),this.resize=this.wrapCommand(function(t){var e=w(u.restoreTarget());0===(t=parseFloat(t))?e.css("width",""):e.css({width:100*t+"%",height:""})})}var Zt=(Qt.prototype.initialize=function(){this.$editable.on("paste",this.pasteByEvent.bind(this))},Qt.prototype.pasteByEvent=function(t){var e=t.originalEvent.clipboardData;if(e&&e.items&&e.items.length){var o=1<e.items.length?e.items[1]:z.head(e.items);"file"===o.kind&&-1!==o.type.indexOf("image/")&&this.context.invoke("editor.insertImagesOrCallback",[o.getAsFile()]),this.context.invoke("editor.afterCommand")}},Qt);function Qt(t){this.context=t,this.$editable=t.layoutInfo.editable}var Jt,te=(ee.prototype.initialize=function(){this.options.disableDragAndDrop?(this.documentEventHandlers.onDrop=function(t){t.preventDefault()},this.$eventListener=this.$dropzone,this.$eventListener.on("drop",this.documentEventHandlers.onDrop)):this.attachDragAndDropEvent()},ee.prototype.attachDragAndDropEvent=function(){var i=this,n=w(),r=this.$dropzone.find(".note-dropzone-message");this.documentEventHandlers.onDragenter=function(t){var e=i.context.invoke("codeview.isActivated"),o=0<i.$editor.width()&&0<i.$editor.height();e||n.length||!o||(i.$editor.addClass("dragover"),i.$dropzone.width(i.$editor.width()),i.$dropzone.height(i.$editor.height()),r.text(i.lang.image.dragImageHere)),n=n.add(t.target)},this.documentEventHandlers.onDragleave=function(t){(n=n.not(t.target)).length||i.$editor.removeClass("dragover")},this.documentEventHandlers.onDrop=function(){n=w(),i.$editor.removeClass("dragover")},this.$eventListener.on("dragenter",this.documentEventHandlers.onDragenter).on("dragleave",this.documentEventHandlers.onDragleave).on("drop",this.documentEventHandlers.onDrop),this.$dropzone.on("dragenter",function(){i.$dropzone.addClass("hover"),r.text(i.lang.image.dropImage)}).on("dragleave",function(){i.$dropzone.removeClass("hover"),r.text(i.lang.image.dragImageHere)}),this.$dropzone.on("drop",function(t){var n=t.originalEvent.dataTransfer;t.preventDefault(),n&&n.files&&n.files.length?(i.$editable.focus(),i.context.invoke("editor.insertImagesOrCallback",n.files)):w.each(n.types,function(t,e){var o=n.getData(e);-1<e.toLowerCase().indexOf("text")?i.context.invoke("editor.pasteHTML",o):w(o).each(function(t,e){i.context.invoke("editor.insertNode",e)})})}).on("dragover",!1)},ee.prototype.destroy=function(){var e=this;Object.keys(this.documentEventHandlers).forEach(function(t){e.$eventListener.off(t.substr(2).toLowerCase(),e.documentEventHandlers[t])}),this.documentEventHandlers={}},ee);function ee(t){this.context=t,this.$eventListener=w(document),this.$editor=t.layoutInfo.editor,this.$editable=t.layoutInfo.editable,this.options=t.options,this.lang=this.options.langInfo,this.documentEventHandlers={},this.$dropzone=w(['<div class="note-dropzone">','  <div class="note-dropzone-message"/>',"</div>"].join("")).prependTo(this.$editor)}L.hasCodeMirror&&(Jt=window.CodeMirror);var oe=(ne.prototype.sync=function(){this.isActivated()&&L.hasCodeMirror&&this.$codable.data("cmEditor").save()},ne.prototype.isActivated=function(){return this.$editor.hasClass("codeview")},ne.prototype.toggle=function(){this.isActivated()?this.deactivate():this.activate(),this.context.triggerEvent("codeview.toggled")},ne.prototype.purify=function(t){if(this.options.codeviewFilter&&(t=t.replace(this.options.codeviewFilterRegex,""),this.options.codeviewIframeFilter)){var i=this.options.codeviewIframeWhitelistSrc.concat(this.options.codeviewIframeWhitelistSrcBase);t=t.replace(/(<iframe.*?>.*?(?:<\/iframe>)?)/gi,function(t){if(/<.+src(?==?('|"|\s)?)[\s\S]+src(?=('|"|\s)?)[^>]*?>/i.test(t))return"";for(var e=0,o=i;e<o.length;e++){var n=o[e];if(new RegExp('src="(https?:)?//'+n.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")+'/(.+)"').test(t))return t}return""})}return t},ne.prototype.activate=function(){var e=this;if(this.$codable.val(It.html(this.$editable,this.options.prettifyHtml)),this.$codable.height(this.$editable.height()),this.context.invoke("toolbar.updateCodeview",!0),this.$editor.addClass("codeview"),this.$codable.focus(),L.hasCodeMirror){var o=Jt.fromTextArea(this.$codable[0],this.options.codemirror);if(this.options.codemirror.tern){var n=new Jt.TernServer(this.options.codemirror.tern);o.ternServer=n,o.on("cursorActivity",function(t){n.updateArgHints(t)})}o.on("blur",function(t){e.context.triggerEvent("blur.codeview",o.getValue(),t)}),o.on("change",function(t){e.context.triggerEvent("change.codeview",o.getValue(),o)}),o.setSize(null,this.$editable.outerHeight()),this.$codable.data("cmEditor",o)}else this.$codable.on("blur",function(t){e.context.triggerEvent("blur.codeview",e.$codable.val(),t)}),this.$codable.on("input",function(t){e.context.triggerEvent("change.codeview",e.$codable.val(),e.$codable)})},ne.prototype.deactivate=function(){if(L.hasCodeMirror){var t=this.$codable.data("cmEditor");this.$codable.val(t.getValue()),t.toTextArea()}var e=this.purify(It.value(this.$codable,this.options.prettifyHtml)||It.emptyPara),o=this.$editable.html()!==e;this.$editable.html(e),this.$editable.height(this.options.height?this.$codable.height():"auto"),this.$editor.removeClass("codeview"),o&&this.context.triggerEvent("change",this.$editable.html(),this.$editable),this.$editable.focus(),this.context.invoke("toolbar.updateCodeview",!1)},ne.prototype.destroy=function(){this.isActivated()&&this.deactivate()},ne);function ne(t){this.context=t,this.$editor=t.layoutInfo.editor,this.$editable=t.layoutInfo.editable,this.$codable=t.layoutInfo.codable,this.options=t.options}var ie=(re.prototype.initialize=function(){var n=this;this.options.airMode||this.options.disableResizeEditor?this.destroy():this.$statusbar.on("mousedown",function(t){function e(t){var e=t.clientY-(24+o);e=0<n.options.minheight?Math.max(e,n.options.minheight):e,e=0<n.options.maxHeight?Math.min(e,n.options.maxHeight):e,n.$editable.height(e)}t.preventDefault(),t.stopPropagation();var o=n.$editable.offset().top-n.$document.scrollTop();n.$document.on("mousemove",e).one("mouseup",function(){n.$document.off("mousemove",e)})})},re.prototype.destroy=function(){this.$statusbar.off(),this.$statusbar.addClass("locked")},re);function re(t){this.$document=w(document),this.$statusbar=t.layoutInfo.statusbar,this.$editable=t.layoutInfo.editable,this.options=t.options}var ae=(se.prototype.resizeTo=function(t){this.$editable.css("height",t.h),this.$codable.css("height",t.h),this.$codable.data("cmeditor")&&this.$codable.data("cmeditor").setsize(null,t.h)},se.prototype.toggle=function(){this.$editor.toggleClass("fullscreen"),this.isFullscreen()?(this.$editable.data("orgHeight",this.$editable.css("height")),this.$editable.data("orgMaxHeight",this.$editable.css("maxHeight")),this.$editable.css("maxHeight",""),this.$window.on("resize",this.onResize).trigger("resize"),this.$scrollbar.css("overflow","hidden")):(this.$window.off("resize",this.onResize),this.resizeTo({h:this.$editable.data("orgHeight")}),this.$editable.css("maxHeight",this.$editable.css("orgMaxHeight")),this.$scrollbar.css("overflow","visible")),this.context.invoke("toolbar.updateFullscreen",this.isFullscreen())},se.prototype.isFullscreen=function(){return this.$editor.hasClass("fullscreen")},se);function se(t){var e=this;this.context=t,this.$editor=t.layoutInfo.editor,this.$toolbar=t.layoutInfo.toolbar,this.$editable=t.layoutInfo.editable,this.$codable=t.layoutInfo.codable,this.$window=w(window),this.$scrollbar=w("html, body"),this.onResize=function(){e.resizeTo({h:e.$window.height()-e.$toolbar.outerHeight()})}}var le=(ce.prototype.initialize=function(){var r=this;this.$handle=w(['<div class="note-handle">','<div class="note-control-selection">','<div class="note-control-selection-bg"></div>','<div class="note-control-holder note-control-nw"></div>','<div class="note-control-holder note-control-ne"></div>','<div class="note-control-holder note-control-sw"></div>','<div class="',this.options.disableResizeImage?"note-control-holder":"note-control-sizing",' note-control-se"></div>',this.options.disableResizeImage?"":'<div class="note-control-selection-info"></div>',"</div>","</div>"].join("")).prependTo(this.$editingArea),this.$handle.on("mousedown",function(t){if(It.isControlSizing(t.target)){t.preventDefault(),t.stopPropagation();var e=r.$handle.find(".note-control-selection").data("target"),o=e.offset(),n=r.$document.scrollTop(),i=function(t){r.context.invoke("editor.resizeTo",{x:t.clientX-o.left,y:t.clientY-(o.top-n)},e,!t.shiftKey),r.update(e[0])};r.$document.on("mousemove",i).one("mouseup",function(t){t.preventDefault(),r.$document.off("mousemove",i),r.context.invoke("editor.afterCommand")}),e.data("ratio")||e.data("ratio",e.height()/e.width())}}),this.$handle.on("wheel",function(t){t.preventDefault(),r.update()})},ce.prototype.destroy=function(){this.$handle.remove()},ce.prototype.update=function(t,e){if(this.context.isDisabled())return!1;var o=It.isImg(t),n=this.$handle.find(".note-control-selection");if(this.context.invoke("imagePopover.update",t,e),o){var i=w(t),r=i.position(),a={left:r.left+parseInt(i.css("marginLeft"),10),top:r.top+parseInt(i.css("marginTop"),10)},s={w:i.outerWidth(!1),h:i.outerHeight(!1)};n.css({display:"block",left:a.left,top:a.top,width:s.w,height:s.h}).data("target",i);var l=new Image;l.src=i.attr("src");var c=s.w+"x"+s.h+" ("+this.lang.image.original+": "+l.width+"x"+l.height+")";n.find(".note-control-selection-info").text(c),this.context.invoke("editor.saveTarget",t)}else this.hide();return o},ce.prototype.hide=function(){this.context.invoke("editor.clearTarget"),this.$handle.children().hide()},ce);function ce(t){var o=this;this.context=t,this.$document=w(document),this.$editingArea=t.layoutInfo.editingArea,this.options=t.options,this.lang=this.options.langInfo,this.events={"summernote.mousedown":function(t,e){o.update(e.target,e)&&e.preventDefault()},"summernote.keyup summernote.scroll summernote.change summernote.dialog.shown":function(){o.update()},"summernote.disable":function(){o.hide()},"summernote.codeview.toggled":function(){o.update()}}}var de=/^([A-Za-z][A-Za-z0-9+-.]*\:[\/]{2}|mailto:[A-Z0-9._%+-]+@)?(www\.)?(.+)$/i,ue=(he.prototype.initialize=function(){this.lastWordRange=null},he.prototype.destroy=function(){this.lastWordRange=null},he.prototype.replace=function(){if(this.lastWordRange){var t=this.lastWordRange.toString(),e=t.match(de);if(e&&(e[1]||e[2])){var o=e[1]?t:"http://"+t,n=w("<a />").html(t).attr("href",o)[0];this.context.options.linkTargetBlank&&w(n).attr("target","_blank"),this.lastWordRange.insertNode(n),this.lastWordRange=null,this.context.invoke("editor.focus")}}},he.prototype.handleKeydown=function(t){if(z.contains([Ht.code.ENTER,Ht.code.SPACE],t.keyCode)){var e=this.context.invoke("editor.createRange").getWordRange();this.lastWordRange=e}},he.prototype.handleKeyup=function(t){z.contains([Ht.code.ENTER,Ht.code.SPACE],t.keyCode)&&this.replace()},he);function he(t){var o=this;this.context=t,this.events={"summernote.keyup":function(t,e){e.isDefaultPrevented()||o.handleKeyup(e)},"summernote.keydown":function(t,e){o.handleKeydown(e)}}}var pe=(fe.prototype.shouldInitialize=function(){return It.isTextarea(this.$note[0])},fe);function fe(t){var e=this;this.$note=t.layoutInfo.note,this.events={"summernote.change":function(){e.$note.val(t.invoke("code"))}}}var me=(ge.prototype.shouldInitialize=function(){return!!this.options.match},ge.prototype.initialize=function(){this.lastWord=null},ge.prototype.destroy=function(){this.lastWord=null},ge.prototype.replace=function(){if(this.lastWord){var o=this,t=this.lastWord.toString();this.options.match(t,function(t){if(t){var e="";if("string"==typeof t?e=It.createText(t):t instanceof jQuery?e=t[0]:t instanceof Node&&(e=t),!e)return;o.lastWord.insertNode(e),o.lastWord=null,o.context.invoke("editor.focus")}})}},ge.prototype.handleKeydown=function(t){if(this.previousKeydownCode&&z.contains(this.keys,this.previousKeydownCode))this.previousKeydownCode=t.keyCode;else{if(z.contains(this.keys,t.keyCode)){var e=this.context.invoke("editor.createRange").getWordRange();this.lastWord=e}this.previousKeydownCode=t.keyCode}},ge.prototype.handleKeyup=function(t){z.contains(this.keys,t.keyCode)&&this.replace()},ge);function ge(t){var o=this;this.context=t,this.options=t.options.replace||{},this.keys=[Ht.code.ENTER,Ht.code.SPACE,Ht.code.PERIOD,Ht.code.COMMA,Ht.code.SEMICOLON,Ht.code.SLASH],this.previousKeydownCode=null,this.events={"summernote.keyup":function(t,e){e.isDefaultPrevented()||o.handleKeyup(e)},"summernote.keydown":function(t,e){o.handleKeydown(e)}}}var ve=(be.prototype.shouldInitialize=function(){return!!this.options.placeholder},be.prototype.initialize=function(){var t=this;this.$placeholder=w('<div class="note-placeholder">'),this.$placeholder.on("click",function(){t.context.invoke("focus")}).html(this.options.placeholder).prependTo(this.$editingArea),this.update()},be.prototype.destroy=function(){this.$placeholder.remove()},be.prototype.update=function(){var t=!this.context.invoke("codeview.isActivated")&&this.context.invoke("editor.isEmpty");this.$placeholder.toggle(t)},be);function be(t){var e=this;this.context=t,this.$editingArea=t.layoutInfo.editingArea,this.options=t.options,this.events={"summernote.init summernote.change":function(){e.update()},"summernote.codeview.toggled":function(){e.update()}}}var ye=(xe.prototype.representShortcut=function(t){var e=this.invertedKeyMap[t];return this.options.shortcuts&&e?(L.isMac&&(e=e.replace("CMD","â").replace("SHIFT","â§"))," ("+(e=e.replace("BACKSLASH","\\").replace("SLASH","/").replace("LEFTBRACKET","[").replace("RIGHTBRACKET","]"))+")"):""},xe.prototype.button=function(t){return!this.options.tooltip&&t.tooltip&&delete t.tooltip,t.container=this.options.container,this.ui.button(t)},xe.prototype.initialize=function(){this.addToolbarButtons(),this.addImagePopoverButtons(),this.addLinkPopoverButtons(),this.addTablePopoverButtons(),this.fontInstalledMap={}},xe.prototype.destroy=function(){delete this.fontInstalledMap},xe.prototype.isFontInstalled=function(t){return this.fontInstalledMap.hasOwnProperty(t)||(this.fontInstalledMap[t]=L.isFontInstalled(t)||z.contains(this.options.fontNamesIgnoreCheck,t)),this.fontInstalledMap[t]},xe.prototype.isFontDeservedToAdd=function(t){return""!==(t=t.toLowerCase())&&this.isFontInstalled(t)&&-1===["sans-serif","serif","monospace","cursive","fantasy"].indexOf(t)},xe.prototype.colorPalette=function(h,t,o,n){var p=this;return this.ui.buttonGroup({className:"note-color "+h,children:[this.button({className:"note-current-color-button",contents:this.ui.icon(this.options.icons.font+" note-recent-color"),tooltip:t,click:function(t){var e=w(t.currentTarget);o&&n?p.context.invoke("editor.color",{backColor:e.attr("data-backColor"),foreColor:e.attr("data-foreColor")}):o?p.context.invoke("editor.color",{backColor:e.attr("data-backColor")}):n&&p.context.invoke("editor.color",{foreColor:e.attr("data-foreColor")})},callback:function(t){var e=t.find(".note-recent-color");o&&(e.css("background-color",p.options.colorButton.backColor),t.attr("data-backColor",p.options.colorButton.backColor)),n?(e.css("color",p.options.colorButton.foreColor),t.attr("data-foreColor",p.options.colorButton.foreColor)):e.css("color","transparent")}}),this.button({className:"dropdown-toggle",contents:this.ui.dropdownButtonContents("",this.options),tooltip:this.lang.color.more,data:{toggle:"dropdown"}}),this.ui.dropdown({items:(o?['<div class="note-palette">','  <div class="note-palette-title">'+this.lang.color.background+"</div>","  <div>",'    <button type="button" class="note-color-reset btn btn-light" data-event="backColor" data-value="inherit">',this.lang.color.transparent,"    </button>","  </div>",'  <div class="note-holder" data-event="backColor"/>',"  <div>",'    <button type="button" class="note-color-select btn" data-event="openPalette" data-value="backColorPicker">',this.lang.color.cpSelect,"    </button>",'    <input type="color" id="backColorPicker" class="note-btn note-color-select-btn" value="'+this.options.colorButton.backColor+'" data-event="backColorPalette">',"  </div>",'  <div class="note-holder-custom" id="backColorPalette" data-event="backColor"/>',"</div>"].join(""):"")+(n?['<div class="note-palette">','  <div class="note-palette-title">'+this.lang.color.foreground+"</div>","  <div>",'    <button type="button" class="note-color-reset btn btn-light" data-event="removeFormat" data-value="foreColor">',this.lang.color.resetToDefault,"    </button>","  </div>",'  <div class="note-holder" data-event="foreColor"/>',"  <div>",'    <button type="button" class="note-color-select btn" data-event="openPalette" data-value="foreColorPicker">',this.lang.color.cpSelect,"    </button>",'    <input type="color" id="foreColorPicker" class="note-btn note-color-select-btn" value="'+this.options.colorButton.foreColor+'" data-event="foreColorPalette">','  <div class="note-holder-custom" id="foreColorPalette" data-event="foreColor"/>',"</div>"].join(""):""),callback:function(o){o.find(".note-holder").each(function(t,e){var o=w(e);o.append(p.ui.palette({colors:p.options.colors,colorsName:p.options.colorsName,eventName:o.data("event"),container:p.options.container,tooltip:p.options.tooltip}).render())});var n=[["#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF"]];o.find(".note-holder-custom").each(function(t,e){var o=w(e);o.append(p.ui.palette({colors:n,colorsName:n,eventName:o.data("event"),container:p.options.container,tooltip:p.options.tooltip}).render())}),o.find("input[type=color]").each(function(t,e){w(e).change(function(){var t=o.find("#"+w(this).data("event")).find(".note-color-btn").first(),e=this.value.toUpperCase();t.css("background-color",e).attr("aria-label",e).attr("data-value",e).attr("data-original-title",e),t.click()})})},click:function(t){t.stopPropagation();var e=w("."+h),o=w(t.target),n=o.data("event"),i=o.attr("data-value");if("openPalette"===n){var r=e.find("#"+i),a=w(e.find("#"+r.data("event")).find(".note-color-row")[0]),s=a.find(".note-color-btn").last().detach(),l=r.val();s.css("background-color",l).attr("aria-label",l).attr("data-value",l).attr("data-original-title",l),a.prepend(s),r.click()}else if(z.contains(["backColor","foreColor"],n)){var c="backColor"===n?"background-color":"color",d=o.closest(".note-color").find(".note-recent-color"),u=o.closest(".note-color").find(".note-current-color-button");d.css(c,i),u.attr("data-"+n,i),p.context.invoke("editor."+n,i)}}})]}).render()},xe.prototype.addToolbarButtons=function(){var n=this;this.context.memo("button.style",function(){return n.ui.buttonGroup([n.button({className:"dropdown-toggle",contents:n.ui.dropdownButtonContents(n.ui.icon(n.options.icons.magic),n.options),tooltip:n.lang.style.style,data:{toggle:"dropdown"}}),n.ui.dropdown({className:"dropdown-style",items:n.options.styleTags,title:n.lang.style.style,template:function(t){"string"==typeof t&&(t={tag:t,title:n.lang.style.hasOwnProperty(t)?n.lang.style[t]:t});var e=t.tag,o=t.title;return"<"+e+(t.style?' style="'+t.style+'" ':"")+(t.className?' class="'+t.className+'"':"")+">"+o+"</"+e+">"},click:n.context.createInvokeHandler("editor.formatBlock")})]).render()});for(var t=function(t,e){var o=i.options.styleTags[t];i.context.memo("button.style."+o,function(){return n.button({className:"note-btn-style-"+o,contents:'<div data-value="'+o+'">'+o.toUpperCase()+"</div>",tooltip:n.lang.style[o],click:n.context.createInvokeHandler("editor.formatBlock")}).render()})},i=this,e=0,o=this.options.styleTags.length;e<o;e++)t(e);this.context.memo("button.bold",function(){return n.button({className:"note-btn-bold",contents:n.ui.icon(n.options.icons.bold),tooltip:n.lang.font.bold+n.representShortcut("bold"),click:n.context.createInvokeHandlerAndUpdateState("editor.bold")}).render()}),this.context.memo("button.italic",function(){return n.button({className:"note-btn-italic",contents:n.ui.icon(n.options.icons.italic),tooltip:n.lang.font.italic+n.representShortcut("italic"),click:n.context.createInvokeHandlerAndUpdateState("editor.italic")}).render()}),this.context.memo("button.underline",function(){return n.button({className:"note-btn-underline",contents:n.ui.icon(n.options.icons.underline),tooltip:n.lang.font.underline+n.representShortcut("underline"),click:n.context.createInvokeHandlerAndUpdateState("editor.underline")}).render()}),this.context.memo("button.clear",function(){return n.button({contents:n.ui.icon(n.options.icons.eraser),tooltip:n.lang.font.clear+n.representShortcut("removeFormat"),click:n.context.createInvokeHandler("editor.removeFormat")}).render()}),this.context.memo("button.strikethrough",function(){return n.button({className:"note-btn-strikethrough",contents:n.ui.icon(n.options.icons.strikethrough),tooltip:n.lang.font.strikethrough+n.representShortcut("strikethrough"),click:n.context.createInvokeHandlerAndUpdateState("editor.strikethrough")}).render()}),this.context.memo("button.superscript",function(){return n.button({className:"note-btn-superscript",contents:n.ui.icon(n.options.icons.superscript),tooltip:n.lang.font.superscript,click:n.context.createInvokeHandlerAndUpdateState("editor.superscript")}).render()}),this.context.memo("button.subscript",function(){return n.button({className:"note-btn-subscript",contents:n.ui.icon(n.options.icons.subscript),tooltip:n.lang.font.subscript,click:n.context.createInvokeHandlerAndUpdateState("editor.subscript")}).render()}),this.context.memo("button.fontname",function(){var t=n.context.invoke("editor.currentStyle");return w.each(t["font-family"].split(","),function(t,e){e=e.trim().replace(/['"]+/g,""),n.isFontDeservedToAdd(e)&&-1===n.options.fontNames.indexOf(e)&&n.options.fontNames.push(e)}),n.ui.buttonGroup([n.button({className:"dropdown-toggle",contents:n.ui.dropdownButtonContents('<span class="note-current-fontname"/>',n.options),tooltip:n.lang.font.name,data:{toggle:"dropdown"}}),n.ui.dropdownCheck({className:"dropdown-fontname",checkClassName:n.options.icons.menuCheck,items:n.options.fontNames.filter(n.isFontInstalled.bind(n)),title:n.lang.font.name,template:function(t){return"<span style=\"font-family: '"+t+"'\">"+t+"</span>"},click:n.context.createInvokeHandlerAndUpdateState("editor.fontName")})]).render()}),this.context.memo("button.fontsize",function(){return n.ui.buttonGroup([n.button({className:"dropdown-toggle",contents:n.ui.dropdownButtonContents('<span class="note-current-fontsize"/>',n.options),tooltip:n.lang.font.size,data:{toggle:"dropdown"}}),n.ui.dropdownCheck({className:"dropdown-fontsize",checkClassName:n.options.icons.menuCheck,items:n.options.fontSizes,title:n.lang.font.size,click:n.context.createInvokeHandlerAndUpdateState("editor.fontSize")})]).render()}),this.context.memo("button.color",function(){return n.colorPalette("note-color-all",n.lang.color.recent,!0,!0)}),this.context.memo("button.forecolor",function(){return n.colorPalette("note-color-fore",n.lang.color.foreground,!1,!0)}),this.context.memo("button.backcolor",function(){return n.colorPalette("note-color-back",n.lang.color.background,!0,!1)}),this.context.memo("button.ul",function(){return n.button({contents:n.ui.icon(n.options.icons.unorderedlist),tooltip:n.lang.lists.unordered+n.representShortcut("insertUnorderedList"),click:n.context.createInvokeHandler("editor.insertUnorderedList")}).render()}),this.context.memo("button.ol",function(){return n.button({contents:n.ui.icon(n.options.icons.orderedlist),tooltip:n.lang.lists.ordered+n.representShortcut("insertOrderedList"),click:n.context.createInvokeHandler("editor.insertOrderedList")}).render()});var r=this.button({contents:this.ui.icon(this.options.icons.alignLeft),tooltip:this.lang.paragraph.left+this.representShortcut("justifyLeft"),click:this.context.createInvokeHandler("editor.justifyLeft")}),a=this.button({contents:this.ui.icon(this.options.icons.alignCenter),tooltip:this.lang.paragraph.center+this.representShortcut("justifyCenter"),click:this.context.createInvokeHandler("editor.justifyCenter")}),s=this.button({contents:this.ui.icon(this.options.icons.alignRight),tooltip:this.lang.paragraph.right+this.representShortcut("justifyRight"),click:this.context.createInvokeHandler("editor.justifyRight")}),l=this.button({contents:this.ui.icon(this.options.icons.alignJustify),tooltip:this.lang.paragraph.justify+this.representShortcut("justifyFull"),click:this.context.createInvokeHandler("editor.justifyFull")}),c=this.button({contents:this.ui.icon(this.options.icons.outdent),tooltip:this.lang.paragraph.outdent+this.representShortcut("outdent"),click:this.context.createInvokeHandler("editor.outdent")}),d=this.button({contents:this.ui.icon(this.options.icons.indent),tooltip:this.lang.paragraph.indent+this.representShortcut("indent"),click:this.context.createInvokeHandler("editor.indent")});this.context.memo("button.justifyLeft",M.invoke(r,"render")),this.context.memo("button.justifyCenter",M.invoke(a,"render")),this.context.memo("button.justifyRight",M.invoke(s,"render")),this.context.memo("button.justifyFull",M.invoke(l,"render")),this.context.memo("button.outdent",M.invoke(c,"render")),this.context.memo("button.indent",M.invoke(d,"render")),this.context.memo("button.paragraph",function(){return n.ui.buttonGroup([n.button({className:"dropdown-toggle",contents:n.ui.dropdownButtonContents(n.ui.icon(n.options.icons.alignLeft),n.options),tooltip:n.lang.paragraph.paragraph,data:{toggle:"dropdown"}}),n.ui.dropdown([n.ui.buttonGroup({className:"note-align",children:[r,a,s,l]}),n.ui.buttonGroup({className:"note-list",children:[c,d]})])]).render()}),this.context.memo("button.height",function(){return n.ui.buttonGroup([n.button({className:"dropdown-toggle",contents:n.ui.dropdownButtonContents(n.ui.icon(n.options.icons.textHeight),n.options),tooltip:n.lang.font.height,data:{toggle:"dropdown"}}),n.ui.dropdownCheck({items:n.options.lineHeights,checkClassName:n.options.icons.menuCheck,className:"dropdown-line-height",title:n.lang.font.height,click:n.context.createInvokeHandler("editor.lineHeight")})]).render()}),this.context.memo("button.table",function(){return n.ui.buttonGroup([n.button({className:"dropdown-toggle",contents:n.ui.dropdownButtonContents(n.ui.icon(n.options.icons.table),n.options),tooltip:n.lang.table.table,data:{toggle:"dropdown"}}),n.ui.dropdown({title:n.lang.table.table,className:"note-table",items:['<div class="note-dimension-picker">','  <div class="note-dimension-picker-mousecatcher" data-event="insertTable" data-value="1x1"/>','  <div class="note-dimension-picker-highlighted"/>','  <div class="note-dimension-picker-unhighlighted"/>',"</div>",'<div class="note-dimension-display">1 x 1</div>'].join("")})],{callback:function(t){t.find(".note-dimension-picker-mousecatcher").css({width:n.options.insertTableMaxSize.col+"em",height:n.options.insertTableMaxSize.row+"em"}).mousedown(n.context.createInvokeHandler("editor.insertTable")).on("mousemove",n.tableMoveHandler.bind(n))}}).render()}),this.context.memo("button.link",function(){return n.button({contents:n.ui.icon(n.options.icons.link),tooltip:n.lang.link.link+n.representShortcut("linkDialog.show"),click:n.context.createInvokeHandler("linkDialog.show")}).render()}),this.context.memo("button.picture",function(){return n.button({contents:n.ui.icon(n.options.icons.picture),tooltip:n.lang.image.image,click:n.context.createInvokeHandler("imageDialog.show")}).render()}),this.context.memo("button.video",function(){return n.button({contents:n.ui.icon(n.options.icons.video),tooltip:n.lang.video.video,click:n.context.createInvokeHandler("videoDialog.show")}).render()}),this.context.memo("button.hr",function(){return n.button({contents:n.ui.icon(n.options.icons.minus),tooltip:n.lang.hr.insert+n.representShortcut("insertHorizontalRule"),click:n.context.createInvokeHandler("editor.insertHorizontalRule")}).render()}),this.context.memo("button.fullscreen",function(){return n.button({className:"btn-fullscreen",contents:n.ui.icon(n.options.icons.arrowsAlt),tooltip:n.lang.options.fullscreen,click:n.context.createInvokeHandler("fullscreen.toggle")}).render()}),this.context.memo("button.codeview",function(){return n.button({className:"btn-codeview",contents:n.ui.icon(n.options.icons.code),tooltip:n.lang.options.codeview,click:n.context.createInvokeHandler("codeview.toggle")}).render()}),this.context.memo("button.redo",function(){return n.button({contents:n.ui.icon(n.options.icons.redo),tooltip:n.lang.history.redo+n.representShortcut("redo"),click:n.context.createInvokeHandler("editor.redo")}).render()}),this.context.memo("button.undo",function(){return n.button({contents:n.ui.icon(n.options.icons.undo),tooltip:n.lang.history.undo+n.representShortcut("undo"),click:n.context.createInvokeHandler("editor.undo")}).render()}),this.context.memo("button.help",function(){return n.button({contents:n.ui.icon(n.options.icons.question),tooltip:n.lang.options.help,click:n.context.createInvokeHandler("helpDialog.show")}).render()})},xe.prototype.addImagePopoverButtons=function(){var t=this;this.context.memo("button.resizeFull",function(){return t.button({contents:'<span class="note-fontsize-10">100%</span>',tooltip:t.lang.image.resizeFull,click:t.context.createInvokeHandler("editor.resize","1")}).render()}),this.context.memo("button.resizeHalf",function(){return t.button({contents:'<span class="note-fontsize-10">50%</span>',tooltip:t.lang.image.resizeHalf,click:t.context.createInvokeHandler("editor.resize","0.5")}).render()}),this.context.memo("button.resizeQuarter",function(){return t.button({contents:'<span class="note-fontsize-10">25%</span>',tooltip:t.lang.image.resizeQuarter,click:t.context.createInvokeHandler("editor.resize","0.25")}).render()}),this.context.memo("button.resizeNone",function(){return t.button({contents:t.ui.icon(t.options.icons.rollback),tooltip:t.lang.image.resizeNone,click:t.context.createInvokeHandler("editor.resize","0")}).render()}),this.context.memo("button.floatLeft",function(){return t.button({contents:t.ui.icon(t.options.icons.floatLeft),tooltip:t.lang.image.floatLeft,click:t.context.createInvokeHandler("editor.floatMe","left")}).render()}),this.context.memo("button.floatRight",function(){return t.button({contents:t.ui.icon(t.options.icons.floatRight),tooltip:t.lang.image.floatRight,click:t.context.createInvokeHandler("editor.floatMe","right")}).render()}),this.context.memo("button.floatNone",function(){return t.button({contents:t.ui.icon(t.options.icons.rollback),tooltip:t.lang.image.floatNone,click:t.context.createInvokeHandler("editor.floatMe","none")}).render()}),this.context.memo("button.removeMedia",function(){return t.button({contents:t.ui.icon(t.options.icons.trash),tooltip:t.lang.image.remove,click:t.context.createInvokeHandler("editor.removeMedia")}).render()})},xe.prototype.addLinkPopoverButtons=function(){var t=this;this.context.memo("button.linkDialogShow",function(){return t.button({contents:t.ui.icon(t.options.icons.link),tooltip:t.lang.link.edit,click:t.context.createInvokeHandler("linkDialog.show")}).render()}),this.context.memo("button.unlink",function(){return t.button({contents:t.ui.icon(t.options.icons.unlink),tooltip:t.lang.link.unlink,click:t.context.createInvokeHandler("editor.unlink")}).render()})},xe.prototype.addTablePopoverButtons=function(){var t=this;this.context.memo("button.addRowUp",function(){return t.button({className:"btn-md",contents:t.ui.icon(t.options.icons.rowAbove),tooltip:t.lang.table.addRowAbove,click:t.context.createInvokeHandler("editor.addRow","top")}).render()}),this.context.memo("button.addRowDown",function(){return t.button({className:"btn-md",contents:t.ui.icon(t.options.icons.rowBelow),tooltip:t.lang.table.addRowBelow,click:t.context.createInvokeHandler("editor.addRow","bottom")}).render()}),this.context.memo("button.addColLeft",function(){return t.button({className:"btn-md",contents:t.ui.icon(t.options.icons.colBefore),tooltip:t.lang.table.addColLeft,click:t.context.createInvokeHandler("editor.addCol","left")}).render()}),this.context.memo("button.addColRight",function(){return t.button({className:"btn-md",contents:t.ui.icon(t.options.icons.colAfter),tooltip:t.lang.table.addColRight,click:t.context.createInvokeHandler("editor.addCol","right")}).render()}),this.context.memo("button.deleteRow",function(){return t.button({className:"btn-md",contents:t.ui.icon(t.options.icons.rowRemove),tooltip:t.lang.table.delRow,click:t.context.createInvokeHandler("editor.deleteRow")}).render()}),this.context.memo("button.deleteCol",function(){return t.button({className:"btn-md",contents:t.ui.icon(t.options.icons.colRemove),tooltip:t.lang.table.delCol,click:t.context.createInvokeHandler("editor.deleteCol")}).render()}),this.context.memo("button.deleteTable",function(){return t.button({className:"btn-md",contents:t.ui.icon(t.options.icons.trash),tooltip:t.lang.table.delTable,click:t.context.createInvokeHandler("editor.deleteTable")}).render()})},xe.prototype.build=function(t,e){for(var o=0,n=e.length;o<n;o++){for(var i=e[o],r=Array.isArray(i)?i[0]:i,a=Array.isArray(i)?1===i.length?[i[0]]:i[1]:[i],s=this.ui.buttonGroup({className:"note-"+r}).render(),l=0,c=a.length;l<c;l++){var d=this.context.memo("button."+a[l]);d&&s.append("function"==typeof d?d():d)}s.appendTo(t)}},xe.prototype.updateCurrentStyle=function(t){var n=this,e=t||this.$toolbar,o=this.context.invoke("editor.currentStyle");if(this.updateBtnStates(e,{".note-btn-bold":function(){return"bold"===o["font-bold"]},".note-btn-italic":function(){return"italic"===o["font-italic"]},".note-btn-underline":function(){return"underline"===o["font-underline"]},".note-btn-subscript":function(){return"subscript"===o["font-subscript"]},".note-btn-superscript":function(){return"superscript"===o["font-superscript"]},".note-btn-strikethrough":function(){return"strikethrough"===o["font-strikethrough"]}}),o["font-family"]){var i=o["font-family"].split(",").map(function(t){return t.replace(/[\'\"]/g,"").replace(/\s+$/,"").replace(/^\s+/,"")}),r=z.find(i,this.isFontInstalled.bind(this));e.find(".dropdown-fontname a").each(function(t,e){var o=w(e),n=o.data("value")+""==r+"";o.toggleClass("checked",n)}),e.find(".note-current-fontname").text(r).css("font-family",r)}if(o["font-size"]){var a=o["font-size"];e.find(".dropdown-fontsize a").each(function(t,e){var o=w(e),n=o.data("value")+""==a+"";o.toggleClass("checked",n)}),e.find(".note-current-fontsize").text(a)}if(o["line-height"]){var s=o["line-height"];e.find(".dropdown-line-height li a").each(function(t,e){var o=w(e).data("value")+""==s+"";n.className=o?"checked":""})}},xe.prototype.updateBtnStates=function(o,t){var n=this;w.each(t,function(t,e){n.ui.toggleBtnActive(o.find(t),e())})},xe.prototype.tableMoveHandler=function(t){var e,o=w(t.target.parentNode),n=o.next(),i=o.find(".note-dimension-picker-mousecatcher"),r=o.find(".note-dimension-picker-highlighted"),a=o.find(".note-dimension-picker-unhighlighted");if(void 0===t.offsetX){var s=w(t.target).offset();e={x:t.pageX-s.left,y:t.pageY-s.top}}else e={x:t.offsetX,y:t.offsetY};var l=Math.ceil(e.x/18)||1,c=Math.ceil(e.y/18)||1;r.css({width:l+"em",height:c+"em"}),i.data("value",l+"x"+c),3<l&&l<this.options.insertTableMaxSize.col&&a.css({width:l+1+"em"}),3<c&&c<this.options.insertTableMaxSize.row&&a.css({height:c+1+"em"}),n.html(l+" x "+c)},xe);function xe(t){this.ui=w.summernote.ui,this.context=t,this.$toolbar=t.layoutInfo.toolbar,this.options=t.options,this.lang=this.options.langInfo,this.invertedKeyMap=M.invertObject(this.options.keyMap[L.isMac?"mac":"pc"])}var we=(Ce.prototype.shouldInitialize=function(){return!this.options.airMode},Ce.prototype.initialize=function(){var t=this;this.options.toolbar=this.options.toolbar||[],this.options.toolbar.length?this.context.invoke("buttons.build",this.$toolbar,this.options.toolbar):this.$toolbar.hide(),this.options.toolbarContainer&&this.$toolbar.appendTo(this.options.toolbarContainer),this.changeContainer(!1),this.$note.on("summernote.keyup summernote.mouseup summernote.change",function(){t.context.invoke("buttons.updateCurrentStyle")}),this.context.invoke("buttons.updateCurrentStyle"),this.options.followingToolbar&&this.$window.on("scroll resize",this.followScroll)},Ce.prototype.destroy=function(){this.$toolbar.children().remove(),this.options.followingToolbar&&this.$window.off("scroll resize",this.followScroll)},Ce.prototype.followScroll=function(){if(this.$editor.hasClass("fullscreen"))return!1;var t=this.$editor.outerHeight(),e=this.$editor.width(),o=this.$toolbar.height(),n=this.$statusbar.height(),i=0;this.options.otherStaticBar&&(i=w(this.options.otherStaticBar).outerHeight());var r=this.$document.scrollTop(),a=this.$editor.offset().top,s=a-i,l=a+t-i-o-n;!this.isFollowing&&s<r&&r<l-o?(this.isFollowing=!0,this.$toolbar.css({position:"fixed",top:i,width:e}),this.$editable.css({marginTop:this.$toolbar.height()+5})):this.isFollowing&&(r<s||l<r)&&(this.isFollowing=!1,this.$toolbar.css({position:"relative",top:0,width:"100%"}),this.$editable.css({marginTop:""}))},Ce.prototype.changeContainer=function(t){t?this.$toolbar.prependTo(this.$editor):this.options.toolbarContainer&&this.$toolbar.appendTo(this.options.toolbarContainer),this.followScroll()},Ce.prototype.updateFullscreen=function(t){this.ui.toggleBtnActive(this.$toolbar.find(".btn-fullscreen"),t),this.changeContainer(t)},Ce.prototype.updateCodeview=function(t){this.ui.toggleBtnActive(this.$toolbar.find(".btn-codeview"),t),t?this.deactivate():this.activate()},Ce.prototype.activate=function(t){var e=this.$toolbar.find("button");t||(e=e.not(".btn-codeview")),this.ui.toggleBtn(e,!0)},Ce.prototype.deactivate=function(t){var e=this.$toolbar.find("button");t||(e=e.not(".btn-codeview")),this.ui.toggleBtn(e,!1)},Ce);function Ce(t){this.context=t,this.$window=w(window),this.$document=w(document),this.ui=w.summernote.ui,this.$note=t.layoutInfo.note,this.$editor=t.layoutInfo.editor,this.$toolbar=t.layoutInfo.toolbar,this.$editable=t.layoutInfo.editable,this.$statusbar=t.layoutInfo.statusbar,this.options=t.options,this.isFollowing=!1,this.followScroll=this.followScroll.bind(this)}var ke=(Se.prototype.initialize=function(){var t=this.options.dialogsInBody?this.$body:this.$editor,e=['<div class="form-group note-form-group">','<label class="note-form-label">'+this.lang.link.textToDisplay+"</label>",'<input class="note-link-text form-control note-form-control note-input" type="text" />',"</div>",'<div class="form-group note-form-group">','<label class="note-form-label">'+this.lang.link.url+"</label>",'<input class="note-link-url form-control note-form-control note-input" type="text" value="http://" />',"</div>",this.options.disableLinkTarget?"":w("<div/>").append(this.ui.checkbox({className:"sn-checkbox-open-in-new-window",text:this.lang.link.openInNewWindow,checked:!0}).render()).html()].join(""),o='<input type="button" href="#" class="btn btn-primary note-btn note-btn-primary note-link-btn" value="'+this.lang.link.insert+'" disabled>';this.$dialog=this.ui.dialog({className:"link-dialog",title:this.lang.link.insert,fade:this.options.dialogsFade,body:e,footer:o}).render().appendTo(t)},Se.prototype.destroy=function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()},Se.prototype.bindEnterKey=function(t,e){t.on("keypress",function(t){t.keyCode===Ht.code.ENTER&&(t.preventDefault(),e.trigger("click"))})},Se.prototype.toggleLinkBtn=function(t,e,o){this.ui.toggleBtn(t,e.val()&&o.val())},Se.prototype.showLinkDialog=function(a){var s=this;return w.Deferred(function(e){var o=s.$dialog.find(".note-link-text"),n=s.$dialog.find(".note-link-url"),i=s.$dialog.find(".note-link-btn"),r=s.$dialog.find(".sn-checkbox-open-in-new-window input[type=checkbox]");s.ui.onDialogShown(s.$dialog,function(){s.context.triggerEvent("dialog.shown"),!a.url&&M.isValidUrl(a.text)&&(a.url=a.text),o.on("input paste propertychange",function(){a.text=o.val(),s.toggleLinkBtn(i,o,n)}).val(a.text),n.on("input paste propertychange",function(){a.text||o.val(n.val()),s.toggleLinkBtn(i,o,n)}).val(a.url),L.isSupportTouch||n.trigger("focus"),s.toggleLinkBtn(i,o,n),s.bindEnterKey(n,i),s.bindEnterKey(o,i);var t=void 0!==a.isNewWindow?a.isNewWindow:s.context.options.linkTargetBlank;r.prop("checked",t),i.one("click",function(t){t.preventDefault(),e.resolve({range:a.range,url:n.val(),text:o.val(),isNewWindow:r.is(":checked")}),s.ui.hideDialog(s.$dialog)})}),s.ui.onDialogHidden(s.$dialog,function(){o.off(),n.off(),i.off(),"pending"===e.state()&&e.reject()}),s.ui.showDialog(s.$dialog)}).promise()},Se.prototype.show=function(){var e=this,t=this.context.invoke("editor.getLinkInfo");this.context.invoke("editor.saveRange"),this.showLinkDialog(t).then(function(t){e.context.invoke("editor.restoreRange"),e.context.invoke("editor.createLink",t)}).fail(function(){e.context.invoke("editor.restoreRange")})},Se);function Se(t){this.context=t,this.ui=w.summernote.ui,this.$body=w(document.body),this.$editor=t.layoutInfo.editor,this.options=t.options,this.lang=this.options.langInfo,t.memo("help.linkDialog.show",this.options.langInfo.help["linkDialog.show"])}var Te=(Ee.prototype.shouldInitialize=function(){return!z.isEmpty(this.options.popover.link)},Ee.prototype.initialize=function(){this.$popover=this.ui.popover({className:"note-link-popover",callback:function(t){t.find(".popover-content,.note-popover-content").prepend('<span><a target="_blank"></a>&nbsp;</span>')}}).render().appendTo(this.options.container);var t=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",t,this.options.popover.link)},Ee.prototype.destroy=function(){this.$popover.remove()},Ee.prototype.update=function(){if(this.context.invoke("editor.hasFocus")){var t=this.context.invoke("editor.getLastRange");if(t.isCollapsed()&&t.isOnAnchor()){var e=It.ancestor(t.sc,It.isAnchor),o=w(e).attr("href");this.$popover.find("a").attr("href",o).html(o);var n=It.posFromPlaceholder(e);this.$popover.css({display:"block",left:n.left,top:n.top})}else this.hide()}else this.hide()},Ee.prototype.hide=function(){this.$popover.hide()},Ee);function Ee(t){var e=this;this.context=t,this.ui=w.summernote.ui,this.options=t.options,this.events={"summernote.keyup summernote.mouseup summernote.change summernote.scroll":function(){e.update()},"summernote.disable summernote.dialog.shown":function(){e.hide()}}}var $e=(Ie.prototype.initialize=function(){var t=this.options.dialogsInBody?this.$body:this.$editor,e="";if(this.options.maximumImageFileSize){var o=Math.floor(Math.log(this.options.maximumImageFileSize)/Math.log(1024)),n=1*(this.options.maximumImageFileSize/Math.pow(1024,o)).toFixed(2)+" "+" KMGTP"[o]+"B";e="<small>"+this.lang.image.maximumFileSize+" : "+n+"</small>"}var i=['<div class="form-group note-form-group note-group-select-from-files">','<label class="note-form-label">'+this.lang.image.selectFromFiles+"</label>",'<input class="note-image-input form-control-file note-form-control note-input" ',' type="file" name="files" accept="image/*" multiple="multiple" />',e,"</div>",'<div class="form-group note-group-image-url" style="overflow:auto;">','<label class="note-form-label">'+this.lang.image.url+"</label>",'<input class="note-image-url form-control note-form-control note-input ',' col-md-12" type="text" />',"</div>"].join(""),r='<input type="button" href="#" class="btn btn-primary note-btn note-btn-primary note-image-btn" value="'+this.lang.image.insert+'" disabled>';this.$dialog=this.ui.dialog({title:this.lang.image.insert,fade:this.options.dialogsFade,body:i,footer:r}).render().appendTo(t)},Ie.prototype.destroy=function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()},Ie.prototype.bindEnterKey=function(t,e){t.on("keypress",function(t){t.keyCode===Ht.code.ENTER&&(t.preventDefault(),e.trigger("click"))})},Ie.prototype.show=function(){var e=this;this.context.invoke("editor.saveRange"),this.showImageDialog().then(function(t){e.ui.hideDialog(e.$dialog),e.context.invoke("editor.restoreRange"),"string"==typeof t?e.options.callbacks.onImageLinkInsert?e.context.triggerEvent("image.link.insert",t):e.context.invoke("editor.insertImage",t):e.context.invoke("editor.insertImagesOrCallback",t)}).fail(function(){e.context.invoke("editor.restoreRange")})},Ie.prototype.showImageDialog=function(){var i=this;return w.Deferred(function(e){var t=i.$dialog.find(".note-image-input"),o=i.$dialog.find(".note-image-url"),n=i.$dialog.find(".note-image-btn");i.ui.onDialogShown(i.$dialog,function(){i.context.triggerEvent("dialog.shown"),t.replaceWith(t.clone().on("change",function(t){e.resolve(t.target.files||t.target.value)}).val("")),o.on("input paste propertychange",function(){i.ui.toggleBtn(n,o.val())}).val(""),L.isSupportTouch||o.trigger("focus"),n.click(function(t){t.preventDefault(),e.resolve(o.val())}),i.bindEnterKey(o,n)}),i.ui.onDialogHidden(i.$dialog,function(){t.off(),o.off(),n.off(),"pending"===e.state()&&e.reject()}),i.ui.showDialog(i.$dialog)})},Ie);function Ie(t){this.context=t,this.ui=w.summernote.ui,this.$body=w(document.body),this.$editor=t.layoutInfo.editor,this.options=t.options,this.lang=this.options.langInfo}var Pe=(Ne.prototype.shouldInitialize=function(){return!z.isEmpty(this.options.popover.image)},Ne.prototype.initialize=function(){this.$popover=this.ui.popover({className:"note-image-popover"}).render().appendTo(this.options.container);var t=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",t,this.options.popover.image)},Ne.prototype.destroy=function(){this.$popover.remove()},Ne.prototype.update=function(t,e){if(It.isImg(t)){var o=It.posFromPlaceholder(t),n=It.posFromPlaceholder(this.editable);this.$popover.css({display:"block",left:this.options.popatmouse?e.pageX-20:o.left,top:this.options.popatmouse?e.pageY:Math.min(o.top,n.top)})}else this.hide()},Ne.prototype.hide=function(){this.$popover.hide()},Ne);function Ne(t){var e=this;this.context=t,this.ui=w.summernote.ui,this.editable=t.layoutInfo.editable[0],this.options=t.options,this.events={"summernote.disable":function(){e.hide()}}}var Le=(Ae.prototype.shouldInitialize=function(){return!z.isEmpty(this.options.popover.table)},Ae.prototype.initialize=function(){this.$popover=this.ui.popover({className:"note-table-popover"}).render().appendTo(this.options.container);var t=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",t,this.options.popover.table),L.isFF&&document.execCommand("enableInlineTableEditing",!1,!1)},Ae.prototype.destroy=function(){this.$popover.remove()},Ae.prototype.update=function(t){if(this.context.isDisabled())return!1;var e=It.isCell(t);if(e){var o=It.posFromPlaceholder(t);this.$popover.css({display:"block",left:o.left,top:o.top})}else this.hide();return e},Ae.prototype.hide=function(){this.$popover.hide()},Ae);function Ae(t){var o=this;this.context=t,this.ui=w.summernote.ui,this.options=t.options,this.events={"summernote.mousedown":function(t,e){o.update(e.target)},"summernote.keyup summernote.scroll summernote.change":function(){o.update()},"summernote.disable":function(){o.hide()}}}var Me=(Re.prototype.initialize=function(){var t=this.options.dialogsInBody?this.$body:this.$editor,e=['<div class="form-group note-form-group row-fluid">','<label class="note-form-label">'+this.lang.video.url+' <small class="text-muted">'+this.lang.video.providers+"</small></label>",'<input class="note-video-url form-control note-form-control note-input" type="text" />',"</div>"].join(""),o='<input type="button" href="#" class="btn btn-primary note-btn note-btn-primary note-video-btn" value="'+this.lang.video.insert+'" disabled>';this.$dialog=this.ui.dialog({title:this.lang.video.insert,fade:this.options.dialogsFade,body:e,footer:o}).render().appendTo(t)},Re.prototype.destroy=function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()},Re.prototype.bindEnterKey=function(t,e){t.on("keypress",function(t){t.keyCode===Ht.code.ENTER&&(t.preventDefault(),e.trigger("click"))})},Re.prototype.createVideoNode=function(t){var e,o=t.match(/\/\/(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))([\w|-]{11})(?:(?:[\?&]t=)(\S+))?$/),n=t.match(/(?:www\.|\/\/)instagram\.com\/p\/(.[a-zA-Z0-9_-]*)/),i=t.match(/\/\/vine\.co\/v\/([a-zA-Z0-9]+)/),r=t.match(/\/\/(player\.)?vimeo\.com\/([a-z]*\/)*(\d+)[?]?.*/),a=t.match(/.+dailymotion.com\/(video|hub)\/([^_]+)[^#]*(#video=([^_&]+))?/),s=t.match(/\/\/v\.youku\.com\/v_show\/id_(\w+)=*\.html/),l=t.match(/\/\/v\.qq\.com.*?vid=(.+)/),c=t.match(/\/\/v\.qq\.com\/x?\/?(page|cover).*?\/([^\/]+)\.html\??.*/),d=t.match(/^.+.(mp4|m4v)$/),u=t.match(/^.+.(ogg|ogv)$/),h=t.match(/^.+.(webm)$/),p=t.match(/(?:www\.|\/\/)facebook\.com\/([^\/]+)\/videos\/([0-9]+)/);if(o&&11===o[1].length){var f=o[1],m=0;if(void 0!==o[2]){var g=o[2].match(/^(?:(\d+)h)?(?:(\d+)m)?(?:(\d+)s)?$/);if(g)for(var v=[3600,60,1],b=0,y=v.length;b<y;b++)m+=void 0!==g[b+1]?v[b]*parseInt(g[b+1],10):0}e=w("<iframe>").attr("frameborder",0).attr("src","//www.youtube.com/embed/"+f+(0<m?"?start="+m:"")).attr("width","640").attr("height","360")}else if(n&&n[0].length)e=w("<iframe>").attr("frameborder",0).attr("src","https://instagram.com/p/"+n[1]+"/embed/").attr("width","612").attr("height","710").attr("scrolling","no").attr("allowtransparency","true");else if(i&&i[0].length)e=w("<iframe>").attr("frameborder",0).attr("src",i[0]+"/embed/simple").attr("width","600").attr("height","600").attr("class","vine-embed");else if(r&&r[3].length)e=w("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("src","//player.vimeo.com/video/"+r[3]).attr("width","640").attr("height","360");else if(a&&a[2].length)e=w("<iframe>").attr("frameborder",0).attr("src","//www.dailymotion.com/embed/video/"+a[2]).attr("width","640").attr("height","360");else if(s&&s[1].length)e=w("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("height","498").attr("width","510").attr("src","//player.youku.com/embed/"+s[1]);else if(l&&l[1].length||c&&c[2].length){var x=l&&l[1].length?l[1]:c[2];e=w("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("height","310").attr("width","500").attr("src","http://v.qq.com/iframe/player.html?vid="+x+"&amp;auto=0")}else if(d||u||h)e=w("<video controls>").attr("src",t).attr("width","640").attr("height","360");else{if(!p||!p[0].length)return!1;e=w("<iframe>").attr("frameborder",0).attr("src","https://www.facebook.com/plugins/video.php?href="+encodeURIComponent(p[0])+"&show_text=0&width=560").attr("width","560").attr("height","301").attr("scrolling","no").attr("allowtransparency","true")}return e.addClass("note-video-clip"),e[0]},Re.prototype.show=function(){var o=this,t=this.context.invoke("editor.getSelectedText");this.context.invoke("editor.saveRange"),this.showVideoDialog(t).then(function(t){o.ui.hideDialog(o.$dialog),o.context.invoke("editor.restoreRange");var e=o.createVideoNode(t);e&&o.context.invoke("editor.insertNode",e)}).fail(function(){o.context.invoke("editor.restoreRange")})},Re.prototype.showVideoDialog=function(t){var n=this;return w.Deferred(function(e){var o=n.$dialog.find(".note-video-url"),t=n.$dialog.find(".note-video-btn");n.ui.onDialogShown(n.$dialog,function(){n.context.triggerEvent("dialog.shown"),o.on("input paste propertychange",function(){n.ui.toggleBtn(t,o.val())}),L.isSupportTouch||o.trigger("focus"),t.click(function(t){t.preventDefault(),e.resolve(o.val())}),n.bindEnterKey(o,t)}),n.ui.onDialogHidden(n.$dialog,function(){o.off(),t.off(),"pending"===e.state()&&e.reject()}),n.ui.showDialog(n.$dialog)})},Re);function Re(t){this.context=t,this.ui=w.summernote.ui,this.$body=w(document.body),this.$editor=t.layoutInfo.editor,this.options=t.options,this.lang=this.options.langInfo}var De=(Fe.prototype.initialize=function(){var t=this.options.dialogsInBody?this.$body:this.$editor,e=['<p class="text-center">','<a href="http://summernote.org/" target="_blank">Summernote 0.8.12</a> Â· ','<a href="https://github.com/summernote/summernote" target="_blank">Project</a> Â· ','<a href="https://github.com/summernote/summernote/issues" target="_blank">Issues</a>',"</p>"].join("");this.$dialog=this.ui.dialog({title:this.lang.options.help,fade:this.options.dialogsFade,body:this.createShortcutList(),footer:e,callback:function(t){t.find(".modal-body,.note-modal-body").css({"max-height":300,overflow:"scroll"})}}).render().appendTo(t)},Fe.prototype.destroy=function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()},Fe.prototype.createShortcutList=function(){var n=this,i=this.options.keyMap[L.isMac?"mac":"pc"];return Object.keys(i).map(function(t){var e=i[t],o=w('<div><div class="help-list-item"/></div>');return o.append(w("<label><kbd>"+t+"</kdb></label>").css({width:180,"margin-right":10})).append(w("<span/>").html(n.context.memo("help."+e)||e)),o.html()}).join("")},Fe.prototype.showHelpDialog=function(){var e=this;return w.Deferred(function(t){e.ui.onDialogShown(e.$dialog,function(){e.context.triggerEvent("dialog.shown"),t.resolve()}),e.ui.showDialog(e.$dialog)}).promise()},Fe.prototype.show=function(){var t=this;this.context.invoke("editor.saveRange"),this.showHelpDialog().then(function(){t.context.invoke("editor.restoreRange")})},Fe);function Fe(t){this.context=t,this.ui=w.summernote.ui,this.$body=w(document.body),this.$editor=t.layoutInfo.editor,this.options=t.options,this.lang=this.options.langInfo}var He=(ze.prototype.shouldInitialize=function(){return this.options.airMode&&!z.isEmpty(this.options.popover.air)},ze.prototype.initialize=function(){this.$popover=this.ui.popover({className:"note-air-popover"}).render().appendTo(this.options.container);var t=this.$popover.find(".popover-content");this.context.invoke("buttons.build",t,this.options.popover.air)},ze.prototype.destroy=function(){this.$popover.remove()},ze.prototype.update=function(){var t=this.context.invoke("editor.currentStyle");if(t.range&&!t.range.isCollapsed()){var e=z.last(t.range.getClientRects());if(e){var o=M.rect2bnd(e);this.$popover.css({display:"block",left:Math.max(o.left+o.width/2,0)-20,top:o.top+o.height}),this.context.invoke("buttons.updateCurrentStyle",this.$popover)}}else this.hide()},ze.prototype.hide=function(){this.$popover.hide()},ze);function ze(t){var o=this;this.context=t,this.ui=w.summernote.ui,this.options=t.options,this.events={"summernote.keyup summernote.mouseup summernote.scroll":function(){o.update()},"summernote.disable summernote.change summernote.dialog.shown":function(){o.hide()},"summernote.focusout":function(t,e){L.isFF||e.relatedTarget&&It.ancestor(e.relatedTarget,M.eq(o.$popover[0]))||o.hide()}}}var Be=(Oe.prototype.shouldInitialize=function(){return 0<this.hints.length},Oe.prototype.initialize=function(){var e=this;this.lastWordRange=null,this.$popover=this.ui.popover({className:"note-hint-popover",hideArrow:!0,direction:""}).render().appendTo(this.options.container),this.$popover.hide(),this.$content=this.$popover.find(".popover-content,.note-popover-content"),this.$content.on("click",".note-hint-item",function(t){e.$content.find(".active").removeClass("active"),w(t.currentTarget).addClass("active"),e.replace()})},Oe.prototype.destroy=function(){this.$popover.remove()},Oe.prototype.selectItem=function(t){this.$content.find(".active").removeClass("active"),t.addClass("active"),this.$content[0].scrollTop=t[0].offsetTop-this.$content.innerHeight()/2},Oe.prototype.moveDown=function(){var t=this.$content.find(".note-hint-item.active"),e=t.next();if(e.length)this.selectItem(e);else{var o=t.parent().next();o.length||(o=this.$content.find(".note-hint-group").first()),this.selectItem(o.find(".note-hint-item").first())}},Oe.prototype.moveUp=function(){var t=this.$content.find(".note-hint-item.active"),e=t.prev();if(e.length)this.selectItem(e);else{var o=t.parent().prev();o.length||(o=this.$content.find(".note-hint-group").last()),this.selectItem(o.find(".note-hint-item").last())}},Oe.prototype.replace=function(){var t=this.$content.find(".note-hint-item.active");if(t.length){var e=this.nodeFromItem(t);this.lastWordRange.insertNode(e),Dt.createFromNode(e).collapse().select(),this.lastWordRange=null,this.hide(),this.context.triggerEvent("change",this.$editable.html(),this.$editable[0]),this.context.invoke("editor.focus")}},Oe.prototype.nodeFromItem=function(t){var e=this.hints[t.data("index")],o=t.data("item"),n=e.content?e.content(o):o;return"string"==typeof n&&(n=It.createText(n)),n},Oe.prototype.createItemTemplates=function(n,t){var i=this.hints[n];return t.map(function(t,e){var o=w('<div class="note-hint-item"/>');return o.append(i.template?i.template(t):t+""),o.data({index:n,item:t}),o})},Oe.prototype.handleKeydown=function(t){this.$popover.is(":visible")&&(t.keyCode===Ht.code.ENTER?(t.preventDefault(),this.replace()):t.keyCode===Ht.code.UP?(t.preventDefault(),this.moveUp()):t.keyCode===Ht.code.DOWN&&(t.preventDefault(),this.moveDown()))},Oe.prototype.searchKeyword=function(t,e,o){var n=this.hints[t];if(n&&n.match.test(e)&&n.search){var i=n.match.exec(e);n.search(i[1],o)}else o()},Oe.prototype.createGroup=function(e,t){var o=this,n=w('<div class="note-hint-group note-hint-group-'+e+'"/>');return this.searchKeyword(e,t,function(t){(t=t||[]).length&&(n.html(o.createItemTemplates(e,t)),o.show())}),n},Oe.prototype.handleKeyup=function(t){var o=this;if(!z.contains([Ht.code.ENTER,Ht.code.UP,Ht.code.DOWN],t.keyCode)){var e=this.context.invoke("editor.getLastRange").getWordRange(),n=e.toString();if(this.hints.length&&n){this.$content.empty();var i=M.rect2bnd(z.last(e.getClientRects()));i&&(this.$popover.hide(),this.lastWordRange=e,this.hints.forEach(function(t,e){t.match.test(n)&&o.createGroup(e,n).appendTo(o.$content)}),this.$content.find(".note-hint-item:first").addClass("active"),"top"===this.direction?this.$popover.css({left:i.left,top:i.top-this.$popover.outerHeight()-5}):this.$popover.css({left:i.left,top:i.top+i.height+5}))}else this.hide()}},Oe.prototype.show=function(){this.$popover.show()},Oe.prototype.hide=function(){this.$popover.hide()},Oe);function Oe(t){var o=this;this.context=t,this.ui=w.summernote.ui,this.$editable=t.layoutInfo.editable,this.options=t.options,this.hint=this.options.hint||[],this.direction=this.options.hintDirection||"bottom",this.hints=Array.isArray(this.hint)?this.hint:[this.hint],this.events={"summernote.keyup":function(t,e){e.isDefaultPrevented()||o.handleKeyup(e)},"summernote.keydown":function(t,e){o.handleKeydown(e)},"summernote.disable summernote.dialog.shown":function(){o.hide()}}}w.summernote=w.extend(w.summernote,{version:"0.8.12",plugins:{},dom:It,range:Dt,options:{langInfo:w.summernote.lang["en-US"],modules:{editor:Yt,clipboard:Zt,dropzone:te,codeview:oe,statusbar:ie,fullscreen:ae,handle:le,hintPopover:Be,autoLink:ue,autoSync:pe,autoReplace:me,placeholder:ve,buttons:ye,toolbar:we,linkDialog:ke,linkPopover:Te,imageDialog:$e,imagePopover:Pe,tablePopover:Le,videoDialog:Me,helpDialog:De,airPopover:He},buttons:{},lang:"en-US",followingToolbar:!1,otherStaticBar:"",toolbar:[["style",["style"]],["font",["bold","underline","clear"]],["fontname",["fontname"]],["color",["color"]],["para",["ul","ol","paragraph"]],["table",["table"]],["insert",["link","picture","video"]],["view",["fullscreen","codeview","help"]]],popatmouse:!0,popover:{image:[["resize",["resizeFull","resizeHalf","resizeQuarter","resizeNone"]],["float",["floatLeft","floatRight","floatNone"]],["remove",["removeMedia"]]],link:[["link",["linkDialogShow","unlink"]]],table:[["add",["addRowDown","addRowUp","addColLeft","addColRight"]],["delete",["deleteRow","deleteCol","deleteTable"]]],air:[["color",["color"]],["font",["bold","underline","clear"]],["para",["ul","paragraph"]],["table",["table"]],["insert",["link","picture"]]]},airMode:!1,width:null,height:null,linkTargetBlank:!0,focus:!1,tabSize:4,styleWithSpan:!0,shortcuts:!0,textareaAutoSync:!0,hintDirection:"bottom",tooltip:"auto",container:"body",maxTextLength:0,blockquoteBreakingLevel:2,spellCheck:!0,styleTags:["p","blockquote","pre","h1","h2","h3","h4","h5","h6"],fontNames:["Arial","Arial Black","Comic Sans MS","Courier New","Helvetica Neue","Helvetica","Impact","Lucida Grande","Tahoma","Times New Roman","Verdana"],fontNamesIgnoreCheck:[],fontSizes:["8","9","10","11","12","14","18","24","36"],colors:[["#000000","#424242","#636363","#9C9C94","#CEC6CE","#EFEFEF","#F7F7F7","#FFFFFF"],["#FF0000","#FF9C00","#FFFF00","#00FF00","#00FFFF","#0000FF","#9C00FF","#FF00FF"],["#F7C6CE","#FFE7CE","#FFEFC6","#D6EFD6","#CEDEE7","#CEE7F7","#D6D6E7","#E7D6DE"],["#E79C9C","#FFC69C","#FFE79C","#B5D6A5","#A5C6CE","#9CC6EF","#B5A5D6","#D6A5BD"],["#E76363","#F7AD6B","#FFD663","#94BD7B","#73A5AD","#6BADDE","#8C7BC6","#C67BA5"],["#CE0000","#E79439","#EFC631","#6BA54A","#4A7B8C","#3984C6","#634AA5","#A54A7B"],["#9C0000","#B56308","#BD9400","#397B21","#104A5A","#085294","#311873","#731842"],["#630000","#7B3900","#846300","#295218","#083139","#003163","#21104A","#4A1031"]],colorsName:[["Black","Tundora","Dove Gray","Star Dust","Pale Slate","Gallery","Alabaster","White"],["Red","Orange Peel","Yellow","Green","Cyan","Blue","Electric Violet","Magenta"],["Azalea","Karry","Egg White","Zanah","Botticelli","Tropical Blue","Mischka","Twilight"],["Tonys Pink","Peach Orange","Cream Brulee","Sprout","Casper","Perano","Cold Purple","Careys Pink"],["Mandy","Rajah","Dandelion","Olivine","Gulf Stream","Viking","Blue Marguerite","Puce"],["Guardsman Red","Fire Bush","Golden Dream","Chelsea Cucumber","Smalt Blue","Boston Blue","Butterfly Bush","Cadillac"],["Sangria","Mai Tai","Buddha Gold","Forest Green","Eden","Venice Blue","Meteorite","Claret"],["Rosewood","Cinnamon","Olive","Parsley","Tiber","Midnight Blue","Valentino","Loulou"]],colorButton:{foreColor:"#000000",backColor:"#FFFF00"},lineHeights:["1.0","1.2","1.4","1.5","1.6","1.8","2.0","3.0"],tableClassName:"table table-bordered",insertTableMaxSize:{col:10,row:10},dialogsInBody:!1,dialogsFade:!1,maximumImageFileSize:null,callbacks:{onBeforeCommand:null,onBlur:null,onBlurCodeview:null,onChange:null,onChangeCodeview:null,onDialogShown:null,onEnter:null,onFocus:null,onImageLinkInsert:null,onImageUpload:null,onImageUploadError:null,onInit:null,onKeydown:null,onKeyup:null,onMousedown:null,onMouseup:null,onPaste:null,onScroll:null},codemirror:{mode:"text/html",htmlMode:!0,lineNumbers:!0},codeviewFilter:!1,codeviewFilterRegex:/<\/*(?:applet|b(?:ase|gsound|link)|embed|frame(?:set)?|ilayer|l(?:ayer|ink)|meta|object|s(?:cript|tyle)|t(?:itle|extarea)|xml)[^>]*?>/gi,codeviewIframeFilter:!0,codeviewIframeWhitelistSrc:[],codeviewIframeWhitelistSrcBase:["www.youtube.com","www.youtube-nocookie.com","www.facebook.com","vine.co","instagram.com","player.vimeo.com","www.dailymotion.com","player.youku.com","v.qq.com"],keyMap:{pc:{ENTER:"insertParagraph","CTRL+Z":"undo","CTRL+Y":"redo",TAB:"tab","SHIFT+TAB":"untab","CTRL+B":"bold","CTRL+I":"italic","CTRL+U":"underline","CTRL+SHIFT+S":"strikethrough","CTRL+BACKSLASH":"removeFormat","CTRL+SHIFT+L":"justifyLeft","CTRL+SHIFT+E":"justifyCenter","CTRL+SHIFT+R":"justifyRight","CTRL+SHIFT+J":"justifyFull","CTRL+SHIFT+NUM7":"insertUnorderedList","CTRL+SHIFT+NUM8":"insertOrderedList","CTRL+LEFTBRACKET":"outdent","CTRL+RIGHTBRACKET":"indent","CTRL+NUM0":"formatPara","CTRL+NUM1":"formatH1","CTRL+NUM2":"formatH2","CTRL+NUM3":"formatH3","CTRL+NUM4":"formatH4","CTRL+NUM5":"formatH5","CTRL+NUM6":"formatH6","CTRL+ENTER":"insertHorizontalRule","CTRL+K":"linkDialog.show"},mac:{ENTER:"insertParagraph","CMD+Z":"undo","CMD+SHIFT+Z":"redo",TAB:"tab","SHIFT+TAB":"untab","CMD+B":"bold","CMD+I":"italic","CMD+U":"underline","CMD+SHIFT+S":"strikethrough","CMD+BACKSLASH":"removeFormat","CMD+SHIFT+L":"justifyLeft","CMD+SHIFT+E":"justifyCenter","CMD+SHIFT+R":"justifyRight","CMD+SHIFT+J":"justifyFull","CMD+SHIFT+NUM7":"insertUnorderedList","CMD+SHIFT+NUM8":"insertOrderedList","CMD+LEFTBRACKET":"outdent","CMD+RIGHTBRACKET":"indent","CMD+NUM0":"formatPara","CMD+NUM1":"formatH1","CMD+NUM2":"formatH2","CMD+NUM3":"formatH3","CMD+NUM4":"formatH4","CMD+NUM5":"formatH5","CMD+NUM6":"formatH6","CMD+ENTER":"insertHorizontalRule","CMD+K":"linkDialog.show"}},icons:{align:"note-icon-align",alignCenter:"note-icon-align-center",alignJustify:"note-icon-align-justify",alignLeft:"note-icon-align-left",alignRight:"note-icon-align-right",rowBelow:"note-icon-row-below",colBefore:"note-icon-col-before",colAfter:"note-icon-col-after",rowAbove:"note-icon-row-above",rowRemove:"note-icon-row-remove",colRemove:"note-icon-col-remove",indent:"note-icon-align-indent",outdent:"note-icon-align-outdent",arrowsAlt:"note-icon-arrows-alt",bold:"note-icon-bold",caret:"note-icon-caret",circle:"note-icon-circle",close:"note-icon-close",code:"note-icon-code",eraser:"note-icon-eraser",floatLeft:"note-icon-float-left",floatRight:"note-icon-float-right",font:"note-icon-font",frame:"note-icon-frame",italic:"note-icon-italic",link:"note-icon-link",unlink:"note-icon-chain-broken",magic:"note-icon-magic",menuCheck:"note-icon-menu-check",minus:"note-icon-minus",orderedlist:"note-icon-orderedlist",pencil:"note-icon-pencil",picture:"note-icon-picture",question:"note-icon-question",redo:"note-icon-redo",rollback:"note-icon-rollback",square:"note-icon-square",strikethrough:"note-icon-strikethrough",subscript:"note-icon-subscript",superscript:"note-icon-superscript",table:"note-icon-table",textHeight:"note-icon-text-height",trash:"note-icon-trash",underline:"note-icon-underline",undo:"note-icon-undo",unorderedlist:"note-icon-unorderedlist",video:"note-icon-video"}}}),w.summernote=w.extend(w.summernote,{ui:y}),w.summernote.options.styleTags=["p",{title:"Blockquote",tag:"blockquote",className:"blockquote",value:"blockquote"},"pre","h1","h2","h3","h4","h5","h6"]}),function(t,e){"function"==typeof define&&define.amd?define([],function(){return e(t)}):"object"==typeof exports?module.exports=e(t):t.Mapping=e(t)}("undefined"!=typeof global?global:"undefined"!=typeof window?window:this,function(t){var e={};return e.mapElements={html:"",department:"",destination:"",from:function(t){try{return this.department=document.querySelector(t),this.html=function(t){if(document.body.contains(t))return t.parentElement.removeChild(t);throw"Element is not found"}(this.department),this}catch(t){}},to:function(t){try{return this.destination=document.querySelector(t),this}catch(t){}},use:function(t){try{switch(t){case"appendTo":this.destination.append(this.html);break;case"prependTo":this.destination.prepend(this.html);break;case"insertBefore":this.destination.parentElement.insertBefore(this.html,this.destination);break;case"insertAfter":e=this.html,(o=this.destination).parentNode.insertBefore(e,o.nextSibling)}}catch(t){}var e,o}},e}),function(t,e){"function"==typeof define&&define.amd?define([],function(){return e(t)}):"object"==typeof exports?module.exports=e(t):t.MappingListener=e(t)}("undefined"!=typeof global?global:"undefined"!=typeof window?window:this,function(n){"use strict";var i;i={breakpoint:1025};var r=function(){var o={},n=!1,t=0;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(n=arguments[0],t++);for(var e=function(t){for(var e in t)t.hasOwnProperty(e)&&(n&&"[object Object]"===Object.prototype.toString.call(t[e])?o[e]=r(o[e],t[e]):o[e]=t[e])};t<arguments.length;t++)e(arguments[t]);return o};return function(t){var e,o={switch:function(){n.matchMedia("(min-width:"+e.breakpoint+"px)").matches?Mapping.mapElements.from(e.selector).to(e.desktopWrapper).use(e.desktopMethod):Mapping.mapElements.from(e.selector).to(e.mobileWrapper).use(e.mobileMethod)},watch:function(){this.switch(),n.matchMedia("(min-width:"+e.breakpoint+"px)").addListener(o.switch)},init:function(t){e=function(t){switch(t.breakpoint){case"sm":t.breakpoint=576;break;case"md":t.breakpoint=768;break;case"lg":t.breakpoint=1025;break;case"xl":t.breakpoint=1200}return t}(e=r(i,t||{}))}};return o.init(t),o}});